<?xml version="1.0" ?>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<!-- saved from url=(0017)http://localhost/ -->
<script language="JavaScript" src="../../../displayToc.js"></script>
<script language="JavaScript" src="../../../tocParas.js"></script>
<script language="JavaScript" src="../../../tocTab.js"></script>
<link rel="stylesheet" type="text/css" href="../../../scineplex.css">
<title></title>
<link rel="stylesheet" href="../../../Active.css" type="text/css" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:support@ActiveState.com" />
</head>

<body>



<ul id="index">
  <li><a href="#NAME">NAME</a></li>
  <li><a href="#SYNOPSIS">SYNOPSIS</a></li>
  <li><a href="#REQUIRES">REQUIRES</a></li>
  <li><a href="#EXPORTS">EXPORTS</a></li>
  <li><a href="#DESCRIPTION">DESCRIPTION</a></li>
  <li><a href="#METHODS">METHODS</a>
    <ul>
      <li><a href="#primes-">primes()</a></li>
      <li><a href="#fibonacci-">fibonacci()</a></li>
      <li><a href="#hailstone-">hailstone()</a></li>
      <li><a href="#base-">base()</a></li>
      <li><a href="#to_base-">to_base()</a></li>
      <li><a href="#factorial-">factorial()</a></li>
      <li><a href="#bernoulli-">bernoulli()</a></li>
      <li><a href="#euler-">euler()</a></li>
      <li><a href="#sin-">sin()</a></li>
      <li><a href="#cos-">cos()</a></li>
      <li><a href="#tan-">tan()</a></li>
      <li><a href="#arctan-">arctan()</a></li>
      <li><a href="#arctanh-">arctanh()</a></li>
      <li><a href="#arcsin-">arcsin()</a></li>
      <li><a href="#arcsinh-">arcsinh()</a></li>
      <li><a href="#cosh-">cosh()</a></li>
      <li><a href="#sinh-">sinh()</a></li>
      <li><a href="#pi-">pi()</a></li>
      <li><a href="#log-">log()</a></li>
    </ul>
  </li>
  <li><a href="#BUGS">BUGS</a></li>
  <li><a href="#LICENSE">LICENSE</a></li>
  <li><a href="#AUTHOR">AUTHOR</a></li>
</ul>

<h1 id="NAME">NAME</h1>

<p>Math::Big - routines (cos,sin,primes,hailstone,euler,fibbonaci etc) with big numbers</p>

<h1 id="SYNOPSIS">SYNOPSIS</h1>

<pre><code><code>    <span class="keyword">use</span> <span class="variable">Math::Big</span> <span class="string">qw/primes fibonacci hailstone factors wheel
      cos sin tan euler bernoulli arctan arcsin pi/</span><span class="operator">;</span>
    
    <span class="variable">@primes</span>     <span class="operator">=</span> <span class="variable">primes</span><span class="operator">(</span><span class="number">100</span><span class="operator">);</span>          <span class="comment"># first 100 primes</span>
    <span class="variable">$prime</span>      <span class="operator">=</span> <span class="variable">primes</span><span class="operator">(</span><span class="number">100</span><span class="operator">);</span>          <span class="comment"># 100th prime</span>
    <span class="variable">@fib</span>        <span class="operator">=</span> <span class="variable">fibonacci</span> <span class="operator">(</span><span class="number">100</span><span class="operator">);</span>      <span class="comment"># first 100 fibonacci numbers</span>
    <span class="variable">$fib_1000</span>   <span class="operator">=</span> <span class="variable">fibonacci</span> <span class="operator">(</span><span class="number">1000</span><span class="operator">);</span>     <span class="comment"># 1000th fibonacci number</span>
    <span class="variable">$hailstone</span>  <span class="operator">=</span> <span class="variable">hailstone</span> <span class="operator">(</span><span class="number">1000</span><span class="operator">);</span>     <span class="comment"># length of sequence</span>
    <span class="variable">@hailstone</span>  <span class="operator">=</span> <span class="variable">hailstone</span> <span class="operator">(</span><span class="number">127</span><span class="operator">);</span>      <span class="comment"># the entire sequence</span>
    
    <span class="variable">$factorial</span>  <span class="operator">=</span> <span class="variable">factorial</span><span class="operator">(</span><span class="number">1000</span><span class="operator">);</span>      <span class="comment"># factorial 1000!</span>
     
    <span class="variable">$e</span> <span class="operator">=</span> <span class="variable">euler</span><span class="operator">(</span><span class="number">1</span><span class="operator">,</span><span class="number">64</span><span class="operator">);</span>                   <span class="comment"># e to 64 digits</span>
    
    <span class="variable">$b3</span> <span class="operator">=</span> <span class="variable">bernoulli</span><span class="operator">(</span><span class="number">3</span><span class="operator">);</span>
    
    <span class="variable">$cos</span>        <span class="operator">=</span> <span class="keyword">cos</span><span class="operator">(</span><span class="number">0</span><span class="operator">.</span><span class="number">5</span><span class="operator">,</span><span class="number">128</span><span class="operator">);</span>         <span class="comment"># cosinus to 128 digits</span>
    <span class="variable">$sin</span>        <span class="operator">=</span> <span class="keyword">sin</span><span class="operator">(</span><span class="number">0</span><span class="operator">.</span><span class="number">5</span><span class="operator">,</span><span class="number">128</span><span class="operator">);</span>         <span class="comment"># sinus to 128 digits</span>
    <span class="variable">$cosh</span>       <span class="operator">=</span> <span class="variable">cosh</span><span class="operator">(</span><span class="number">0</span><span class="operator">.</span><span class="number">5</span><span class="operator">,</span><span class="number">128</span><span class="operator">);</span>        <span class="comment"># cosinus hyperbolicus to 128 digits</span>
    <span class="variable">$sinh</span>       <span class="operator">=</span> <span class="variable">sinh</span><span class="operator">(</span><span class="number">0</span><span class="operator">.</span><span class="number">5</span><span class="operator">,</span><span class="number">128</span><span class="operator">);</span>        <span class="comment"># sinus hyperbolicus to 128 digits</span>
    <span class="variable">$tan</span>        <span class="operator">=</span> <span class="variable">tan</span><span class="operator">(</span><span class="number">0</span><span class="operator">.</span><span class="number">5</span><span class="operator">,</span><span class="number">128</span><span class="operator">);</span>         <span class="comment"># tangens to 128 digits</span>
    <span class="variable">$arctan</span>     <span class="operator">=</span> <span class="variable">arctan</span><span class="operator">(</span><span class="number">0</span><span class="operator">.</span><span class="number">5</span><span class="operator">,</span><span class="number">64</span><span class="operator">);</span>       <span class="comment"># arcus tangens to 64 digits</span>
    <span class="variable">$arcsin</span>     <span class="operator">=</span> <span class="variable">arcsin</span><span class="operator">(</span><span class="number">0</span><span class="operator">.</span><span class="number">5</span><span class="operator">,</span><span class="number">32</span><span class="operator">);</span>       <span class="comment"># arcus sinus to 32 digits</span>
    <span class="variable">$arcsinh</span>    <span class="operator">=</span> <span class="variable">arcsin</span><span class="operator">(</span><span class="number">0</span><span class="operator">.</span><span class="number">5</span><span class="operator">,</span><span class="number">18</span><span class="operator">);</span>       <span class="comment"># arcus sinus hyperbolicus to 18 digits</span>
    
    <span class="variable">$pi</span>         <span class="operator">=</span> <span class="variable">pi</span><span class="operator">(</span><span class="number">1024</span><span class="operator">);</span>             <span class="comment"># first 1024 digits</span>
    <span class="variable">$log</span>        <span class="operator">=</span> <span class="keyword">log</span><span class="operator">(</span><span class="number">64</span><span class="operator">,</span><span class="number">2</span><span class="operator">);</span>            <span class="comment"># $log==6, because 2**6==64</span>
    <span class="variable">$log</span>        <span class="operator">=</span> <span class="keyword">log</span><span class="operator">(</span><span class="number">100</span><span class="operator">,</span><span class="number">10</span><span class="operator">);</span>          <span class="comment"># $log==2, because 10**2==100</span>
    <span class="variable">$log</span>        <span class="operator">=</span> <span class="keyword">log</span><span class="operator">(</span><span class="number">100</span><span class="operator">);</span>             <span class="comment"># base defaults to 10: $log==2</span>
</code></code></pre>

<h1 id="REQUIRES">REQUIRES</h1>

<p>perl5.006002, Exporter, Math::BigInt, Math::BigFloat</p>

<h1 id="EXPORTS">EXPORTS</h1>

<p>Exports nothing on default, but can export <code><code>primes()</code></code>, <code><code>fibonacci()</code></code>, <code><code>hailstone()</code></code>, <code><code>bernoulli</code></code>, <code><code>euler</code></code>, <code><code>sin</code></code>, <code><code>cos</code></code>, <code><code>tan</code></code>, <code><code>cosh</code></code>, <code><code>sinh</code></code>, <code><code>arctan</code></code>, <code><code>arcsin</code></code>, <code><code>arcsinh</code></code>, <code><code>pi</code></code>, <code><code>log</code></code> and <code><code>factorial</code></code>.</p>

<h1 id="DESCRIPTION">DESCRIPTION</h1>

<p>This module contains some routines that may come in handy when you want to do some math with really, really big (or small) numbers. These are primarily examples.</p>

<h1 id="METHODS">METHODS</h1>

<h2 id="primes-"><b>primes()</b></h2>

<pre><code><code>        <span class="variable">@primes</span> <span class="operator">=</span> <span class="variable">primes</span><span class="operator">(</span><span class="variable">$n</span><span class="operator">);</span>
        <span class="variable">$primes</span> <span class="operator">=</span> <span class="variable">primes</span><span class="operator">(</span><span class="variable">$n</span><span class="operator">);</span>
</code></code></pre>

<p>Calculates all the primes below N and returns them as array. In scalar context returns the number of primes below N.</p>

<p>This uses an optimized version of the <b>Sieve of Eratosthenes</b>, which takes half of the time and half of the space, but is still O(N). Or in other words, quite slow.</p>

<h2 id="fibonacci-"><b>fibonacci()</b></h2>

<pre><code><code>        <span class="variable">@fib</span> <span class="operator">=</span> <span class="variable">fibonacci</span><span class="operator">(</span><span class="variable">$n</span><span class="operator">);</span>
        <span class="variable">$fib</span> <span class="operator">=</span> <span class="variable">fibonacci</span><span class="operator">(</span><span class="variable">$n</span><span class="operator">);</span>
</code></code></pre>

<p>Calculates the first N fibonacci numbers and returns them as array. In scalar context returns the Nth number of the Fibonacci series.</p>

<p>The scalar context version uses an ultra-fast conquer-divide style algorithm to calculate the result and is many times faster than the straightforward way of calculating the linear sum.</p>

<h2 id="hailstone-"><b>hailstone()</b></h2>

<pre><code><code>        <span class="variable">@hail</span> <span class="operator">=</span> <span class="variable">hailstone</span><span class="operator">(</span><span class="variable">$n</span><span class="operator">);</span>          <span class="comment"># sequence</span>
        <span class="variable">$hail</span> <span class="operator">=</span> <span class="variable">hailstone</span><span class="operator">(</span><span class="variable">$n</span><span class="operator">);</span>          <span class="comment"># length of sequence</span>
</code></code></pre>

<p>Calculates the <i>Hailstone</i> sequence for the number N. This sequence is defined as follows:</p>

<pre><code><code>        <span class="keyword">while</span> <span class="operator">(</span><span class="variable">N</span> <span class="operator">!=</span> <span class="number">0</span><span class="operator">)</span>
          <span class="operator">{</span>
          <span class="keyword">if</span> <span class="operator">(</span><span class="variable">N</span> <span class="variable">is</span> <span class="variable">even</span><span class="operator">)</span>
            <span class="operator">{</span>
            <span class="variable">N</span> <span class="variable">is</span> <span class="variable">N</span> <span class="operator">/</span><span class="number">2</span>
            <span class="operator">}</span>
          <span class="keyword">else</span>
            <span class="operator">{</span>
            <span class="variable">N</span> <span class="operator">=</span> <span class="variable">N</span> <span class="operator">*</span> <span class="number">3</span> <span class="operator">+</span><span class="number">1</span>
            <span class="operator">}</span>
          <span class="operator">}</span>
</code></code></pre>

<p>It is not yet proven whether for every N the sequence reaches 1, but it apparently does so. The number of steps is somewhat chaotically.</p>

<h2 id="base-"><b>base()</b></h2>

<pre><code><code>        <span class="operator">(</span><span class="variable">$n</span><span class="operator">,</span><span class="variable">$a</span><span class="operator">)</span> <span class="operator">=</span> <span class="variable">base</span><span class="operator">(</span><span class="variable">$number</span><span class="operator">,</span><span class="variable">$base</span><span class="operator">);</span>
</code></code></pre>

<p>Reduces a number to <code><code>$base</code></code> to the <code><code>$n</code></code>th power plus <code><code>$a</code></code>. Example:</p>

<pre><code><code>        <span class="keyword">use</span> <span class="variable">Math::BigInt</span> <span class="operator">:</span><span class="variable">constant</span><span class="operator">;</span>
        <span class="keyword">use</span> <span class="variable">Math::Big</span> <span class="string">qw/base/</span><span class="operator">;</span>
        
        <span class="keyword">print</span> <span class="variable">base</span> <span class="operator">(</span> <span class="number">2</span> <span class="operator">**</span> <span class="number">150</span> <span class="operator">+</span> <span class="number">42</span><span class="operator">,</span><span class="number">2</span><span class="operator">);</span>
</code></code></pre>

<p>This will print 150 and 42.</p>

<h2 id="to_base-"><b>to_base()</b></h2>

<pre><code><code>        <span class="variable">$string</span> <span class="operator">=</span> <span class="variable">to_base</span><span class="operator">(</span><span class="variable">$number</span><span class="operator">,</span><span class="variable">$base</span><span class="operator">);</span>
        
        <span class="variable">$string</span> <span class="operator">=</span> <span class="variable">to_base</span><span class="operator">(</span><span class="variable">$number</span><span class="operator">,</span><span class="variable">$base</span><span class="operator">,</span> <span class="variable">$alphabet</span><span class="operator">);</span>
</code></code></pre>

<p>Returns a string of <code><code>$number</code></code> in base <code><code>$base</code></code>. The alphabet is optional if <code><code>$base</code></code> is less or equal than 36. <code><code>$alphabet</code></code> is a string.</p>

<p>Examples:</p>

<pre><code><code>        <span class="keyword">print</span> <span class="variable">to_base</span><span class="operator">(</span><span class="number">15</span><span class="operator">,</span><span class="number">2</span><span class="operator">);</span>            <span class="comment"># 1111</span>
        <span class="keyword">print</span> <span class="variable">to_base</span><span class="operator">(</span><span class="number">15</span><span class="operator">,</span><span class="number">16</span><span class="operator">);</span>           <span class="comment"># F</span>
        <span class="keyword">print</span> <span class="variable">to_base</span><span class="operator">(</span><span class="number">31</span><span class="operator">,</span><span class="number">16</span><span class="operator">);</span>           <span class="comment"># 1F</span>
</code></code></pre>

<h2 id="factorial-"><b>factorial()</b></h2>

<pre><code><code>        <span class="variable">$n</span> <span class="operator">=</span> <span class="variable">factorial</span><span class="operator">(</span><span class="variable">$number</span><span class="operator">);</span>
</code></code></pre>

<p>Calculate <code><code>n!</code></code> for <code><code>n </code></code>= 0&gt;.</p>

<p>Uses internally Math::BigInt&#39;s bfac() method.</p>

<h2 id="bernoulli-"><b>bernoulli()</b></h2>

<pre><code><code>        <span class="variable">$b</span> <span class="operator">=</span> <span class="variable">bernoulli</span><span class="operator">(</span><span class="variable">$n</span><span class="operator">);</span>
        <span class="operator">(</span><span class="variable">$c</span><span class="operator">,</span><span class="variable">$d</span><span class="operator">)</span> <span class="operator">=</span> <span class="variable">bernoulli</span><span class="operator">(</span><span class="variable">$n</span><span class="operator">);</span>        <span class="comment"># $b = $c/$d</span>
</code></code></pre>

<p>Calculate the Nth number in the <i>Bernoulli</i> series. Only the first 40 are defined for now.</p>

<h2 id="euler-"><b>euler()</b></h2>

<pre><code><code>        <span class="variable">$e</span> <span class="operator">=</span> <span class="variable">euler</span><span class="operator">(</span><span class="variable">$x</span><span class="operator">,</span><span class="variable">$d</span><span class="operator">);</span>
</code></code></pre>

<p>Calculate <i>Euler&#39;s constant</i> to the power of $x (usual 1), to $d digits. Defaults to 1 and 42 digits.</p>

<h2 id="sin-"><b>sin()</b></h2>

<pre><code><code>        <span class="variable">$sin</span> <span class="operator">=</span> <span class="keyword">sin</span><span class="operator">(</span><span class="variable">$x</span><span class="operator">,</span><span class="variable">$d</span><span class="operator">);</span>
</code></code></pre>

<p>Calculate <i>sinus</i> of <code><code>$x</code></code>, to <code><code>$d</code></code> digits.</p>

<h2 id="cos-"><b>cos()</b></h2>

<pre><code><code>        <span class="variable">$cos</span> <span class="operator">=</span> <span class="keyword">cos</span><span class="operator">(</span><span class="variable">$x</span><span class="operator">,</span><span class="variable">$d</span><span class="operator">);</span>
</code></code></pre>

<p>Calculate <i>cosinus</i> of <code><code>$x</code></code>, to <code><code>$d</code></code> digits.</p>

<h2 id="tan-"><b>tan()</b></h2>

<pre><code><code>        <span class="variable">$tan</span> <span class="operator">=</span> <span class="variable">tan</span><span class="operator">(</span><span class="variable">$x</span><span class="operator">,</span><span class="variable">$d</span><span class="operator">);</span>
</code></code></pre>

<p>Calculate <i>tangens</i> of <code><code>$x</code></code>, to <code><code>$d</code></code> digits.</p>

<h2 id="arctan-"><b>arctan()</b></h2>

<pre><code><code>        <span class="variable">$arctan</span> <span class="operator">=</span> <span class="variable">arctan</span><span class="operator">(</span><span class="variable">$x</span><span class="operator">,</span><span class="variable">$d</span><span class="operator">);</span>
</code></code></pre>

<p>Calculate <i>arcus tangens</i> of <code><code>$x</code></code>, to <code><code>$d</code></code> digits.</p>

<h2 id="arctanh-"><b>arctanh()</b></h2>

<pre><code><code>        <span class="variable">$arctanh</span> <span class="operator">=</span> <span class="variable">arctanh</span><span class="operator">(</span><span class="variable">$x</span><span class="operator">,</span><span class="variable">$d</span><span class="operator">);</span>
</code></code></pre>

<p>Calculate <i>arcus tangens hyperbolicus</i> of <code><code>$x</code></code>, to <code><code>$d</code></code> digits.</p>

<h2 id="arcsin-"><b>arcsin()</b></h2>

<pre><code><code>        <span class="variable">$arcsin</span> <span class="operator">=</span> <span class="variable">arcsin</span><span class="operator">(</span><span class="variable">$x</span><span class="operator">,</span><span class="variable">$d</span><span class="operator">);</span>
</code></code></pre>

<p>Calculate <i>arcus sinus</i> of <code><code>$x</code></code>, to <code><code>$d</code></code> digits.</p>

<h2 id="arcsinh-"><b>arcsinh()</b></h2>

<pre><code><code>        <span class="variable">$arcsinh</span> <span class="operator">=</span> <span class="variable">arcsinh</span><span class="operator">(</span><span class="variable">$x</span><span class="operator">,</span><span class="variable">$d</span><span class="operator">);</span>
</code></code></pre>

<p>Calculate <i>arcus sinus hyperbolicus</i> of <code><code>$x</code></code>, to <code><code>$d</code></code> digits.</p>

<h2 id="cosh-"><b>cosh()</b></h2>

<pre><code><code>        <span class="variable">$cosh</span> <span class="operator">=</span> <span class="variable">cosh</span><span class="operator">(</span><span class="variable">$x</span><span class="operator">,</span><span class="variable">$d</span><span class="operator">);</span>
</code></code></pre>

<p>Calculate <i>cosinus hyperbolicus</i> of <code><code>$x</code></code>, to <code><code>$d</code></code> digits.</p>

<h2 id="sinh-"><b>sinh()</b></h2>

<pre><code><code>        <span class="variable">$sinh</span> <span class="operator">=</span> <span class="variable">sinh</span><span class="operator">(</span><span class="variable">$x</span><span class="operator">,</span><span class="variable">$d</span><span class="operator">);</span>
</code></code></pre>

<p>Calculate <i>sinus hyperbolicus</i> of $&lt;$x&gt;, to <code><code>$d</code></code> digits.</p>

<h2 id="pi-"><b>pi()</b></h2>

<pre><code><code>        <span class="variable">$pi</span> <span class="operator">=</span> <span class="variable">pi</span><span class="operator">(</span><span class="variable">$N</span><span class="operator">);</span>
</code></code></pre>

<p>The number PI to <code><code>$N</code></code> digits after the dot.</p>

<h2 id="log-"><b>log()</b></h2>

<pre><code><code>        <span class="variable">$log</span> <span class="operator">=</span> <span class="keyword">log</span><span class="operator">(</span><span class="variable">$number</span><span class="operator">,</span><span class="variable">$base</span><span class="operator">,</span><span class="variable">$A</span><span class="operator">);</span>
</code></code></pre>

<p>Calculates the logarithmn of <code><code>$number</code></code> to base <code><code>$base</code></code>, with <code><code>$A</code></code> digits accuracy and returns a new number as the result (leaving <code><code>$number</code></code> alone).</p>

<p>BigInts are promoted to BigFloats, meaning you will never get a truncated integer result like when using <code><code>Math::BigInt::blog</code></code>.</p>

<h1 id="BUGS">BUGS</h1>

<ul>

<li><p>Primes and the Fibonacci series use an array of size N and will not be able to calculate big sequences due to memory constraints.</p>

<p>The exception is fibonacci in scalar context, this is able to calculate arbitrarily big numbers in O(N) time:</p>

<pre><code><code>        <span class="keyword">use</span> <span class="variable">Math::Big</span><span class="operator">;</span>
        <span class="keyword">use</span> <span class="variable">Math::BigInt</span> <span class="string">qw/:constant/</span><span class="operator">;</span>
        
        <span class="variable">$fib</span> <span class="operator">=</span> <span class="variable">Math::Big::fibonacci</span><span class="operator">(</span> <span class="number">2</span> <span class="operator">**</span> <span class="number">320</span> <span class="operator">);</span>
</code></code></pre>

</li>
<li><p>The Bernoulli numbers are not yet calculated, but looked up in a table, which has only 40 elements. So <code><code>bernoulli($x)</code></code> with $x &gt; 42 will fail.</p>

<p>If you know of an algorithmn to calculate them, please drop me a note.</p>

</li>
</ul>

<h1 id="LICENSE">LICENSE</h1>

<p>This program is free software; you may redistribute it and/or modify it under the same terms as Perl itself.</p>

<h1 id="AUTHOR">AUTHOR</h1>

<p>If you use this module in one of your projects, then please email me. I want to hear about how my code helps you ;)</p>

<p>Quite a lot of ideas from other people, especially D. E. Knuth, have been used, thank you!</p>

<p>Tels http://bloodgate.com 2001 - 2007.</p>


</body>

</html>


