<?xml version="1.0" ?>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<!-- saved from url=(0017)http://localhost/ -->
<script language="JavaScript" src="../../../../displayToc.js"></script>
<script language="JavaScript" src="../../../../tocParas.js"></script>
<script language="JavaScript" src="../../../../tocTab.js"></script>
<link rel="stylesheet" type="text/css" href="../../../../scineplex.css">
<title></title>
<link rel="stylesheet" href="../../../../Active.css" type="text/css" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:support@ActiveState.com" />
</head>

<body>



<ul id="index">
  <li><a href="#NAME">NAME</a></li>
  <li><a href="#DESCRIPTION">DESCRIPTION</a></li>
  <li><a href="#INSTANCE-VARIABLES">INSTANCE VARIABLES</a>
    <ul>
      <li><a href="#opcodes">@opcodes</a></li>
      <li><a href="#read">read</a></li>
      <li><a href="#out">out</a></li>
      <li><a href="#t-minsize-">$t-&gt;minsize()</a></li>
    </ul>
  </li>
  <li><a href="#AUTHOR">AUTHOR</a></li>
  <li><a href="#LICENSING">LICENSING</a></li>
</ul>

<h1 id="NAME">NAME</h1>

<p>Font::TTF::Silf - The main Graphite table</p>

<h1 id="DESCRIPTION">DESCRIPTION</h1>

<p>The Silf table holds the core of the Graphite rules for a font. A Silf table has potentially multiple silf subtables, although there is usually only one. Within a silf subtable, there are a number of passes which contain the actual finite state machines to match rules and the constraint and action code to be executed when a rule matches.</p>

<h1 id="INSTANCE-VARIABLES">INSTANCE VARIABLES</h1>

<dl>

<dt id="Version">Version</dt>
<dd>

<p>Silf table format version</p>

</dd>
<dt id="Compiler">Compiler</dt>
<dd>

<p>Lowest compiler version necessary to fully support the semantics expressed in this Graphite description</p>

</dd>
<dt id="SILF">SILF</dt>
<dd>

<p>An array of Silf subtables</p>

<dl>

<dt id="maxGlyphID">maxGlyphID</dt>
<dd>

<p>The maximum glyph id referenced including pseudo and non glyphs</p>

</dd>
<dt id="Ascent">Ascent</dt>
<dd>

<p>Extra ascent to be added to the font ascent.</p>

</dd>
<dt id="Descent">Descent</dt>
<dd>

<p>Extra descent to be added to the font descent. Both values are assumed to be positive for a descender below the base line.</p>

</dd>
<dt id="substPass">substPass</dt>
<dd>

<p>Pass index into PASS of the first substitution pass.</p>

</dd>
<dt id="posPass">posPass</dt>
<dd>

<p>Pass index into PASS of the first positioning pass.</p>

</dd>
<dt id="justPass">justPass</dt>
<dd>

<p>Pass index into PASS of the first justification pass.</p>

</dd>
<dt id="bidiPass">bidiPass</dt>
<dd>

<p>Pass index of the pass before which the bidirectional processing pass will be executed. 0xFF indicates that there is no bidi pass to be executed.</p>

</dd>
<dt id="Flags">Flags</dt>
<dd>

<p>A bitfield of flags:</p>

<pre><code><code>    0 - Indicates there are line end contextual rules in one of the passes</code></code></pre>

</dd>
<dt id="maxPreContext">maxPreContext</dt>
<dd>

<p>Maximum length of a context preceding a cross line boundary contextualisation.</p>

</dd>
<dt id="maxPostContext">maxPostContext</dt>
<dd>

<p>Maximum length of a context following a cross line boundary contextualsation.</p>

</dd>
<dt id="attrPseudo">attrPseudo</dt>
<dd>

<p>Glyph attribute for the actual glyph id associated with a pseudo glyph.</p>

</dd>
<dt id="attrBreakWeight">attrBreakWeight</dt>
<dd>

<p>Glyph attribute number of the attribute holding the default breakweight associated with a glyph.</p>

</dd>
<dt id="attrDirectionality">attrDirectionality</dt>
<dd>

<p>Glyph attribute number of the attribute holding the default directionality value associated with a glyph.</p>

</dd>
<dt id="JUST">JUST</dt>
<dd>

<p>The may be a number of justification levels each with their own property values. This points to an array of hashes, one for each justification level.</p>

<dl>

<dt id="attrStretch">attrStretch</dt>
<dd>

<p>Glyph attribute number for the amount of stretch allowed before this glyph.</p>

</dd>
<dt id="attrShrink">attrShrink</dt>
<dd>

<p>Glyph attribute number for the amount of shrink allowed before this glyph.</p>

</dd>
<dt id="attrStep">attrStep</dt>
<dd>

<p>Glyph attribute number specifying the minimum granularity of actual spacing associated with this glyph at this level.</p>

</dd>
<dt id="attrWeight">attrWeight</dt>
<dd>

<p>Glyph attribute number giving the weight associated with spreading space across a run of glyphs.</p>

</dd>
<dt id="runto">runto</dt>
<dd>

<p>Which level starts the next stage.</p>

</dd>
</dl>

</dd>
<dt id="numLigComp">numLigComp</dt>
<dd>

<p>Number of initial glyph attributes that represent ligature components</p>

</dd>
<dt id="numUserAttr">numUserAttr</dt>
<dd>

<p>Number of user defined slot attributes referenced. Tells the engine how much space to allocate to a slot for user attributes.</p>

</dd>
<dt id="maxCompPerLig">maxCompPerLig</dt>
<dd>

<p>Maximum number of components per ligature.</p>

</dd>
<dt id="direction">direction</dt>
<dd>

<p>Supported directions for this writing system</p>

</dd>
<dt id="CRIT_FEATURE">CRIT_FEATURE</dt>
<dd>

<p>Array of critical features.</p>

</dd>
<dt id="scripts">scripts</dt>
<dd>

<p>Array of script tags that indicate which set of GDL rules to execute if there is more than one in a font.</p>

</dd>
<dt id="lbGID">lbGID</dt>
<dd>

<p>Glyph ID of the linebreak pseudo glyph.</p>

</dd>
<dt id="pseudos">pseudos</dt>
<dd>

<p>Hash of Unicode values to pseduo glyph ids.</p>

</dd>
<dt id="classes">classes</dt>
<dd>

<p>This is an array of classes, each of which is an array of glyph ids in class order.</p>

</dd>
<dt id="PASS">PASS</dt>
<dd>

<p>The details of rules and actions are stored in passes. This value is an array of pass subobjects one for each pass.</p>

<dl>

<dt id="flags">flags</dt>
<dd>

<p>This is a bitfield:</p>

<pre><code><code>    0 - If true, this pass makes no change to the slot stream considered as a sequence of glyph ids.
        Only slot attributes are expected to change (for example during positioning).</code></code></pre>

</dd>
<dt id="maxRuleLoop">maxRuleLoop</dt>
<dd>

<p>How many times the engine will allow rules to be tested and run without the engine advancing through the input slot stream.</p>

</dd>
<dt id="maxRuleContext">maxRuleContext</dt>
<dd>

<p>Number of slots of input needed to run this pass.</p>

</dd>
<dt id="maxBackup">maxBackup</dt>
<dd>

<p>Number of slots by which the following pass needs to trail this pass (i.e. the maximum this pass is allowed to back up).</p>

</dd>
<dt id="numRules">numRules</dt>
<dd>

<p>Number of action code blocks, and so uncompressed rules, in this pass.</p>

</dd>
<dt id="numRows">numRows</dt>
<dd>

<p>Number of rows in the finite state machine.</p>

</dd>
<dt id="numTransitional">numTransitional</dt>
<dd>

<p>Number of rows in the finite state machine that are not final states. This specifies the number of rows in the fsm element.</p>

</dd>
<dt id="numSuccess">numSuccess</dt>
<dd>

<p>Number of success states. A success state may also be a transitional state.</p>

</dd>
<dt id="numColumns">numColumns</dt>
<dd>

<p>Number of columns in the finite state machine.</p>

</dd>
<dt id="colmap">colmap</dt>
<dd>

<p>A hash, indexed by glyphid, that gives the fsm column number associated with that glyphid. If not present, then the glyphid is not part of the fsm and will finish fsm processing if it occurs.</p>

</dd>
<dt id="rulemap">rulemap</dt>
<dd>

<p>An array of arrays, one for each success state. Each array holds a list of rule numbers associated with that state.</p>

</dd>
<dt id="minRulePreContext">minRulePreContext</dt>
<dd>

<p>Minimum number of items in a rule&#39;s precontext.</p>

</dd>
<dt id="maxRulePreContext">maxRulePreContext</dt>
<dd>

<p>The maximum number of items in any rule&#39;s precontext.</p>

</dd>
<dt id="startStates">startStates</dt>
<dd>

<p>Array of starting state numbers dependeing on the length of actual precontext. There are maxRulePreContext - minRulePreContext + 1 of these.</p>

</dd>
<dt id="ruleSortKeys">ruleSortKeys</dt>
<dd>

<p>An array of sort keys one for each rule giving the length of the rule including its precontext.</p>

</dd>
<dt id="rulePreContexts">rulePreContexts</dt>
<dd>

<p>An array of precontext lengths for each rule.</p>

</dd>
<dt id="fsm">fsm</dt>
<dd>

<p>A two dimensional array such that $p-&gt;{&#39;fsm&#39;}[$row][$col] gives the row of the next node to try in the fsm.</p>

</dd>
<dt id="passConstraintLen">passConstraintLen</dt>
<dd>

<p>Length in bytes of the passConstraint code.</p>

</dd>
<dt id="passConstraintCode">passConstraintCode</dt>
<dd>

<p>A byte string holding the pass constraint code.</p>

</dd>
<dt id="constraintCode">constraintCode</dt>
<dd>

<p>An array of byte strings holding the constraint code for each rule.</p>

</dd>
<dt id="actionCode">actionCode</dt>
<dd>

<p>An array of byte strings holding the action code for each rule.</p>

</dd>
</dl>

</dd>
</dl>

</dd>
</dl>

<h2 id="opcodes">@opcodes</h2>

<p>Each array holds the name of the opcode, the number of operand bytes and a string describing the operands. The characters in the string have the following meaning:</p>

<pre><code><code>    c - lsb of class id
    C - msb of class id
    f - feature index
    g - lsb of glyph attribute id
    G - msb of glyph attribute id
    l - lsb of a 32-bit extension to a 16-bit number
    L - msb of a 32-bit number
    m - glyph metric id
    n - lsb of a number
    N - msb of a 16-bit number
    o - offset (jump)
    s - slot reference
    S - slot attribute id
    v - variable number of following arguments</code></code></pre>

<h2 id="read">read</h2>

<p>Reads the Silf table into the internal data structure</p>

<h2 id="out">out</h2>

<p>Outputs a Silf data structure to a font file in binary format</p>

<h2 id="t-minsize-">$t-&gt;minsize()</h2>

<p>Returns the minimum size this table can be. If it is smaller than this, then the table must be bad and should be deleted or whatever.</p>

<h1 id="AUTHOR">AUTHOR</h1>

<p>Martin Hosken <a href="http://scripts.sil.org/FontUtils">http://scripts.sil.org/FontUtils</a>.</p>

<h1 id="LICENSING">LICENSING</h1>

<p>Copyright (c) 1998-2014, SIL International (http://www.sil.org)</p>

<p>This module is released under the terms of the Artistic License 2.0. For details, see the full text of the license in the file LICENSE.</p>


</body>

</html>


