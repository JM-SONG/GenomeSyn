<?xml version="1.0" ?>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<!-- saved from url=(0017)http://localhost/ -->
<script language="JavaScript" src="../../displayToc.js"></script>
<script language="JavaScript" src="../../tocParas.js"></script>
<script language="JavaScript" src="../../tocTab.js"></script>
<link rel="stylesheet" type="text/css" href="../../scineplex.css">
<title></title>
<link rel="stylesheet" href="../../Active.css" type="text/css" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:support@ActiveState.com" />
</head>

<body>



<ul id="index">
  <li><a href="#NAME">NAME</a></li>
  <li><a href="#SYNOPSIS">SYNOPSIS</a></li>
  <li><a href="#DESCRIPTION">DESCRIPTION</a></li>
  <li><a href="#CONSTRUCTORS">CONSTRUCTORS</a>
    <ul>
      <li><a href="#stone-Stone-new-">$stone = Stone-&gt;new()</a></li>
    </ul>
  </li>
  <li><a href="#OBJECT-METHODS">OBJECT METHODS</a>
    <ul>
      <li><a href="#stone-insert-hash-">$stone-&gt;insert(%hash)</a></li>
      <li><a href="#stone-insert-hash-1">$stone-&gt;insert(\%hash)</a></li>
      <li><a href="#stone-replace-hash-">$stone-&gt;replace(%hash)</a></li>
      <li><a href="#stone-replace-hash-1">$stone-&gt;replace(\%hash)</a></li>
      <li><a href="#stone-insert_list-key-list-head2-stone-insert_hash-key-hash-head2-stone-replace_list-key-list-head2-stone-replace_hash-key-hash-">$stone-&gt;insert_list($key,@list) =head2 $stone-&gt;insert_hash($key,%hash) =head2 $stone-&gt;replace_list($key,@list) =head2 $stone-&gt;replace_hash($key,%hash)</a></li>
      <li><a href="#stone-delete-tag-">$stone-&gt;delete($tag)</a></li>
      <li><a href="#values-stone-get-tag-index-">@values = $stone-&gt;get($tag [,$index])</a></li>
      <li><a href="#values-stone-search-tag-">@values = $stone-&gt;search($tag)</a></li>
      <li><a href="#values-stone-index-indexstr-">@values = $stone-&gt;index($indexstr)</a></li>
      <li><a href="#array-stone-at-tag-">$array = $stone-&gt;at($tag)</a></li>
      <li><a href="#tags-stone-tags-">@tags = $stone-&gt;tags()</a></li>
      <li><a href="#string-stone-asTable-">$string = $stone-&gt;asTable()</a></li>
      <li><a href="#string-stone-asXML-tagname-">$string = $stone-&gt;asXML([$tagname])</a></li>
      <li><a href="#hash-stone-attributes-att_name-att_value-">$hash = $stone-&gt;attributes([$att_name, [$att_value]]])</a></li>
      <li><a href="#string-stone-toString-">$string = $stone-&gt;toString()</a></li>
      <li><a href="#string-stone-asHTML-callback-">$string = $stone-&gt;asHTML([\&amp;callback])</a></li>
      <li><a href="#Stone::dump-">Stone::dump()</a></li>
      <li><a href="#cursor-stone-cursor-">$cursor = $stone-&gt;cursor()</a></li>
    </ul>
  </li>
  <li><a href="#AUTHOR">AUTHOR</a></li>
  <li><a href="#COPYRIGHT">COPYRIGHT</a></li>
  <li><a href="#SEE-ALSO">SEE ALSO</a></li>
</ul>

<h1 id="NAME">NAME</h1>

<p>Stone - In-memory storage for hierarchical tag/value data structures</p>

<h1 id="SYNOPSIS">SYNOPSIS</h1>

<pre><code><code> <span class="keyword">use</span> <span class="variable">Stone</span><span class="operator">;</span>
 <span class="keyword">my</span> <span class="variable">$stone</span> <span class="operator">=</span> <span class="variable">Stone</span><span class="operator">-&gt;</span><span class="variable">new</span><span class="operator">(</span> <span class="string">Jim</span> <span class="operator">=&gt;</span> <span class="operator">{</span> <span class="string">First_name</span> <span class="operator">=&gt;</span> <span class="string">'James'</span><span class="operator">,</span>
                                  <span class="string">Last_name</span>  <span class="operator">=&gt;</span> <span class="string">'Hill'</span><span class="operator">,</span>
                                  <span class="string">Age</span>        <span class="operator">=&gt;</span> <span class="number">34</span><span class="operator">,</span>
                                  <span class="string">Address</span>    <span class="operator">=&gt;</span> <span class="operator">{</span>
                                         <span class="string">Street</span> <span class="operator">=&gt;</span> <span class="operator">[</span><span class="string">'The Manse'</span><span class="operator">,</span>
                                                    <span class="string">'19 Chestnut Ln'</span><span class="operator">]</span><span class="operator">,</span>
                                         <span class="string">City</span>  <span class="operator">=&gt;</span> <span class="string">'Garden City'</span><span class="operator">,</span>
                                         <span class="string">State</span> <span class="operator">=&gt;</span> <span class="string">'NY'</span><span class="operator">,</span>
                                         <span class="string">Zip</span>   <span class="operator">=&gt;</span> <span class="number">11291</span> <span class="operator">}</span>
                                <span class="operator">}</span><span class="operator">,</span>
                          <span class="string">Sally</span> <span class="operator">=&gt;</span> <span class="operator">{</span> <span class="string">First_name</span> <span class="operator">=&gt;</span> <span class="string">'Sarah'</span><span class="operator">,</span>
                                     <span class="string">Last_name</span>  <span class="operator">=&gt;</span> <span class="string">'James'</span><span class="operator">,</span>
                                     <span class="string">Age</span>        <span class="operator">=&gt;</span> <span class="number">30</span><span class="operator">,</span>
                                     <span class="string">Address</span>    <span class="operator">=&gt;</span> <span class="operator">{</span>
                                         <span class="string">Street</span> <span class="operator">=&gt;</span> <span class="string">'Hickory Street'</span><span class="operator">,</span>
                                         <span class="string">City</span>  <span class="operator">=&gt;</span> <span class="string">'Katonah'</span><span class="operator">,</span>
                                         <span class="string">State</span> <span class="operator">=&gt;</span> <span class="string">'NY'</span><span class="operator">,</span>
                                         <span class="string">Zip</span>  <span class="operator">=&gt;</span> <span class="number">10578</span> <span class="operator">}</span>
                                <span class="operator">}</span>
                         <span class="operator">);</span>
 
 <span class="variable">@tags</span>    <span class="operator">=</span> <span class="variable">$stone</span><span class="operator">-&gt;</span><span class="variable">tags</span><span class="operator">;</span>          <span class="comment"># yields ('James','Sally');</span>
 <span class="variable">$address</span> <span class="operator">=</span> <span class="variable">$stone</span><span class="operator">-&gt;</span><span class="variable">Jim</span><span class="operator">-&gt;</span><span class="variable">Address</span><span class="operator">;</span>  <span class="comment"># gets the address subtree</span>
 <span class="variable">@street</span>  <span class="operator">=</span> <span class="variable">$address</span><span class="operator">-&gt;</span><span class="variable">Street</span><span class="operator">;</span>      <span class="comment"># yeilds ('The Manse','19 Chestnut Ln')</span>
 
 <span class="variable">$address</span> <span class="operator">=</span> <span class="variable">$stone</span><span class="operator">-&gt;</span><span class="variable">get</span><span class="operator">(</span><span class="string">'Jim'</span><span class="operator">)-&gt;</span><span class="variable">get</span><span class="operator">(</span><span class="string">'Address'</span><span class="operator">);</span> <span class="comment"># same as $stone-&gt;Jim-&gt;Address</span>
 <span class="variable">$address</span> <span class="operator">=</span> <span class="variable">$stone</span><span class="operator">-&gt;</span><span class="variable">get</span><span class="operator">(</span><span class="string">'Jim.Address'</span><span class="operator">);</span> <span class="comment"># another way to express same thing</span>
 
 <span class="comment"># first Street tag in Jim's address</span>
 <span class="variable">$address</span> <span class="operator">=</span> <span class="variable">$stone</span><span class="operator">-&gt;</span><span class="variable">get</span><span class="operator">(</span><span class="string">'Jim.Address.Street[0]'</span><span class="operator">);</span> 
 <span class="comment"># second Street tag in Jim's address</span>
 <span class="variable">$address</span> <span class="operator">=</span> <span class="variable">$stone</span><span class="operator">-&gt;</span><span class="variable">get</span><span class="operator">(</span><span class="string">'Jim.Address.Street[1]'</span><span class="operator">);</span> 
 <span class="comment"># last Street tag in Jim's address</span>
 <span class="variable">$address</span> <span class="operator">=</span> <span class="variable">$stone</span><span class="operator">-&gt;</span><span class="variable">get</span><span class="operator">(</span><span class="string">'Jim.Address.Street[#]'</span><span class="operator">);</span> 
 
 <span class="comment"># insert a tag/value pair</span>
 <span class="variable">$stone</span><span class="operator">-&gt;</span><span class="variable">insert</span><span class="operator">(</span><span class="string">Martha</span> <span class="operator">=&gt;</span> <span class="operator">{</span> <span class="string">First_name</span> <span class="operator">=&gt;</span> <span class="string">'Martha'</span><span class="operator">,</span> <span class="string">Last_name</span> <span class="operator">=&gt;</span> <span class="string">'Steward'</span><span class="operator">}</span> <span class="operator">);</span>
 
 <span class="comment"># find the first Address</span>
 <span class="variable">$stone</span><span class="operator">-&gt;</span><span class="variable">search</span><span class="operator">(</span><span class="string">'Address'</span><span class="operator">);</span> 
 
 <span class="comment"># change an existing subtree</span>
 <span class="variable">$martha</span> <span class="operator">=</span> <span class="variable">$stone</span><span class="operator">-&gt;</span><span class="variable">Martha</span><span class="operator">;</span>
 <span class="variable">$martha</span><span class="operator">-&gt;</span><span class="variable">replace</span><span class="operator">(</span><span class="string">Last_name</span> <span class="operator">=&gt;</span> <span class="string">'Stewart'</span><span class="operator">);</span>  <span class="comment"># replace a value</span>
 
 <span class="comment"># iterate over the tree with a cursor</span>
 <span class="variable">$cursor</span> <span class="operator">=</span> <span class="variable">$stone</span><span class="operator">-&gt;</span><span class="variable">cursor</span><span class="operator">;</span>
 <span class="keyword">while</span> <span class="operator">(</span><span class="keyword">my</span> <span class="operator">(</span><span class="variable">$key</span><span class="operator">,</span><span class="variable">$value</span><span class="operator">)</span> <span class="operator">=</span> <span class="variable">$cursor</span><span class="operator">-&gt;</span><span class="variable">each</span><span class="operator">)</span> <span class="operator">{</span>
   <span class="keyword">print</span> <span class="string">"</span><span class="variable">$value</span><span class="string">: Go Bluejays!\n"</span> <span class="keyword">if</span> <span class="variable">$key</span> <span class="keyword">eq</span> <span class="string">'State'</span> <span class="keyword">and</span> <span class="variable">$value</span> <span class="keyword">eq</span> <span class="string">'Katonah'</span><span class="operator">;</span>
 <span class="operator">}</span>
 
 <span class="comment"># various format conversions</span>
 <span class="keyword">print</span> <span class="variable">$stone</span><span class="operator">-&gt;</span><span class="variable">asTable</span><span class="operator">;</span>
 <span class="keyword">print</span> <span class="variable">$stone</span><span class="operator">-&gt;</span><span class="variable">asString</span><span class="operator">;</span>
 <span class="keyword">print</span> <span class="variable">$stone</span><span class="operator">-&gt;</span><span class="variable">asHTML</span><span class="operator">;</span>
 <span class="keyword">print</span> <span class="variable">$stone</span><span class="operator">-&gt;</span><span class="variable">asXML</span><span class="operator">(</span><span class="string">'Person'</span><span class="operator">);</span>
</code></code></pre>

<h1 id="DESCRIPTION">DESCRIPTION</h1>

<p>A <a href="../../../.cpan/build/Boulder-1.30-1cMFjf/blib/lib/Stone.html">Stone</a> consists of a series of tag/value pairs. Any given tag may be single-valued or multivalued. A value can be another Stone, allowing nested components. A big Stone can be made up of a lot of little stones (pebbles?). You can obtain a Stone from a <a href="../../../.cpan/build/Boulder-1.30-1cMFjf/blib/lib/Boulder/Stream.html">Boulder::Stream</a> or <a href="../../../.cpan/build/Boulder-1.30-1cMFjf/blib/lib/Boulder/Store.html">Boulder::Store</a> persistent database. Alternatively you can build your own Stones bit by bit.</p>

<p>Stones can be exported into string, XML and HTML representations. In addition, they are flattened into a linearized representation when reading from or writing to a <a href="../../../.cpan/build/Boulder-1.30-1cMFjf/blib/lib/Boulder/Stream.html">Boulder::Stream</a> or one of its descendents.</p>

<p><a href="../../../.cpan/build/Boulder-1.30-1cMFjf/blib/lib/Stone.html">Stone</a> was designed for subclassing. You should be able to create subclasses which create or require particular tags and data formats. Currently only <a href="../../../.cpan/build/Boulder-1.30-1cMFjf/blib/lib/Stone/GB_Sequence.html">Stone::GB_Sequence</a> subclasses <a href="../../../.cpan/build/Boulder-1.30-1cMFjf/blib/lib/Stone.html">Stone</a>.</p>

<h1 id="CONSTRUCTORS">CONSTRUCTORS</h1>

<p>Stones are either created by calling the new() method, or by reading them from a <a href="../../../.cpan/build/Boulder-1.30-1cMFjf/blib/lib/Boulder/Stream.html">Boulder::Stream</a> or persistent database.</p>

<h2 id="stone-Stone-new-">$stone = Stone-&gt;new()</h2>

<p>This is the main constructor for the Stone class. It can be called without any parameters, in which case it creates an empty Stone object (no tags or values), or it may passed an associative array in order to initialize it with a set of tags. A tag&#39;s value may be a scalar, an anonymous array reference (constructed using [] brackets), or a hash references (constructed using {} brackets). In the first case, the tag will be single-valued. In the second, the tag will be multivalued. In the third case, a subsidiary Stone will be generated automatically and placed into the tree at the specified location.</p>

<p>Examples:</p>

<pre><code><code>        <span class="variable">$myStone</span> <span class="operator">=</span> <span class="variable">new</span> <span class="variable">Stone</span><span class="operator">;</span>
        <span class="variable">$myStone</span> <span class="operator">=</span> <span class="variable">new</span> <span class="variable">Stone</span><span class="operator">(</span><span class="string">Name</span><span class="operator">=&gt;</span><span class="string">'Fred'</span><span class="operator">,</span><span class="string">Age</span><span class="operator">=&gt;</span><span class="number">30</span><span class="operator">);</span>
        <span class="variable">$myStone</span> <span class="operator">=</span> <span class="variable">new</span> <span class="variable">Stone</span><span class="operator">(</span><span class="string">Name</span><span class="operator">=&gt;</span><span class="string">'Fred'</span><span class="operator">,</span>
                             <span class="string">Friend</span><span class="operator">=&gt;</span><span class="operator">[</span><span class="string">'Jill'</span><span class="operator">,</span><span class="string">'John'</span><span class="operator">,</span><span class="string">'Jerry'</span><span class="operator">]</span><span class="operator">);</span>
        <span class="variable">$myStone</span> <span class="operator">=</span> <span class="variable">new</span> <span class="variable">Stone</span><span class="operator">(</span><span class="string">Name</span><span class="operator">=&gt;</span><span class="string">'Fred'</span><span class="operator">,</span>
                             <span class="string">Friend</span><span class="operator">=&gt;</span><span class="operator">[</span><span class="string">'Jill'</span><span class="operator">,</span>
                                      <span class="string">'John'</span><span class="operator">,</span>
                                      <span class="string">'Gerald'</span>
                                      <span class="operator">]</span><span class="operator">,</span>
                             <span class="string">Attributes</span> <span class="operator">=&gt;</span> <span class="operator">{</span> <span class="string">Hair</span> <span class="operator">=&gt;</span> <span class="string">'blonde'</span><span class="operator">,</span>
                                             <span class="string">Eyes</span> <span class="operator">=&gt;</span> <span class="string">'blue'</span> <span class="operator">}</span>
                             <span class="operator">);</span>
</code></code></pre>

<p>In the last example, a Stone with the following structure is created:</p>

<pre><code><code> Name        Fred
 Friend      Jill
 Friend      John
 Friend      Gerald
 Attributes  Eyes    blue
             Hair    blonde</code></code></pre>

<p>Note that the value corresponding to the tag &quot;Attributes&quot; is itself a Stone with two tags, &quot;Eyes&quot; and &quot;Hair&quot;.</p>

<p>The XML representation (which could be created with asXML()) looks like this:</p>

<pre><code><code> &lt;?xml version=&quot;1.0&quot; standalone=&quot;yes&quot;?&gt;
 &lt;Stone&gt;
    &lt;Attributes&gt;
       &lt;Eyes&gt;blue&lt;/Eyes&gt;
       &lt;Hair&gt;blonde&lt;/Hair&gt;
    &lt;/Attributes&gt;
    &lt;Friend&gt;Jill&lt;/Friend&gt;
    &lt;Friend&gt;John&lt;/Friend&gt;
    &lt;Friend&gt;Gerald&lt;/Friend&gt;
    &lt;Name&gt;Fred&lt;/Name&gt;
 &lt;/Stone&gt;</code></code></pre>

<p>More information on Stone initialization is given in the description of the insert() method.</p>

<h1 id="OBJECT-METHODS">OBJECT METHODS</h1>

<p>Once a Stone object is created or retrieved, you can manipulate it with the following methods.</p>

<h2 id="stone-insert-hash-">$stone-&gt;insert(%hash)</h2>

<h2 id="stone-insert-hash-1">$stone-&gt;insert(\%hash)</h2>

<p>This is the main method for adding tags to a Stone. This method expects an associative array as an argument or a reference to one. The contents of the associative array will be inserted into the Stone. If a particular tag is already present in the Stone, the tag&#39;s current value will be appended to the list of values for that tag. Several types of values are legal:</p>

<ul>

<li><p>A <b>scalar</b> value</p>

<p>The value will be inserted into the <code><code>Stone</code></code>.</p>

<pre><code><code>        <span class="variable">$stone</span><span class="operator">-&gt;</span><span class="variable">insert</span><span class="operator">(</span><span class="string">name</span><span class="operator">=&gt;</span><span class="variable">Fred</span><span class="operator">,</span>
                       <span class="string">age</span><span class="operator">=&gt;</span><span class="number">30</span><span class="operator">,</span>
                       <span class="string">sex</span><span class="operator">=&gt;</span><span class="variable">M</span><span class="operator">);</span>
        <span class="variable">$stone</span><span class="operator">-&gt;</span><span class="variable">dump</span><span class="operator">;</span>
        
        <span class="variable">name</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">=</span><span class="variable">Fred</span>
        <span class="variable">age</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">=</span><span class="number">30</span>
        <span class="variable">sex</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">=</span><span class="variable">M</span>
</code></code></pre>

</li>
<li><p>An <b>ARRAY</b> reference</p>

<p>A multi-valued tag will be created:</p>

<pre><code><code>        <span class="variable">$stone</span><span class="operator">-&gt;</span><span class="variable">insert</span><span class="operator">(</span><span class="string">name</span><span class="operator">=&gt;</span><span class="variable">Fred</span><span class="operator">,</span>
                       <span class="string">children</span><span class="operator">=&gt;</span><span class="operator">[</span><span class="variable">Tom</span><span class="operator">,</span><span class="variable">Mary</span><span class="operator">,</span><span class="variable">Angelique</span><span class="operator">]</span><span class="operator">);</span>
        <span class="variable">$stone</span><span class="operator">-&gt;</span><span class="variable">dump</span><span class="operator">;</span>
        
        <span class="variable">name</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">=</span><span class="variable">Fred</span>
        <span class="variable">children</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">=</span><span class="variable">Tom</span>
        <span class="variable">children</span><span class="operator">[</span><span class="number">1</span><span class="operator">]</span><span class="operator">=</span><span class="variable">Mary</span>
        <span class="variable">children</span><span class="operator">[</span><span class="number">2</span><span class="operator">]</span><span class="operator">=</span><span class="variable">Angelique</span>
</code></code></pre>

</li>
<li><p>A <b>HASH</b> reference</p>

<p>A subsidiary <code><code>Stone</code></code> object will be created and inserted into the object as a nested structure.</p>

<pre><code><code>        <span class="variable">$stone</span><span class="operator">-&gt;</span><span class="variable">insert</span><span class="operator">(</span><span class="string">name</span><span class="operator">=&gt;</span><span class="variable">Fred</span><span class="operator">,</span>
                       <span class="string">wife</span><span class="operator">=&gt;</span><span class="operator">{</span><span class="string">name</span><span class="operator">=&gt;</span><span class="variable">Agnes</span><span class="operator">,</span><span class="string">age</span><span class="operator">=&gt;</span><span class="number">40</span><span class="operator">}</span><span class="operator">);</span>
        <span class="variable">$stone</span><span class="operator">-&gt;</span><span class="variable">dump</span><span class="operator">;</span>
        
        <span class="variable">name</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">=</span><span class="variable">Fred</span>
        <span class="variable">wife</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">.</span><span class="variable">name</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">=</span><span class="variable">Agnes</span>
        <span class="variable">wife</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">.</span><span class="variable">age</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">=</span><span class="number">40</span>
</code></code></pre>

</li>
<li><p>A <code><code>Stone</code></code> object or subclass</p>

<p>The <code><code>Stone</code></code> object will be inserted into the object as a nested structure.</p>

<pre><code><code>        <span class="variable">$wife</span> <span class="operator">=</span> <span class="variable">new</span> <span class="variable">Stone</span><span class="operator">(</span><span class="string">name</span><span class="operator">=&gt;</span><span class="variable">agnes</span><span class="operator">,</span>
                          <span class="string">age</span><span class="operator">=&gt;</span><span class="number">40</span><span class="operator">);</span>
        <span class="variable">$husband</span> <span class="operator">=</span> <span class="variable">new</span> <span class="variable">Stone</span><span class="operator">;</span>
        <span class="variable">$husband</span><span class="operator">-&gt;</span><span class="variable">insert</span><span class="operator">(</span><span class="string">name</span><span class="operator">=&gt;</span><span class="variable">fred</span><span class="operator">,</span>
                         <span class="string">wife</span><span class="operator">=&gt;</span><span class="variable">$wife</span><span class="operator">);</span>
        <span class="variable">$husband</span><span class="operator">-&gt;</span><span class="variable">dump</span><span class="operator">;</span>
        
        <span class="variable">name</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">=</span><span class="variable">fred</span>
        <span class="variable">wife</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">.</span><span class="variable">name</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">=</span><span class="variable">agnes</span>
        <span class="variable">wife</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">.</span><span class="variable">age</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">=</span><span class="number">40</span>
</code></code></pre>

</li>
</ul>

<h2 id="stone-replace-hash-">$stone-&gt;replace(%hash)</h2>

<h2 id="stone-replace-hash-1">$stone-&gt;replace(\%hash)</h2>

<p>The <b>replace()</b> method behaves exactly like <code><code>insert()</code></code> with the exception that if the indicated key already exists in the <b>Stone</b>, its value will be replaced. Use <b>replace()</b> when you want to enforce a single-valued tag/value relationship.</p>

<h2 id="stone-insert_list-key-list-head2-stone-insert_hash-key-hash-head2-stone-replace_list-key-list-head2-stone-replace_hash-key-hash-">$stone-&gt;insert_list($key,@list) =head2 $stone-&gt;insert_hash($key,%hash) =head2 $stone-&gt;replace_list($key,@list) =head2 $stone-&gt;replace_hash($key,%hash)</h2>

<p>These are primitives used by the <code><code>insert()</code></code> and <code><code>replace()</code></code> methods. Override them if you need to modify the default behavior.</p>

<h2 id="stone-delete-tag-">$stone-&gt;delete($tag)</h2>

<p>This removes the indicated tag from the Stone.</p>

<h2 id="values-stone-get-tag-index-">@values = $stone-&gt;get($tag [,$index])</h2>

<p>This returns the value at the indicated tag and optional index. What you get depends on whether it is called in a scalar or list context. In a list context, you will receive all the values for that tag. You may receive a list of scalar values or (for a nested record) or a list of Stone objects. If called in a scalar context, you will either receive the first or the last member of the list of values assigned to the tag. Which one you receive depends on the value of the package variable <code><code>$Stone::Fetchlast</code></code>. If undefined, you will receive the first member of the list. If nonzero, you will receive the last member.</p>

<p>You may provide an optional index in order to force get() to return a particular member of the list. Provide a 0 to return the first member of the list, or &#39;#&#39; to obtain the last member.</p>

<p>If the tag contains a period (.), get() will call index() on your behalf (see below).</p>

<p>If the tag begins with an uppercase letter, then you can use the autogenerated method to access it:</p>

<pre><code><code>  $stone-&gt;Tag_name([$index])</code></code></pre>

<p>This is exactly equivalent to:</p>

<pre><code><code>  $stone-&gt;get(&#39;Teg_name&#39; [,$index])</code></code></pre>

<h2 id="values-stone-search-tag-">@values = $stone-&gt;search($tag)</h2>

<p>Searches for the first occurrence of the tag, traversing the tree in a breadth-first manner, and returns it. This allows you to retrieve the value of a tag in a deeply nested structure without worrying about all the intermediate nodes. For example:</p>

<pre><code><code> <span class="variable">$myStone</span> <span class="operator">=</span> <span class="variable">new</span> <span class="variable">Stone</span><span class="operator">(</span><span class="string">Name</span><span class="operator">=&gt;</span><span class="string">'Fred'</span><span class="operator">,</span>
                      <span class="string">Friend</span><span class="operator">=&gt;</span><span class="operator">[</span><span class="string">'Jill'</span><span class="operator">,</span>
                               <span class="string">'John'</span><span class="operator">,</span>
                               <span class="string">'Gerald'</span>
                              <span class="operator">]</span><span class="operator">,</span>
                      <span class="string">Attributes</span> <span class="operator">=&gt;</span> <span class="operator">{</span> <span class="string">Hair</span> <span class="operator">=&gt;</span> <span class="string">'blonde'</span><span class="operator">,</span>
                                      <span class="string">Eyes</span> <span class="operator">=&gt;</span> <span class="string">'blue'</span> <span class="operator">}</span>
                    <span class="operator">);</span>
 
   <span class="variable">$hair_colour</span> <span class="operator">=</span> <span class="variable">$stone</span><span class="operator">-&gt;</span><span class="variable">search</span><span class="operator">(</span><span class="string">'Hair'</span><span class="operator">);</span>
</code></code></pre>

<p>The disadvantage of this is that if there is a tag named &quot;Hair&quot; higher in the hierarchy, this tag will be retrieved rather than the lower one. In an array context this method returns the complete list of values from the matching tag. In a scalar context, it returns either the first or the last value of multivalued tags depending as usual on the value of <code><code>$Stone::Fetchlast</code></code>.</p>

<p><code><code>$Stone::Fetchlast</code></code> is also consulted during the depth-first traversal. If <code><code>$Fetchlast</code></code> is set to a true value, multivalued intermediate tags will be searched from the last to the first rather than the first to the last.</p>

<p>The Stone object has an AUTOLOAD method that invokes get() when you call a method that is not predefined. This allows a very convenient type of shortcut:</p>

<pre><code><code>  <span class="variable">$name</span>        <span class="operator">=</span> <span class="variable">$stone</span><span class="operator">-&gt;</span><span class="variable">Name</span><span class="operator">;</span>
  <span class="variable">@friends</span>     <span class="operator">=</span> <span class="variable">$stone</span><span class="operator">-&gt;</span><span class="variable">Friend</span><span class="operator">;</span>
  <span class="variable">$eye_color</span>   <span class="operator">=</span> <span class="variable">$stone</span><span class="operator">-&gt;</span><span class="variable">Attributes</span><span class="operator">-&gt;</span><span class="variable">Eyes</span>
</code></code></pre>

<p>In the first example, we retrieve the value of the top-level tag Name. In the second example, we retrieve the value of the Friend tag.. In the third example, we retrieve the attributes stone first, then the Eyes value.</p>

<p>NOTE: By convention, methods are only autogenerated for tags that begin with capital letters. This is necessary to avoid conflict with hard-coded methods, all of which are lower case.</p>

<h2 id="values-stone-index-indexstr-">@values = $stone-&gt;index($indexstr)</h2>

<p>You can access the contents of even deeply-nested <b>Stone</b> objects with the <code><code>index</code></code> method. You provide a <b>tag path</b>, and receive a value or list of values back.</p>

<p>Tag paths look like this:</p>

<pre><code><code>        tag1[index1].tag2[index2].tag3[index3]</code></code></pre>

<p>Numbers in square brackets indicate which member of a multivalued tag you&#39;re interested in getting. You can leave the square brackets out in order to return just the first or the last tag of that name, in a scalar context (depending on the setting of <b>$Stone::Fetchlast</b>). In an array context, leaving the square brackets out will return <b>all</b> multivalued members for each tag along the path.</p>

<p>You will get a scalar value in a scalar context and an array value in an array context following the same rules as <b>get()</b>. You can provide an index of &#39;#&#39; in order to get the last member of a list or a [?] to obtain a randomly chosen member of the list (this uses the rand() call, so be sure to call srand() at the beginning of your program in order to get different sequences of pseudorandom numbers. If there is no tag by that name, you will receive undef or an empty list. If the tag points to a subrecord, you will receive a <b>Stone</b> object.</p>

<p>Examples:</p>

<pre><code><code>        <span class="comment"># Here's what the data structure looks like.</span>
        <span class="variable">$s</span><span class="operator">-&gt;</span><span class="variable">insert</span><span class="operator">(</span><span class="string">person</span><span class="operator">=&gt;</span><span class="operator">{</span><span class="string">name</span><span class="operator">=&gt;</span><span class="variable">Fred</span><span class="operator">,</span>
                            <span class="string">age</span><span class="operator">=&gt;</span><span class="number">30</span><span class="operator">,</span>
                            <span class="string">pets</span><span class="operator">=&gt;</span><span class="operator">[</span><span class="variable">Fido</span><span class="operator">,</span><span class="variable">Rex</span><span class="operator">,</span><span class="variable">Lassie</span><span class="operator">]</span><span class="operator">,</span>
                            <span class="string">children</span><span class="operator">=&gt;</span><span class="operator">[</span><span class="variable">Tom</span><span class="operator">,</span><span class="variable">Mary</span><span class="operator">]}</span><span class="operator">,</span>
                   <span class="string">person</span><span class="operator">=&gt;</span><span class="operator">{</span><span class="string">name</span><span class="operator">=&gt;</span><span class="variable">Harry</span><span class="operator">,</span>
                            <span class="string">age</span><span class="operator">=&gt;</span><span class="number">23</span><span class="operator">,</span>
                            <span class="string">pets</span><span class="operator">=&gt;</span><span class="operator">[</span><span class="variable">Rover</span><span class="operator">,</span><span class="variable">Spot</span><span class="operator">]}</span><span class="operator">);</span>
        
        <span class="comment"># Return all of Fred's children</span>
        <span class="variable">@children</span> <span class="operator">=</span> <span class="variable">$s</span><span class="operator">-&gt;</span><span class="variable">index</span><span class="operator">(</span><span class="string">'person[0].children'</span><span class="operator">);</span>
        
        <span class="comment"># Return Harry's last pet</span>
        <span class="variable">$pet</span> <span class="operator">=</span> <span class="variable">$s</span><span class="operator">-&gt;</span><span class="variable">index</span><span class="operator">(</span><span class="string">'person[1].pets[#]'</span><span class="operator">);</span>
        
        <span class="comment"># Return first person's first child</span>
        <span class="variable">$child</span> <span class="operator">=</span> <span class="variable">$s</span><span class="operator">-&gt;</span><span class="variable">index</span><span class="operator">(</span><span class="string">'person.children'</span><span class="operator">);</span>
        
        <span class="comment"># Return children of all person's</span>
        <span class="variable">@children</span> <span class="operator">=</span> <span class="variable">$s</span><span class="operator">-&gt;</span><span class="variable">index</span><span class="operator">(</span><span class="string">'person.children'</span><span class="operator">);</span>
        
        <span class="comment"># Return last person's last pet</span>
        <span class="variable">$Stone::Fetchlast</span><span class="operator">++;</span>
        <span class="variable">$pet</span> <span class="operator">=</span> <span class="variable">$s</span><span class="operator">-&gt;</span><span class="variable">index</span><span class="operator">(</span><span class="string">'person.pets'</span><span class="operator">);</span>
        
        <span class="comment"># Return any pet from any person</span>
        <span class="variable">$pet</span> <span class="operator">=</span> <span class="variable">$s</span><span class="operator">-&gt;</span><span class="variable">index</span><span class="operator">(</span><span class="string">'person[?].pet[?]'</span><span class="operator">);</span>
</code></code></pre>

<p><i>Note</i> that <b>index()</b> may return a <b>Stone</b> object if the tag path points to a subrecord.</p>

<h2 id="array-stone-at-tag-">$array = $stone-&gt;at($tag)</h2>

<p>This returns an ARRAY REFERENCE for the tag. It is useful to prevent automatic dereferencing. Use with care. It is equivalent to:</p>

<pre><code><code>        <span class="variable">$stone</span><span class="operator">-&gt;</span><span class="operator">{</span><span class="string">'tag'</span><span class="operator">}</span>
</code></code></pre>

<p>at() will always return an array reference. Single-valued tags will return a reference to an array of size 1.</p>

<h2 id="tags-stone-tags-">@tags = $stone-&gt;tags()</h2>

<p>Return all the tags in the Stone. You can then use this list with get() to retrieve values or recursively traverse the stone.</p>

<h2 id="string-stone-asTable-">$string = $stone-&gt;asTable()</h2>

<p>Return the data structure as a tab-delimited table suitable for printing.</p>

<h2 id="string-stone-asXML-tagname-">$string = $stone-&gt;asXML([$tagname])</h2>

<p>Return the data structure in XML format. The entire data structure will be placed inside a top-level tag called &lt;Stone&gt;. If you wish to change this top-level tag, pass it as an argument to asXML().</p>

<p>An example follows:</p>

<pre><code><code> <span class="keyword">print</span> <span class="variable">$stone</span><span class="operator">-&gt;</span><span class="variable">asXML</span><span class="operator">(</span><span class="string">'Address_list'</span><span class="operator">);</span>
 <span class="comment"># yields:</span>
 <span class="operator">&lt;?</span><span class="variable">xml</span> <span class="variable">version</span><span class="operator">=</span><span class="string">"1.0"</span> <span class="variable">standalone</span><span class="operator">=</span><span class="string">"yes"</span><span class="operator">?&gt;</span>
 
 <span class="operator">&lt;</span><span class="variable">Address_list</span><span class="operator">&gt;</span>
    <span class="operator">&lt;</span><span class="variable">Sally</span><span class="operator">&gt;</span>
       <span class="operator">&lt;</span><span class="variable">Address</span><span class="operator">&gt;</span>
          <span class="operator">&lt;</span><span class="variable">Zip</span><span class="operator">&gt;</span><span class="number">10578</span><span class="operator">&lt;/</span><span class="variable">Zip</span><span class="operator">&gt;</span>
          <span class="operator">&lt;</span><span class="variable">City</span><span class="operator">&gt;</span><span class="variable">Katonah</span><span class="operator">&lt;/</span><span class="variable">City</span><span class="operator">&gt;</span>
          <span class="operator">&lt;</span><span class="variable">Street</span><span class="operator">&gt;</span><span class="variable">Hickory</span> <span class="variable">Street</span><span class="operator">&lt;/</span><span class="variable">Street</span><span class="operator">&gt;</span>
          <span class="operator">&lt;</span><span class="variable">State</span><span class="operator">&gt;</span><span class="variable">NY</span><span class="operator">&lt;/</span><span class="variable">State</span><span class="operator">&gt;</span>
       <span class="operator">&lt;/</span><span class="variable">Address</span><span class="operator">&gt;</span>
       <span class="operator">&lt;</span><span class="variable">Last_name</span><span class="operator">&gt;</span><span class="variable">Smith</span><span class="operator">&lt;/</span><span class="variable">Last_name</span><span class="operator">&gt;</span>
       <span class="operator">&lt;</span><span class="variable">Age</span><span class="operator">&gt;</span><span class="number">30</span><span class="operator">&lt;/</span><span class="variable">Age</span><span class="operator">&gt;</span>
       <span class="operator">&lt;</span><span class="variable">First_name</span><span class="operator">&gt;</span><span class="variable">Sarah</span><span class="operator">&lt;/</span><span class="variable">First_name</span><span class="operator">&gt;</span>
    <span class="operator">&lt;/</span><span class="variable">Sally</span><span class="operator">&gt;</span>
    <span class="operator">&lt;</span><span class="variable">Jim</span><span class="operator">&gt;</span>
       <span class="operator">&lt;</span><span class="variable">Address</span><span class="operator">&gt;</span>
          <span class="operator">&lt;</span><span class="variable">Zip</span><span class="operator">&gt;</span><span class="number">11291</span><span class="operator">&lt;/</span><span class="variable">Zip</span><span class="operator">&gt;</span>
          <span class="operator">&lt;</span><span class="variable">City</span><span class="operator">&gt;</span><span class="variable">Garden</span> <span class="variable">City</span><span class="operator">&lt;/</span><span class="variable">City</span><span class="operator">&gt;</span>
          <span class="operator">&lt;</span><span class="variable">Street</span><span class="operator">&gt;</span><span class="variable">The</span> <span class="variable">Manse</span><span class="operator">&lt;/</span><span class="variable">Street</span><span class="operator">&gt;</span>
          <span class="operator">&lt;</span><span class="variable">Street</span><span class="operator">&gt;</span><span class="number">19</span> <span class="variable">Chestnut</span> <span class="variable">Ln</span><span class="operator">&lt;/</span><span class="variable">Street</span><span class="operator">&gt;</span>
          <span class="operator">&lt;</span><span class="variable">State</span><span class="operator">&gt;</span><span class="variable">NY</span><span class="operator">&lt;/</span><span class="variable">State</span><span class="operator">&gt;</span>
       <span class="operator">&lt;/</span><span class="variable">Address</span><span class="operator">&gt;</span>
       <span class="operator">&lt;</span><span class="variable">Last_name</span><span class="operator">&gt;</span><span class="variable">Hill</span><span class="operator">&lt;/</span><span class="variable">Last_name</span><span class="operator">&gt;</span>
       <span class="operator">&lt;</span><span class="variable">Age</span><span class="operator">&gt;</span><span class="number">34</span><span class="operator">&lt;/</span><span class="variable">Age</span><span class="operator">&gt;</span>
       <span class="operator">&lt;</span><span class="variable">First_name</span><span class="operator">&gt;</span><span class="variable">James</span><span class="operator">&lt;/</span><span class="variable">First_name</span><span class="operator">&gt;</span>
    <span class="operator">&lt;/</span><span class="variable">Jim</span><span class="operator">&gt;</span>
 <span class="operator">&lt;/</span><span class="variable">Address_list</span><span class="operator">&gt;</span>
</code></code></pre>

<h2 id="hash-stone-attributes-att_name-att_value-">$hash = $stone-&gt;attributes([$att_name, [$att_value]]])</h2>

<p>attributes() returns the &quot;attributes&quot; of a tag. Attributes are a series of unique tag/value pairs which are associated with a tag, but are not contained within it. Attributes can only be expressed in the XML representation of a Stone:</p>

<pre><code><code>   &lt;Sally id=&quot;sally_tate&quot; version=&quot;2.0&quot;&gt;
     &lt;Address type=&quot;postal&quot;&gt;
          &lt;Zip&gt;10578&lt;/Zip&gt;
          &lt;City&gt;Katonah&lt;/City&gt;
          &lt;Street&gt;Hickory Street&lt;/Street&gt;
          &lt;State&gt;NY&lt;/State&gt;
       &lt;/Address&gt;
   &lt;/Sally&gt;</code></code></pre>

<p>Called with no arguments, attributes() returns the current attributes as a hash ref:</p>

<pre><code><code>    <span class="keyword">my</span> <span class="variable">$att</span> <span class="operator">=</span> <span class="variable">$stone</span><span class="operator">-&gt;</span><span class="variable">Address</span><span class="operator">-&gt;</span><span class="variable">attributes</span><span class="operator">;</span>
    <span class="keyword">my</span> <span class="variable">$type</span> <span class="operator">=</span> <span class="variable">$att</span><span class="operator">-&gt;</span><span class="operator">{</span><span class="string">type</span><span class="operator">}</span><span class="operator">;</span>
</code></code></pre>

<p>Called with a single argument, attributes() returns the value of the named attribute, or undef if not defined:</p>

<pre><code><code>    <span class="keyword">my</span> <span class="variable">$type</span> <span class="operator">=</span> <span class="variable">$stone</span><span class="operator">-&gt;</span><span class="variable">Address</span><span class="operator">-&gt;</span><span class="variable">attributes</span><span class="operator">(</span><span class="string">'type'</span><span class="operator">);</span>
</code></code></pre>

<p>Called with two arguments, attributes() sets the named attribute:</p>

<pre><code><code>    <span class="keyword">my</span> <span class="variable">$type</span> <span class="operator">=</span> <span class="variable">$stone</span><span class="operator">-&gt;</span><span class="variable">Address</span><span class="operator">-&gt;</span><span class="variable">attributes</span><span class="operator">(</span><span class="string">type</span> <span class="operator">=&gt;</span> <span class="string">'Rural Free Delivery'</span><span class="operator">);</span>
</code></code></pre>

<p>You may also change all attributes in one fell swoop by passing a hash reference as the single argument:</p>

<pre><code><code>    <span class="variable">$stone</span><span class="operator">-&gt;</span><span class="variable">attributes</span><span class="operator">(</span><span class="operator">{</span><span class="string">id</span><span class="operator">=&gt;</span><span class="string">'Sally Mae'</span><span class="operator">,</span><span class="string">version</span><span class="operator">=&gt;</span><span class="string">'2.1'</span><span class="operator">}</span><span class="operator">);</span>
</code></code></pre>

<h2 id="string-stone-toString-">$string = $stone-&gt;toString()</h2>

<p>toString() returns a simple version of the Stone that shows just the topmost tags and the number of each type of tag. For example:</p>

<pre><code><code>  <span class="keyword">print</span> <span class="variable">$stone</span><span class="operator">-&gt;</span><span class="variable">Jim</span><span class="operator">-&gt;</span><span class="variable">Address</span><span class="operator">;</span>
      <span class="comment">#yields =&gt; Zip(1),City(1),Street(2),State(1)</span>
</code></code></pre>

<p>This method is used internally for string interpolation. If you try to print or otherwise manipulate a Stone object as a string, you will obtain this type of string as a result.</p>

<h2 id="string-stone-asHTML-callback-">$string = $stone-&gt;asHTML([\&amp;callback])</h2>

<p>Return the data structure as a nicely-formatted HTML 3.2 table, suitable for display in a Web browser. You may pass this method a callback routine which will be called for every tag/value pair in the object. It will be passed a two-item list containing the current tag and value. It can make any modifications it likes and return the modified tag and value as a return result. You can use this to modify tags or values on the fly, for example to turn them into HTML links.</p>

<p>For example, this code fragment will turn all tags named &quot;Sequence&quot; blue:</p>

<pre><code><code>  <span class="keyword">my</span> <span class="variable">$callback</span> <span class="operator">=</span> <span class="keyword">sub</span><span class="variable"> </span><span class="operator">{</span>
        <span class="keyword">my</span> <span class="operator">(</span><span class="variable">$tag</span><span class="operator">,</span><span class="variable">$value</span><span class="operator">)</span> <span class="operator">=</span> <span class="variable">@_</span><span class="operator">;</span>
        <span class="keyword">return</span> <span class="operator">(</span><span class="variable">$tag</span><span class="operator">,</span><span class="variable">$value</span><span class="operator">)</span> <span class="keyword">unless</span> <span class="variable">$tag</span> <span class="keyword">eq</span> <span class="string">'Sequence'</span><span class="operator">;</span>
        <span class="keyword">return</span> <span class="operator">(</span> <span class="string">qq(&lt;FONT COLOR="blue"&gt;</span><span class="variable">$tag</span><span class="string">&lt;/FONT&gt;)</span><span class="operator">,</span><span class="variable">$value</span> <span class="operator">);</span>
  <span class="operator">}</span>
  <span class="keyword">print</span> <span class="variable">$stone</span><span class="operator">-&gt;</span><span class="variable">asHTML</span><span class="operator">(</span><span class="variable">$callback</span><span class="operator">);</span>
</code></code></pre>

<h2 id="Stone::dump-">Stone::dump()</h2>

<p>This is a debugging tool. It iterates through the <b>Stone</b> object and prints out all the tags and values.</p>

<p>Example:</p>

<pre><code><code>        <span class="variable">$s</span><span class="operator">-&gt;</span><span class="variable">dump</span><span class="operator">;</span>
        
        <span class="variable">person</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">.</span><span class="variable">children</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">=</span><span class="variable">Tom</span>
        <span class="variable">person</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">.</span><span class="variable">children</span><span class="operator">[</span><span class="number">1</span><span class="operator">]</span><span class="operator">=</span><span class="variable">Mary</span>
        <span class="variable">person</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">.</span><span class="variable">name</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">=</span><span class="variable">Fred</span>
        <span class="variable">person</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">.</span><span class="variable">pets</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">=</span><span class="variable">Fido</span>
        <span class="variable">person</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">.</span><span class="variable">pets</span><span class="operator">[</span><span class="number">1</span><span class="operator">]</span><span class="operator">=</span><span class="variable">Rex</span>
        <span class="variable">person</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">.</span><span class="variable">pets</span><span class="operator">[</span><span class="number">2</span><span class="operator">]</span><span class="operator">=</span><span class="variable">Lassie</span>
        <span class="variable">person</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">.</span><span class="variable">age</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">=</span><span class="number">30</span>
        <span class="variable">person</span><span class="operator">[</span><span class="number">1</span><span class="operator">]</span><span class="operator">.</span><span class="variable">name</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">=</span><span class="variable">Harry</span>
        <span class="variable">person</span><span class="operator">[</span><span class="number">1</span><span class="operator">]</span><span class="operator">.</span><span class="variable">pets</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">=</span><span class="variable">Rover</span>
        <span class="variable">person</span><span class="operator">[</span><span class="number">1</span><span class="operator">]</span><span class="operator">.</span><span class="variable">pets</span><span class="operator">[</span><span class="number">1</span><span class="operator">]</span><span class="operator">=</span><span class="variable">Spot</span>
        <span class="variable">person</span><span class="operator">[</span><span class="number">1</span><span class="operator">]</span><span class="operator">.</span><span class="variable">age</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">=</span><span class="number">23</span>
</code></code></pre>

<h2 id="cursor-stone-cursor-">$cursor = $stone-&gt;cursor()</h2>

<p>Retrieves an iterator over the object. You can call this several times in order to return independent iterators. The following brief example is described in more detail in <a href="../../../.cpan/build/Boulder-1.30-1cMFjf/blib/lib/Stone/Cursor.html">Stone::Cursor</a>.</p>

<pre><code><code> <span class="keyword">my</span> <span class="variable">$curs</span> <span class="operator">=</span> <span class="variable">$stone</span><span class="operator">-&gt;</span><span class="variable">cursor</span><span class="operator">;</span>
 <span class="keyword">while</span> <span class="operator">(</span><span class="keyword">my</span><span class="operator">(</span><span class="variable">$tag</span><span class="operator">,</span><span class="variable">$value</span><span class="operator">)</span> <span class="operator">=</span> <span class="variable">$curs</span><span class="operator">-&gt;</span><span class="variable">next_pair</span><span class="operator">)</span> <span class="operator">{</span>
   <span class="keyword">print</span> <span class="string">"</span><span class="variable">$tag</span><span class="string"> =&gt; </span><span class="variable">$value</span><span class="string">\n"</span><span class="operator">;</span>
 <span class="operator">}</span>
 <span class="comment"># yields:</span>
   <span class="variable">Sally</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">.</span><span class="variable">Address</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">.</span><span class="variable">Zip</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span> <span class="operator">=&gt;</span> <span class="number">10578</span>
   <span class="variable">Sally</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">.</span><span class="variable">Address</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">.</span><span class="variable">City</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span> <span class="operator">=&gt;</span> <span class="variable">Katonah</span>
   <span class="variable">Sally</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">.</span><span class="variable">Address</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">.</span><span class="variable">Street</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span> <span class="operator">=&gt;</span> <span class="variable">Hickory</span> <span class="variable">Street</span>
   <span class="variable">Sally</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">.</span><span class="variable">Address</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">.</span><span class="variable">State</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span> <span class="operator">=&gt;</span> <span class="variable">NY</span>
   <span class="variable">Sally</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">.</span><span class="variable">Last_name</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span> <span class="operator">=&gt;</span> <span class="variable">James</span>
   <span class="variable">Sally</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">.</span><span class="variable">Age</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span> <span class="operator">=&gt;</span> <span class="number">30</span>
   <span class="variable">Sally</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">.</span><span class="variable">First_name</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span> <span class="operator">=&gt;</span> <span class="variable">Sarah</span>
   <span class="variable">Jim</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">.</span><span class="variable">Address</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">.</span><span class="variable">Zip</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span> <span class="operator">=&gt;</span> <span class="number">11291</span>
   <span class="variable">Jim</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">.</span><span class="variable">Address</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">.</span><span class="variable">City</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span> <span class="operator">=&gt;</span> <span class="variable">Garden</span> <span class="variable">City</span>
   <span class="variable">Jim</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">.</span><span class="variable">Address</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">.</span><span class="variable">Street</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span> <span class="operator">=&gt;</span> <span class="variable">The</span> <span class="variable">Manse</span>
   <span class="variable">Jim</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">.</span><span class="variable">Address</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">.</span><span class="variable">Street</span><span class="operator">[</span><span class="number">1</span><span class="operator">]</span> <span class="operator">=&gt;</span> <span class="number">19</span> <span class="variable">Chestnut</span> <span class="variable">Ln</span>
   <span class="variable">Jim</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">.</span><span class="variable">Address</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">.</span><span class="variable">State</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span> <span class="operator">=&gt;</span> <span class="variable">NY</span>
   <span class="variable">Jim</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">.</span><span class="variable">Last_name</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span> <span class="operator">=&gt;</span> <span class="variable">Hill</span>
   <span class="variable">Jim</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">.</span><span class="variable">Age</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span> <span class="operator">=&gt;</span> <span class="number">34</span>
   <span class="variable">Jim</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">.</span><span class="variable">First_name</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span> <span class="operator">=&gt;</span> <span class="variable">James</span>
</code></code></pre>

<h1 id="AUTHOR">AUTHOR</h1>

<p>Lincoln D. Stein &lt;lstein@cshl.org&gt;.</p>

<h1 id="COPYRIGHT">COPYRIGHT</h1>

<p>Copyright 1997-1999, Cold Spring Harbor Laboratory, Cold Spring Harbor NY. This module can be used and distributed on the same terms as Perl itself.</p>

<h1 id="SEE-ALSO">SEE ALSO</h1>

<p><a href="../../../.cpan/build/Boulder-1.30-1cMFjf/blib/lib/Boulder/Blast.html">Boulder::Blast</a>, <a href="../../../.cpan/build/Boulder-1.30-1cMFjf/blib/lib/Boulder/Genbank.html">Boulder::Genbank</a>, <a href="../../../.cpan/build/Boulder-1.30-1cMFjf/blib/lib/Boulder/Medline.html">Boulder::Medline</a>, <a href="../../../.cpan/build/Boulder-1.30-1cMFjf/blib/lib/Boulder/Unigene.html">Boulder::Unigene</a>, <a href="../../../.cpan/build/Boulder-1.30-1cMFjf/blib/lib/Boulder/Omim.html">Boulder::Omim</a>, <a>Boulder::SwissProt</a></p>


</body>

</html>


