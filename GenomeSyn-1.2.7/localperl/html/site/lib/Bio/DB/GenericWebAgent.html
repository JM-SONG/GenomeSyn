<?xml version="1.0" ?>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<!-- saved from url=(0017)http://localhost/ -->
<script language="JavaScript" src="../../../../displayToc.js"></script>
<script language="JavaScript" src="../../../../tocParas.js"></script>
<script language="JavaScript" src="../../../../tocTab.js"></script>
<link rel="stylesheet" type="text/css" href="../../../../scineplex.css">
<title></title>
<link rel="stylesheet" href="../../../../Active.css" type="text/css" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:support@ActiveState.com" />
</head>

<body>



<ul id="index">
  <li><a href="#NAME">NAME</a></li>
  <li><a href="#SYNOPSIS">SYNOPSIS</a></li>
  <li><a href="#DESCRIPTION">DESCRIPTION</a></li>
  <li><a href="#FEEDBACK">FEEDBACK</a>
    <ul>
      <li><a href="#Mailing-Lists">Mailing Lists</a></li>
      <li><a href="#Support">Support</a></li>
      <li><a href="#Reporting-Bugs">Reporting Bugs</a></li>
    </ul>
  </li>
  <li><a href="#AUTHOR">AUTHOR</a></li>
  <li><a href="#APPENDIX">APPENDIX</a>
    <ul>
      <li><a href="#new">new</a></li>
    </ul>
  </li>
  <li><a href="#GenericWebAgent-methods">GenericWebAgent methods</a>
    <ul>
      <li><a href="#parameter_base">parameter_base</a></li>
      <li><a href="#ua">ua</a></li>
      <li><a href="#get_Response">get_Response</a></li>
      <li><a href="#get_Parser">get_Parser</a></li>
      <li><a href="#delay">delay</a></li>
      <li><a href="#delay_policy">delay_policy</a></li>
      <li><a href="#sleep">_sleep</a></li>
    </ul>
  </li>
  <li><a href="#LWP::UserAgent-related-methods">LWP::UserAgent related methods</a>
    <ul>
      <li><a href="#proxy">proxy</a></li>
      <li><a href="#authentication">authentication</a></li>
    </ul>
  </li>
</ul>

<h1 id="NAME">NAME</h1>

<p>Bio::DB::GenericWebAgent - helper base class for parameter-based remote server access and response retrieval.</p>

<h1 id="SYNOPSIS">SYNOPSIS</h1>

<pre><code><code>  # DO NOT USE DIRECTLY
  
  See Bio::DB::EUtilities for an example implementation</code></code></pre>

<h1 id="DESCRIPTION">DESCRIPTION</h1>

<p>WARNING: Please do <b>NOT</b> spam the web servers with multiple requests.</p>

<p>Bio::DB::GenericWebAgent is a generic wrapper around a web agent (LWP::UserAgent), an object which can retain, format, and build parameters for the user agent (Bio::ParameterBaseI), and a BioPerl class parser that processes response content received by the user agent. The Bio::ParameterBaseI object should be state-aware, e.g. know when changes occur to parameters, so that identical requests are not repeatedly sent to the server (this base class takes this into consideration).</p>

<h1 id="FEEDBACK">FEEDBACK</h1>

<h2 id="Mailing-Lists">Mailing Lists</h2>

<p>User feedback is an integral part of the evolution of this and other Bioperl modules. Send your comments and suggestions preferably to one of the Bioperl mailing lists. Your participation is much appreciated.</p>

<pre><code><code>  bioperl-l@lists.open-bio.org               - General discussion
  http://www.bioperl.org/wiki/Mailing_lists  - About the mailing lists</code></code></pre>

<h2 id="Support">Support</h2>

<p>Please direct usage questions or support issues to the mailing list:</p>

<p><i>bioperl-l@bioperl.org</i></p>

<p>rather than to the module maintainer directly. Many experienced and reponsive experts will be able look at the problem and quickly address it. Please include a thorough description of the problem with code and data examples if at all possible.</p>

<h2 id="Reporting-Bugs">Reporting Bugs</h2>

<p>Report bugs to the Bioperl bug tracking system to help us keep track the bugs and their resolution. Bug reports can be submitted via the web.</p>

<pre><code><code>  https://redmine.open-bio.org/projects/bioperl/</code></code></pre>

<h1 id="AUTHOR">AUTHOR</h1>

<p>Email cjfields at bioperl dot org</p>

<h1 id="APPENDIX">APPENDIX</h1>

<p>The rest of the documentation details each of the object methods. Internal methods are usually preceded with a _</p>

<h2 id="new">new</h2>

<pre><code><code> <span class="variable">Title</span>   <span class="operator">:</span> <span class="variable">new</span>
 <span class="variable">Usage</span>   <span class="operator">:</span> <span class="variable">Bio::DB::GenericWebAgent</span><span class="operator">-&gt;</span><span class="variable">new</span><span class="operator">(</span><span class="variable">@args</span><span class="operator">);</span>
 <span class="variable">Function</span><span class="operator">:</span> <span class="variable">Create</span> <span class="variable">new</span> <span class="variable">Bio::DB::GenericWebAgent</span> <span class="variable">instance</span><span class="operator">.</span>
 <span class="variable">Returns</span> <span class="operator">:</span> 
 <span class="variable">Args</span>    <span class="operator">:</span> <span class="variable">None</span> <span class="variable">specific</span> <span class="variable">to</span> <span class="variable">this</span> <span class="variable">base</span> <span class="variable">class</span><span class="operator">.</span>  <span class="variable">Inheriting</span> <span class="variable">classes</span> <span class="variable">will</span>
           <span class="variable">likely</span> <span class="variable">set</span> <span class="variable">specific</span> <span class="variable">parameters</span> <span class="variable">in</span> <span class="variable">their</span> <span class="variable">constructor</span><span class="operator">;</span>
           <span class="variable">Bio::DB::GenericWebAgent</span> <span class="variable">is</span> <span class="variable">primarily</span> <span class="variable">a</span> <span class="variable">test</span> <span class="variable">bed</span><span class="operator">.</span>
</code></code></pre>

<h1 id="GenericWebAgent-methods">GenericWebAgent methods</h1>

<h2 id="parameter_base">parameter_base</h2>

<pre><code><code> <span class="variable">Title</span>   <span class="operator">:</span> <span class="variable">parameter_base</span>
 <span class="variable">Usage</span>   <span class="operator">:</span> <span class="variable">$dbi</span><span class="operator">-&gt;</span><span class="variable">parameter_base</span><span class="operator">(</span><span class="variable">$pobj</span><span class="operator">);</span>
 <span class="variable">Function</span><span class="operator">:</span> <span class="variable">Get</span><span class="operator">/</span><span class="variable">Set</span> <span class="variable">Bio::ParameterBaseI</span><span class="operator">.</span>
 <span class="variable">Returns</span> <span class="operator">:</span> <span class="variable">Bio::ParameterBaseI</span> <span class="variable">object</span>
 <span class="variable">Args</span>    <span class="operator">:</span> <span class="variable">Bio::ParameterBaseI</span> <span class="variable">object</span>
</code></code></pre>

<h2 id="ua">ua</h2>

<pre><code><code> <span class="variable">Title</span>   <span class="operator">:</span> <span class="variable">ua</span>
 <span class="variable">Usage</span>   <span class="operator">:</span> <span class="variable">$dbi</span><span class="operator">-&gt;</span><span class="variable">ua</span><span class="operator">;</span>
 <span class="variable">Function</span><span class="operator">:</span> <span class="variable">Get</span><span class="operator">/</span><span class="variable">Set</span> <span class="variable">LWP::UserAgent</span><span class="operator">.</span>
 <span class="variable">Returns</span> <span class="operator">:</span> <span class="variable">LWP::UserAgent</span>
 <span class="variable">Args</span>    <span class="operator">:</span> <span class="variable">LWP::UserAgent</span>
</code></code></pre>

<h2 id="get_Response">get_Response</h2>

<pre><code><code> <span class="variable">Title</span>   <span class="operator">:</span> <span class="variable">get_Response</span>
 <span class="variable">Usage</span>   <span class="operator">:</span> <span class="variable">$agent</span><span class="operator">-&gt;</span><span class="variable">get_Response</span><span class="operator">;</span>
 <span class="variable">Function</span><span class="operator">:</span> <span class="variable">Get</span> <span class="variable">the</span> <span class="variable">HTTP::Response</span> <span class="variable">object</span> <span class="variable">by</span> <span class="variable">passing</span> <span class="variable">it</span> <span class="variable">an</span> <span class="variable">HTTP::Request</span> <span class="operator">(</span><span class="variable">generated</span> <span class="variable">from</span>
           <span class="variable">Bio::ParameterBaseI</span> <span class="variable">implementation</span><span class="operator">).</span>
 <span class="variable">Returns</span> <span class="operator">:</span> <span class="variable">HTTP::Response</span> <span class="variable">object</span> <span class="keyword">or</span> <span class="variable">data</span> <span class="keyword">if</span> <span class="variable">callback</span> <span class="variable">is</span> <span class="variable">used</span>
 <span class="variable">Args</span>    <span class="operator">:</span> <span class="operator">(</span><span class="variable">optional</span><span class="operator">)</span>
 
           <span class="operator">-</span><span class="variable">cache_response</span> <span class="operator">-</span> <span class="variable">flag</span> <span class="variable">to</span> <span class="variable">cache</span> <span class="variable">HTTP::Response</span> <span class="variable">object</span><span class="operator">;</span> 
                             <span class="variable">Default</span> <span class="variable">is</span> <span class="number">1</span> <span class="operator">(</span><span class="variable">TRUE</span><span class="operator">,</span> <span class="variable">caching</span> <span class="variable">ON</span><span class="operator">)</span>
 
           <span class="variable">These</span> <span class="variable">are</span> <span class="variable">passed</span> <span class="variable">on</span> <span class="variable">to</span> <span class="variable">LWP::UserAgent::request</span><span class="operator">()</span> <span class="keyword">if</span> <span class="variable">stipulated</span>
 
           <span class="operator">-</span><span class="variable">cb</span>     <span class="operator">-</span> <span class="keyword">use</span> <span class="variable">a</span> <span class="variable">LWP::UserAgent</span><span class="operator">-</span><span class="variable">compliant</span> <span class="variable">callback</span>
           <span class="operator">-</span><span class="variable">file</span>   <span class="operator">-</span> <span class="variable">dumps</span> <span class="variable">the</span> <span class="variable">response</span> <span class="variable">to</span> <span class="variable">a</span> <span class="variable">file</span> <span class="operator">(</span><span class="variable">handy</span> <span class="keyword">for</span> <span class="variable">large</span> <span class="variable">responses</span><span class="operator">)</span>
                     <span class="variable">Note</span><span class="operator">:</span> <span class="variable">can't</span> <span class="keyword">use</span> <span class="variable">file</span> <span class="keyword">and</span> <span class="variable">callback</span> <span class="variable">at</span> <span class="variable">the</span> <span class="variable">same</span> <span class="keyword">time</span>
           <span class="operator">-</span><span class="variable">read_size_hint</span> <span class="operator">-</span> <span class="variable">bytes</span> <span class="variable">of</span> <span class="variable">content</span> <span class="variable">to</span> <span class="keyword">read</span> <span class="variable">in</span> <span class="variable">at</span> <span class="variable">a</span> <span class="keyword">time</span> <span class="variable">to</span> <span class="variable">pass</span> <span class="variable">to</span> <span class="variable">callback</span>
 <span class="variable">Note</span>    <span class="operator">:</span> <span class="variable">Caching</span> <span class="keyword">and</span> <span class="variable">parameter</span> <span class="variable">checking</span> <span class="variable">are</span> <span class="variable">set</span>
</code></code></pre>

<h2 id="get_Parser">get_Parser</h2>

<pre><code><code> <span class="variable">Title</span>   <span class="operator">:</span> <span class="variable">get_Parser</span>
 <span class="variable">Usage</span>   <span class="operator">:</span> <span class="variable">$agent</span><span class="operator">-&gt;</span><span class="variable">get_Parser</span><span class="operator">;</span>
 <span class="variable">Function</span><span class="operator">:</span> <span class="variable">Return</span> <span class="variable">HTTP::Response</span> <span class="variable">content</span> <span class="operator">(</span><span class="variable">file</span><span class="operator">,</span> <span class="variable">fh</span><span class="operator">,</span> <span class="variable">object</span><span class="operator">)</span> <span class="variable">attached</span> <span class="variable">to</span> <span class="keyword">defined</span> <span class="variable">parser</span>
 <span class="variable">Returns</span> <span class="operator">:</span> <span class="variable">None</span>
 <span class="variable">Args</span>    <span class="operator">:</span> <span class="variable">None</span>
 <span class="variable">Note</span>    <span class="operator">:</span> <span class="variable">Abstract</span> <span class="variable">method</span><span class="operator">;</span> <span class="keyword">defined</span> <span class="variable">by</span> <span class="variable">implementation</span>
</code></code></pre>

<h2 id="delay">delay</h2>

<pre><code><code> Title   : delay
 Usage   : $secs = $self-&gt;delay($secs)
 Function: get/set number of seconds to delay between fetches
 Returns : number of seconds to delay
 Args    : new value</code></code></pre>

<p>NOTE: the default is to use the value specified by delay_policy(). This can be overridden by calling this method.</p>

<h2 id="delay_policy">delay_policy</h2>

<pre><code><code> Title   : delay_policy
 Usage   : $secs = $self-&gt;delay_policy
 Function: return number of seconds to delay between calls to remote db
 Returns : number of seconds to delay
 Args    : none</code></code></pre>

<p>NOTE: The default delay policy is 3s. Override in subclasses to implement delays. The timer has only second resolution, so the delay will actually be +/- 1s.</p>

<h2 id="sleep">_sleep</h2>

<pre><code><code> Title   : _sleep
 Usage   : $self-&gt;_sleep
 Function: sleep for a number of seconds indicated by the delay policy
 Returns : none
 Args    : none</code></code></pre>

<p>NOTE: This method keeps track of the last time it was called and only imposes a sleep if it was called more recently than the delay_policy() allows.</p>

<h1 id="LWP::UserAgent-related-methods">LWP::UserAgent related methods</h1>

<h2 id="proxy">proxy</h2>

<pre><code><code> Title   : proxy
 Usage   : $httpproxy = $db-&gt;proxy(&#39;http&#39;)  or
           $db-&gt;proxy([&#39;http&#39;,&#39;ftp&#39;], &#39;http://myproxy&#39; )
 Function: Get/Set a proxy for use of proxy
 Returns : a string indicating the proxy
 Args    : $protocol : an array ref of the protocol(s) to set/get
           $proxyurl : url of the proxy to use for the specified protocol
           $username : username (if proxy requires authentication)
           $password : password (if proxy requires authentication)</code></code></pre>

<h2 id="authentication">authentication</h2>

<pre><code><code> Title   : authentication
 Usage   : $db-&gt;authentication($user,$pass)
 Function: Get/Set authentication credentials
 Returns : Array of user/pass
 Args    : Array or user/pass</code></code></pre>


</body>

</html>


