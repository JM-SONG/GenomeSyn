<?xml version="1.0" ?>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<!-- saved from url=(0017)http://localhost/ -->
<script language="JavaScript" src="../../../../../displayToc.js"></script>
<script language="JavaScript" src="../../../../../tocParas.js"></script>
<script language="JavaScript" src="../../../../../tocTab.js"></script>
<link rel="stylesheet" type="text/css" href="../../../../../scineplex.css">
<title></title>
<link rel="stylesheet" href="../../../../../Active.css" type="text/css" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:support@ActiveState.com" />
</head>

<body>



<ul id="index">
  <li><a href="#NAME">NAME</a></li>
  <li><a href="#SYNOPSIS">SYNOPSIS</a></li>
  <li><a href="#DESCRIPTION">DESCRIPTION</a></li>
  <li><a href="#FEEDBACK">FEEDBACK</a>
    <ul>
      <li><a href="#Mailing-Lists">Mailing Lists</a></li>
      <li><a href="#Support">Support</a></li>
      <li><a href="#Reporting-Bugs">Reporting Bugs</a></li>
    </ul>
  </li>
  <li><a href="#AUTHOR---Lincoln-Stein">AUTHOR - Lincoln Stein</a></li>
  <li><a href="#APPENDIX">APPENDIX</a>
    <ul>
      <li><a href="#new">new</a></li>
      <li><a href="#cookie">cookie</a></li>
      <li><a href="#request_parameters">_request_parameters</a></li>
      <li><a href="#count">count</a></li>
      <li><a href="#ids">ids</a></li>
      <li><a href="#query">query</a></li>
      <li><a href="#parse_response">_parse_response</a></li>
      <li><a href="#generate_id_string">_generate_id_string</a></li>
    </ul>
  </li>
</ul>

<h1 id="NAME">NAME</h1>

<p>Bio::DB::Query::GenBank - Build a GenBank Entrez Query</p>

<h1 id="SYNOPSIS">SYNOPSIS</h1>

<pre><code><code>   <span class="keyword">use</span> <span class="variable">Bio::DB::Query::GenBank</span><span class="operator">;</span>
   <span class="keyword">use</span> <span class="variable">Bio::DB::GenBank</span><span class="operator">;</span>
   
   <span class="keyword">my</span> <span class="variable">$query_string</span> <span class="operator">=</span> <span class="string">'Oryza[Organism] AND EST[Keyword]'</span><span class="operator">;</span>
   <span class="keyword">my</span> <span class="variable">$query</span> <span class="operator">=</span> <span class="variable">Bio::DB::Query::GenBank</span><span class="operator">-&gt;</span><span class="variable">new</span><span class="operator">(</span><span class="string">-db</span> <span class="operator">=&gt;</span> <span class="string">'nucleotide'</span><span class="operator">,</span>
                                            <span class="string">-query</span> <span class="operator">=&gt;</span> <span class="variable">$query_string</span><span class="operator">,</span>
                                            <span class="string">-mindate</span> <span class="operator">=&gt;</span> <span class="string">'2001'</span><span class="operator">,</span>
                                            <span class="string">-maxdate</span> <span class="operator">=&gt;</span> <span class="string">'2002'</span><span class="operator">);</span>
   
   <span class="keyword">print</span> <span class="variable">$query</span><span class="operator">-&gt;</span><span class="variable">count</span><span class="operator">,</span><span class="string">"\n"</span><span class="operator">;</span>
   
   <span class="comment"># get a Genbank database handle</span>
   <span class="keyword">my</span> <span class="variable">$gb</span> <span class="operator">=</span> <span class="variable">Bio::DB::GenBank</span><span class="operator">-&gt;</span><span class="variable">new</span><span class="operator">();</span>
   <span class="keyword">my</span> <span class="variable">$stream</span> <span class="operator">=</span> <span class="variable">$gb</span><span class="operator">-&gt;</span><span class="variable">get_Stream_by_query</span><span class="operator">(</span><span class="variable">$query</span><span class="operator">);</span>
   <span class="keyword">while</span> <span class="operator">(</span><span class="keyword">my</span> <span class="variable">$seq</span> <span class="operator">=</span> <span class="variable">$stream</span><span class="operator">-&gt;</span><span class="variable">next_seq</span><span class="operator">)</span> <span class="operator">{</span>
      <span class="comment"># do something with the sequence object</span>
   <span class="operator">}</span>
   
   <span class="comment"># initialize the list yourself</span>
   <span class="keyword">my</span> <span class="variable">$query</span> <span class="operator">=</span> <span class="variable">Bio::DB::Query::GenBank</span><span class="operator">-&gt;</span><span class="variable">new</span><span class="operator">(</span><span class="string">-ids</span><span class="operator">=&gt;</span><span class="operator">[</span><span class="number">195052</span><span class="operator">,</span><span class="number">2981014</span><span class="operator">,</span><span class="number">11127914</span><span class="operator">]</span><span class="operator">);</span>
</code></code></pre>

<h1 id="DESCRIPTION">DESCRIPTION</h1>

<p>This class encapsulates NCBI Entrez queries. It can be used to store a list of GI numbers, to translate an Entrez query expression into a list of GI numbers, or to count the number of terms that would be returned by a query. Once created, the query object can be passed to a Bio::DB::GenBank object in order to retrieve the entries corresponding to the query.</p>

<h1 id="FEEDBACK">FEEDBACK</h1>

<h2 id="Mailing-Lists">Mailing Lists</h2>

<p>User feedback is an integral part of the evolution of this and other Bioperl modules. Send your comments and suggestions preferably to one of the Bioperl mailing lists. Your participation is much appreciated.</p>

<pre><code><code>  bioperl-l@bioperl.org                  - General discussion
  http://bioperl.org/wiki/Mailing_lists  - About the mailing lists</code></code></pre>

<h2 id="Support">Support</h2>

<p>Please direct usage questions or support issues to the mailing list:</p>

<p><i>bioperl-l@bioperl.org</i></p>

<p>rather than to the module maintainer directly. Many experienced and reponsive experts will be able look at the problem and quickly address it. Please include a thorough description of the problem with code and data examples if at all possible.</p>

<h2 id="Reporting-Bugs">Reporting Bugs</h2>

<p>Report bugs to the Bioperl bug tracking system to help us keep track the bugs and their resolution. Bug reports can be submitted via the web:</p>

<pre><code><code>  https://redmine.open-bio.org/projects/bioperl/</code></code></pre>

<h1 id="AUTHOR---Lincoln-Stein">AUTHOR - Lincoln Stein</h1>

<p>Email lstein@cshl.org</p>

<h1 id="APPENDIX">APPENDIX</h1>

<p>The rest of the documentation details each of the object methods. Internal methods are usually preceded with a _</p>

<h2 id="new">new</h2>

<pre><code><code> Title   : new
 Usage   : $db = Bio::DB::Query::GenBank-&gt;new(@args)
 Function: create new query object
 Returns : new query object
 Args    : -db       database (see below for allowable values)
           -query    query string
           -mindate  minimum date to retrieve from (YYYY/MM/DD)
           -maxdate  maximum date to retrieve from (YYYY/MM/DD)
           -reldate  relative date to retrieve from (days)
           -datetype date field to use (&#39;edat&#39; or &#39;mdat&#39;)
           -ids      array ref of gids (overrides query)
           -maxids   the maximum number of IDs you wish to collect
                     (defaults to 100)</code></code></pre>

<p>This method creates a new query object. Typically you will specify a -db and a -query argument, possibly modified by -mindate, -maxdate, or -reldate. -mindate and -maxdate specify minimum and maximum dates for entries you are interested in retrieving, expressed in the form YYYY/MM/DD. -reldate is used to fetch entries that are more recent than the indicated number of days.</p>

<p>If you provide an array reference of IDs in -ids, the query will be ignored and the list of IDs will be used when the query is passed to a Bio::DB::GenBank object&#39;s get_Stream_by_query() method. A variety of IDs are automatically recognized, including GI numbers, Accession numbers, Accession.version numbers and locus names.</p>

<p>By default, the query will collect only the first 100 IDs and will generate an exception if you call the ids() method and the query returned more than that number. To increase this maximum, set -maxids to a number larger than the number of IDs you expect to obtain. This only affects the list of IDs you obtain when you call the ids() method, and does not affect in any way the number of entries you receive when you generate a SeqIO stream from the query.</p>

<p>-db option values:</p>

<pre><code><code>  The most commonly used databases are:

      protein
      nucleotide
      nuccore
      nucgss
      nucest
      unigene

  An up to date list of database names supported by NCBI eUtils is
  always available at:
  http://eutils.ncbi.nlm.nih.gov/entrez/eutils/einfo.fcgi?

  However, note that not all of these databases return datatypes that
  are parsable by Bio::DB::GenBank</code></code></pre>

<h2 id="cookie">cookie</h2>

<pre><code><code> Title   : cookie
 Usage   : ($cookie,$querynum) = $db-&gt;cookie
 Function: return the NCBI query cookie
 Returns : list of (cookie,querynum)
 Args    : none</code></code></pre>

<p>NOTE: this information is used by Bio::DB::GenBank in conjunction with efetch.</p>

<h2 id="request_parameters">_request_parameters</h2>

<pre><code><code> Title   : _request_parameters
 Usage   : ($method,$base,@params = $db-&gt;_request_parameters
 Function: return information needed to construct the request
 Returns : list of method, url base and key=&gt;value pairs
 Args    : none</code></code></pre>

<h2 id="count">count</h2>

<pre><code><code> <span class="variable">Title</span>   <span class="operator">:</span> <span class="variable">count</span>
 <span class="variable">Usage</span>   <span class="operator">:</span> <span class="variable">$count</span> <span class="operator">=</span> <span class="variable">$db</span><span class="operator">-&gt;</span><span class="variable">count</span><span class="operator">;</span>
 <span class="variable">Function</span><span class="operator">:</span> <span class="keyword">return</span> <span class="variable">count</span> <span class="variable">of</span> <span class="variable">number</span> <span class="variable">of</span> <span class="variable">entries</span> <span class="variable">retrieved</span> <span class="variable">by</span> <span class="variable">query</span>
 <span class="variable">Returns</span> <span class="operator">:</span> <span class="variable">integer</span>
 <span class="variable">Args</span>    <span class="operator">:</span> <span class="variable">none</span>
</code></code></pre>

<p>Returns the number of entries that are matched by the query.</p>

<h2 id="ids">ids</h2>

<pre><code><code> Title   : ids
 Usage   : @ids = $db-&gt;ids([@ids])
 Function: get/set matching ids
 Returns : array of sequence ids
 Args    : (optional) array ref with new set of ids</code></code></pre>

<h2 id="query">query</h2>

<pre><code><code> Title   : query
 Usage   : $query = $db-&gt;query([$query])
 Function: get/set query string
 Returns : string
 Args    : (optional) new query string</code></code></pre>

<h2 id="parse_response">_parse_response</h2>

<pre><code><code> Title   : _parse_response
 Usage   : $db-&gt;_parse_response($content)
 Function: parse out response
 Returns : empty
 Args    : none
 Throws  : &#39;unparseable output exception&#39;</code></code></pre>

<h2 id="generate_id_string">_generate_id_string</h2>

<pre><code><code> Title   : _generate_id_string
 Usage   : $string = $db-&gt;_generate_id_string
 Function: joins IDs together in string (possibly implementation-dependent)
 Returns : string of concatenated IDs
 Args    : array ref of ids (normally passed into the constructor)</code></code></pre>


</body>

</html>


