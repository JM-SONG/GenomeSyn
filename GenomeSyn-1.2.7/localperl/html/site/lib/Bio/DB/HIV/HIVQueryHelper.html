<?xml version="1.0" ?>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<!-- saved from url=(0017)http://localhost/ -->
<script language="JavaScript" src="../../../../../displayToc.js"></script>
<script language="JavaScript" src="../../../../../tocParas.js"></script>
<script language="JavaScript" src="../../../../../tocTab.js"></script>
<link rel="stylesheet" type="text/css" href="../../../../../scineplex.css">
<title></title>
<link rel="stylesheet" href="../../../../../Active.css" type="text/css" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:support@ActiveState.com" />
</head>

<body>



<ul id="index">
  <li><a href="#NAME">NAME</a></li>
  <li><a href="#SYNOPSIS">SYNOPSIS</a></li>
  <li><a href="#DESCRIPTION">DESCRIPTION</a></li>
  <li><a href="#FEEDBACK">FEEDBACK</a>
    <ul>
      <li><a href="#Mailing-Lists">Mailing Lists</a></li>
      <li><a href="#Support">Support</a></li>
      <li><a href="#Reporting-Bugs">Reporting Bugs</a></li>
    </ul>
  </li>
  <li><a href="#AUTHOR---Mark-A.-Jensen">AUTHOR - Mark A. Jensen</a></li>
  <li><a href="#CONTRIBUTORS">CONTRIBUTORS</a></li>
  <li><a href="#APPENDIX">APPENDIX</a>
    <ul>
      <li><a href="#HIVSchema---objects-methods-to-manipulate-a-version-of-the-LANL-HIV-DB-schema">HIVSchema - objects/methods to manipulate a version of the LANL HIV DB schema</a>
        <ul>
          <li><a href="#HIVSchema-SYNOPSIS">HIVSchema SYNOPSIS</a></li>
          <li><a href="#HIVSchema-DESCRIPTION">HIVSchema DESCRIPTION</a></li>
          <li><a href="#HIVSchema-CONSTRUCTOR">HIVSchema CONSTRUCTOR</a>
            <ul>
              <li><a href="#HIVSchema::new">HIVSchema::new</a></li>
            </ul>
          </li>
          <li><a href="#HIVSchema-INSTANCE-METHODS">HIVSchema INSTANCE METHODS</a>
            <ul>
              <li><a href="#HIVSchema-tables">HIVSchema tables</a></li>
              <li><a href="#HIVSchema-columns">HIVSchema columns</a></li>
              <li><a href="#HIVSchema-fields">HIVSchema fields</a></li>
              <li><a href="#HIVSchema-options">HIVSchema options</a></li>
              <li><a href="#HIVSchema-aliases">HIVSchema aliases</a></li>
              <li><a href="#HIVSchema-ankh">HIVSchema ankh</a></li>
              <li><a href="#HIVSchema-tablepart">HIVSchema tablepart</a></li>
              <li><a href="#HIVSchema-columnpart">HIVSchema columnpart</a></li>
              <li><a href="#HIVSchema-primarykey">HIVSchema primarykey</a></li>
              <li><a href="#HIVSchema-foreignkey">HIVSchema foreignkey</a></li>
              <li><a href="#HIVSchema-foreigntable">HIVSchema foreigntable</a></li>
              <li><a href="#HIVSchema-find_join">HIVSchema find_join</a></li>
              <li><a href="#HIVSchema-_find_join_guts">HIVSchema _find_join_guts</a></li>
              <li><a href="#HIVSchema-loadSchema">HIVSchema loadSchema</a></li>
              <li><a href="#HIVSchema-_sfieldh">HIVSchema _sfieldh</a></li>
            </ul>
          </li>
        </ul>
      </li>
      <li><a href="#Class-QRY---a-query-algebra-for-HIVQuery">Class QRY - a query algebra for HIVQuery</a>
        <ul>
          <li><a href="#QRY-SYNOPSIS">QRY SYNOPSIS</a></li>
          <li><a href="#QRY-DESCRIPTION">QRY DESCRIPTION</a>
            <ul>
              <li><a href="#QRY-_make_q">QRY _make_q</a></li>
              <li><a href="#QRY-_make_q_guts">QRY _make_q_guts</a></li>
              <li><a href="#QRY-_parse_q">QRY _parse_q</a></li>
            </ul>
          </li>
          <li><a href="#QRY-CONSTRUCTOR">QRY CONSTRUCTOR</a>
            <ul>
              <li><a href="#QRY-Constructor">QRY Constructor</a></li>
            </ul>
          </li>
          <li><a href="#QRY-INSTANCE-METHODS">QRY INSTANCE METHODS</a>
            <ul>
              <li><a href="#QRY-requests">QRY requests</a></li>
              <li><a href="#QRY-put_requests">QRY put_requests</a></li>
              <li><a href="#QRY-isnull">QRY isnull</a></li>
              <li><a href="#QRY-A">QRY A</a></li>
              <li><a href="#QRY-len">QRY len</a></li>
              <li><a href="#QRY-clone">QRY clone</a></li>
            </ul>
          </li>
          <li><a href="#QRY-CLASS-METHODS">QRY CLASS METHODS</a>
            <ul>
              <li><a href="#QRY-Or">QRY Or</a></li>
              <li><a href="#QRY-And">QRY And</a></li>
              <li><a href="#QRY-Bool">QRY Bool</a></li>
              <li><a href="#QRY-Eq">QRY Eq</a></li>
            </ul>
          </li>
        </ul>
      </li>
      <li><a href="#Class-R---request-objects-for-QRY-algebra">Class R - request objects for QRY algebra</a>
        <ul>
          <li><a href="#R-SYNOPSIS">R SYNOPSIS</a></li>
          <li><a href="#R-DESCRIPTION">R DESCRIPTION</a></li>
          <li><a href="#R-CONSTRUCTOR">R CONSTRUCTOR</a>
            <ul>
              <li><a href="#R-constructor">R constructor</a></li>
            </ul>
          </li>
          <li><a href="#R-INSTANCE-METHODS">R INSTANCE METHODS</a>
            <ul>
              <li><a href="#R-len">R len</a></li>
              <li><a href="#R-atoms">R atoms</a></li>
              <li><a href="#R-fields">R fields</a></li>
              <li><a href="#R-put_atoms">R put_atoms</a></li>
              <li><a href="#R-del_atoms">R del_atoms</a></li>
              <li><a href="#R-isnull">R isnull</a></li>
              <li><a href="#R-A">R A</a></li>
              <li><a href="#R-clone">R clone</a></li>
            </ul>
          </li>
          <li><a href="#R-CLASS-METHODS">R CLASS METHODS</a>
            <ul>
              <li><a href="#R-In">R In</a></li>
              <li><a href="#R-And">R And</a></li>
              <li><a href="#R-Or">R Or</a></li>
              <li><a href="#R-Eq">R Eq</a></li>
            </ul>
          </li>
        </ul>
      </li>
      <li><a href="#Class-Q---atomic-query-objects-for-QRY-algebra">Class Q - atomic query objects for QRY algebra</a>
        <ul>
          <li><a href="#Q-SYNOPSIS">Q SYNOPSIS</a></li>
          <li><a href="#Q-DESCRIPTION">Q DESCRIPTION</a></li>
          <li><a href="#Q-CONSTRUCTOR">Q CONSTRUCTOR</a>
            <ul>
              <li><a href="#Q-constructor">Q constructor</a></li>
            </ul>
          </li>
          <li><a href="#Q-INSTANCE-METHODS">Q INSTANCE METHODS</a>
            <ul>
              <li><a href="#Q-isnull">Q isnull</a></li>
              <li><a href="#Q-fld">Q fld</a></li>
              <li><a href="#Q-dta">Q dta</a></li>
              <li><a href="#Q-A">Q A</a></li>
              <li><a href="#Q-clone">Q clone</a></li>
            </ul>
          </li>
          <li><a href="#Q-CLASS-METHODS">Q CLASS METHODS</a>
            <ul>
              <li><a href="#Q-qin">Q qin</a></li>
              <li><a href="#Q-qeq">Q qeq</a></li>
              <li><a href="#Q-qor">Q qor</a></li>
              <li><a href="#Q-qand">Q qand</a></li>
            </ul>
          </li>
          <li><a href="#Q-INTERNALS">Q INTERNALS</a>
            <ul>
              <li><a href="#Q-unique">Q unique</a></li>
            </ul>
          </li>
        </ul>
      </li>
      <li><a href="#Additional-tools-for-Bio::AnnotationCollectionI">Additional tools for Bio::AnnotationCollectionI</a>
        <ul>
          <li><a href="#Bio::AnnotationCollectionI-SYNOPSIS-additional-methods-">Bio::AnnotationCollectionI SYNOPSIS (additional methods)</a></li>
          <li><a href="#Bio::AnnotationCollectionI-DESCRIPTION-additional-methods-">Bio::AnnotationCollectionI DESCRIPTION (additional methods)</a></li>
        </ul>
      </li>
      <li><a href="#get_value">get_value</a></li>
      <li><a href="#put_value">put_value</a></li>
      <li><a href="#get_keys">get_keys</a></li>
    </ul>
  </li>
</ul>

<h1 id="NAME">NAME</h1>

<p>Bio::DB::HIV::HIVQueryHelper - Routines and packages used by Bio::DB::HIV and Bio::DB::Query::HIVQuery</p>

<h1 id="SYNOPSIS">SYNOPSIS</h1>

<pre><code><code>  Used in Bio::DB::Query::HIVQuery. No need to use directly.</code></code></pre>

<h1 id="DESCRIPTION">DESCRIPTION</h1>

<p><code><code>Bio::DB::HIV::HIVQueryHelper</code></code> contains a number of packages for use by <a href="../../../../../../.cpan/build/BioPerl-1.6.901-ghKY8U/blib/lib/Bio/DB/Query/HIVQuery.html">Bio::DB::Query::HIVQuery</a>. Package <code><code>HIVSchema</code></code> parses the <code><code>lanl-schema.xml</code></code> file, and allows access to it in the context of the relational database it represents (see APPENDIX for excruciating detail). Packages <code><code>QRY</code></code>, <code><code>R</code></code>, and <code><code>Q</code></code> together create the query string parser that enables NCBI-like queries to be understood by <code><code>Bio::DB::Query::HIVQuery</code></code>. They provide objects and operators to perform and simplify logical expressions involving <code><code>AND</code></code>, <code><code>OR</code></code>, and <code><code>()</code></code> and return hash structures that can be handled by <code><code>Bio::DB::Query::HIVQuery</code></code> routines.</p>

<h1 id="FEEDBACK">FEEDBACK</h1>

<h2 id="Mailing-Lists">Mailing Lists</h2>

<p>User feedback is an integral part of the evolution of this and other Bioperl modules. Send your comments and suggestions preferably to the Bioperl mailing list. Your participation is much appreciated.</p>

<pre><code><code>  bioperl-l@bioperl.org                  - General discussion
  http://bioperl.org/wiki/Mailing_lists  - About the mailing lists</code></code></pre>

<h2 id="Support">Support</h2>

<p>Please direct usage questions or support issues to the mailing list:</p>

<p><i>bioperl-l@bioperl.org</i></p>

<p>rather than to the module maintainer directly. Many experienced and reponsive experts will be able look at the problem and quickly address it. Please include a thorough description of the problem with code and data examples if at all possible.</p>

<h2 id="Reporting-Bugs">Reporting Bugs</h2>

<p>Report bugs to the Bioperl bug tracking system to help us keep track of the bugs and their resolution. Bug reports can be submitted via the web:</p>

<pre><code><code>  https://redmine.open-bio.org/projects/bioperl/</code></code></pre>

<h1 id="AUTHOR---Mark-A.-Jensen">AUTHOR - Mark A. Jensen</h1>

<p>Email maj@fortinbras.us</p>

<h1 id="CONTRIBUTORS">CONTRIBUTORS</h1>

<p>Mark A. Jensen</p>

<h1 id="APPENDIX">APPENDIX</h1>

<p>The rest of the documentation details each of the contained packages. Internal methods are usually preceded with a _</p>

<h2 id="HIVSchema---objects-methods-to-manipulate-a-version-of-the-LANL-HIV-DB-schema">HIVSchema - objects/methods to manipulate a version of the LANL HIV DB schema</h2>

<h3 id="HIVSchema-SYNOPSIS">HIVSchema SYNOPSIS</h3>

<pre><code><code>    <span class="variable">$schema</span> <span class="operator">=</span> <span class="variable">new</span> <span class="variable">HIVSchema</span><span class="operator">(</span> <span class="string">'lanl-schema.xml'</span> <span class="operator">);</span>
    <span class="variable">@tables</span> <span class="operator">=</span> <span class="variable">$schema</span><span class="operator">-&gt;</span><span class="variable">tables</span><span class="operator">;</span>
    <span class="variable">@validFields</span> <span class="operator">=</span> <span class="variable">$schema</span><span class="operator">-&gt;</span><span class="variable">fields</span><span class="operator">;</span>
    <span class="variable">@validAliases</span> <span class="operator">=</span> <span class="variable">$schema</span><span class="operator">-&gt;</span><span class="variable">aliases</span><span class="operator">;</span>
    <span class="variable">@query_aliases_for_coreceptor</span> <span class="operator">=</span> <span class="variable">$schema</span><span class="operator">-&gt;</span><span class="variable">aliases</span><span class="operator">(</span> <span class="string">'SEQ_SAMple.SSAM_second_receptor'</span> <span class="operator">);</span>
    <span class="variable">$pk_for_SequenceEntry</span> <span class="operator">=</span> <span class="variable">$schema</span><span class="operator">-&gt;</span><span class="variable">primarykey</span><span class="operator">(</span><span class="string">'SequenceEntry'</span><span class="operator">);</span>    <span class="comment"># returns 'SequenceEntry.SE_id'</span>
    <span class="variable">$fk_for_SEQ_SAMple_to_SequenceEntry</span> <span class="operator">=</span>
              <span class="variable">$schema</span><span class="operator">-&gt;</span><span class="variable">foreignkey</span><span class="operator">(</span><span class="string">'SEQ_SAMple'</span><span class="operator">,</span> <span class="string">'SequenceEntry'</span><span class="operator">);</span>    <span class="comment"># returns 'SEQ_SAMple.SSAM_SE_id'</span>
    
    <span class="variable">$table</span> <span class="operator">=</span> <span class="variable">$schema</span><span class="operator">-&gt;</span><span class="variable">tablepart</span><span class="operator">(</span><span class="string">'SEQ_SAMple.SSAM_badseq'</span><span class="operator">);</span>           <span class="comment"># returns 'SEQ_SAMple'</span>
    <span class="variable">$column</span> <span class="operator">=</span> <span class="variable">$schema</span><span class="operator">-&gt;</span><span class="variable">columnpart</span><span class="operator">(</span><span class="string">'SEQ_SAMple.SSAM_badseq'</span><span class="operator">);</span>         <span class="comment"># returns 'SSAM_badseq'</span>
</code></code></pre>

<h3 id="HIVSchema-DESCRIPTION">HIVSchema DESCRIPTION</h3>

<p>HIVSchema methods are used in <a href="../../../../../../.cpan/build/BioPerl-1.6.901-ghKY8U/blib/lib/Bio/DB/Query/HIVQuery.html">Bio::DB::Query::HIVQuery</a> for table, column, primary/foreign key manipulations based on the observed Los Alamos HIV Sequence Database (LANL DB) naming conventions for their CGI parameters. The schema is contained in an XML file (<code><code>lanl-schema.xml</code></code>) which is read into an HIVSchema object, in turn a property of the HIVQuery object. HIVSchema methods are used to build correct cgi queries in a way that attempts to preserve the context of the relational database the query parameters represent.</p>

<h3 id="HIVSchema-CONSTRUCTOR">HIVSchema CONSTRUCTOR</h3>

<h4 id="HIVSchema::new">HIVSchema::new</h4>

<pre><code><code> <span class="variable">Title</span>   <span class="operator">:</span> <span class="variable">new</span>
 <span class="variable">Usage</span>   <span class="operator">:</span> <span class="variable">$schema</span> <span class="operator">=</span> <span class="variable">new</span> <span class="variable">HIVSchema</span><span class="operator">(</span> <span class="string">"lanl-schema.xml "</span><span class="operator">);</span>
 <span class="variable">Function</span><span class="operator">:</span>
 <span class="variable">Example</span> <span class="operator">:</span>
 <span class="variable">Returns</span> <span class="operator">:</span> <span class="variable">an</span> <span class="variable">HIVSchema</span> <span class="variable">object</span>
 <span class="variable">Args</span>    <span class="operator">:</span> <span class="variable">XML</span> <span class="variable">filename</span>
</code></code></pre>

<h3 id="HIVSchema-INSTANCE-METHODS">HIVSchema INSTANCE METHODS</h3>

<h4 id="HIVSchema-tables">HIVSchema tables</h4>

<pre><code><code> Title   : tables
 Usage   : $schema-&gt;tables()
 Function: get all table names in schema
 Example :
 Returns : array of table names
 Args    : none</code></code></pre>

<h4 id="HIVSchema-columns">HIVSchema columns</h4>

<pre><code><code> <span class="variable">Title</span>   <span class="operator">:</span> <span class="variable">columns</span>
 <span class="variable">Usage</span>   <span class="operator">:</span> <span class="variable">$schema</span><span class="operator">-&gt;</span><span class="variable">columns</span><span class="operator">(</span> <span class="operator">[</span><span class="variable">$tablename</span><span class="operator">]</span> <span class="operator">);</span>
 <span class="variable">Function</span><span class="operator">:</span> <span class="keyword">return</span> <span class="variable">array</span> <span class="variable">of</span> <span class="variable">columns</span> <span class="keyword">for</span> <span class="variable">specified</span> <span class="variable">table</span><span class="operator">,</span> <span class="keyword">or</span> <span class="variable">all</span> <span class="variable">columns</span> <span class="variable">in</span>
           <span class="variable">schema</span><span class="operator">,</span> <span class="keyword">if</span> <span class="variable">called</span> <span class="variable">w</span><span class="operator">/</span><span class="variable">o</span> <span class="variable">args</span>
 <span class="variable">Example</span> <span class="operator">:</span>
 <span class="variable">Returns</span> <span class="operator">:</span>
 <span class="variable">Args</span>    <span class="operator">:</span> <span class="variable">tablename</span> <span class="keyword">or</span> <span class="variable">fieldname</span> <span class="variable">string</span>
</code></code></pre>

<h4 id="HIVSchema-fields">HIVSchema fields</h4>

<pre><code><code> <span class="variable">Title</span>   <span class="operator">:</span> <span class="variable">fields</span>
 <span class="variable">Usage</span>   <span class="operator">:</span> <span class="variable">$schema</span><span class="operator">-&gt;</span><span class="variable">fields</span><span class="operator">();</span>
 <span class="variable">Function</span><span class="operator">:</span> <span class="keyword">return</span> <span class="variable">array</span> <span class="variable">of</span> <span class="variable">all</span> <span class="variable">fields</span> <span class="variable">in</span> <span class="variable">schema</span><span class="operator">,</span> <span class="variable">in</span> <span class="keyword">format</span> <span class="string">"table.column"</span>
 <span class="variable">Example</span> <span class="operator">:</span>
 <span class="variable">Returns</span> <span class="operator">:</span> <span class="variable">array</span> <span class="variable">of</span> <span class="variable">all</span> <span class="variable">fields</span>
 <span class="variable">Args</span>    <span class="operator">:</span> <span class="variable">none</span>
</code></code></pre>

<h4 id="HIVSchema-options">HIVSchema options</h4>

<pre><code><code> Title   : options
 Usage   : $schema-&gt;options(@fieldnames)
 Function: get array of options (i.e., valid match data strings) available
           to specified field
 Example :
 Returns : array of match data strings
 Args    : [array of] fieldname string[s] in &quot;table.column&quot; format</code></code></pre>

<h4 id="HIVSchema-aliases">HIVSchema aliases</h4>

<pre><code><code> Title   : aliases
 Usage   : $schema-&gt;aliases(@fieldnames)
 Function: get array of aliases to specified field[s]
 Example :
 Returns : array of valid query aliases for fields as spec&#39;d in XML file
 Args    : [an array of] fieldname[s] in &quot;table.column&quot; format</code></code></pre>

<h4 id="HIVSchema-ankh">HIVSchema ankh</h4>

<pre><code><code> Title   : ankh (annotation key hash)
 Usage   : $schema-&gt;ankh(@fieldnames)
 Function: return a hash translating fields to annotation keys for the
           spec&#39;d fields.
           (Annotation keys are used for parsing the tab-delimited response
           to Bio::DB::Query::HIVQuery::_do_lanl_request.)
 Example :
 Returns : hash ref
 Args    : [an array of] fieldname[s] in &quot;table.column&quot; format</code></code></pre>

<h4 id="HIVSchema-tablepart">HIVSchema tablepart</h4>

<pre><code><code> <span class="variable">Title</span>   <span class="operator">:</span> <span class="variable">tablepart</span> <span class="operator">(</span><span class="variable">alias</span><span class="operator">:</span> <span class="variable">tbl</span><span class="operator">)</span>
 <span class="variable">Usage</span>   <span class="operator">:</span> <span class="variable">$schema</span><span class="operator">-&gt;</span><span class="variable">tbl</span><span class="operator">(</span><span class="variable">@fieldnames</span><span class="operator">)</span>
 <span class="variable">Function</span><span class="operator">:</span> <span class="keyword">return</span> <span class="variable">the</span> <span class="variable">portion</span> <span class="variable">of</span> <span class="variable">the</span> <span class="variable">fieldname</span><span class="operator">[</span><span class="regex">s] that refer to the
           db table
 Example : </span><span class="variable">$schema</span><span class="regex">-&gt;tbl('SequenceEntry.SE_id'); # returns 'SequenceEntry'
 Returns : table name as string
 Args    : [an array of] fieldname[s]</span> <span class="variable">in</span> <span class="string">"table.column"</span> <span class="keyword">format</span>
</code></code></pre>

<h4 id="HIVSchema-columnpart">HIVSchema columnpart</h4>

<pre><code><code> <span class="variable">Title</span>   <span class="operator">:</span> <span class="variable">columnpart</span> <span class="operator">(</span><span class="variable">alias</span><span class="operator">:</span> <span class="variable">col</span><span class="operator">)</span>
 <span class="variable">Usage</span>   <span class="operator">:</span> <span class="variable">$schema</span><span class="operator">-&gt;</span><span class="variable">col</span><span class="operator">(</span><span class="variable">@fieldnames</span><span class="operator">)</span>
 <span class="variable">Function</span><span class="operator">:</span> <span class="keyword">return</span> <span class="variable">the</span> <span class="variable">portion</span> <span class="variable">of</span> <span class="variable">the</span> <span class="variable">fieldname</span><span class="operator">[</span><span class="regex">s] that refer to the
           db column
 Example : </span><span class="variable">$schema</span><span class="regex">-&gt;col('SequenceEntry.SE_id'); # returns 'SE_id'
 Returns : column name as string
 Args    : [an array of] fieldname[s]</span> <span class="variable">in</span> <span class="string">"table.column"</span> <span class="keyword">format</span>
</code></code></pre>

<h4 id="HIVSchema-primarykey">HIVSchema primarykey</h4>

<pre><code><code> <span class="variable">Title</span>   <span class="operator">:</span> <span class="variable">primarykey</span> <span class="operator">[</span><span class="variable">alias</span><span class="operator">:</span> <span class="variable">pk</span><span class="operator">]</span>
 <span class="variable">Usage</span>   <span class="operator">:</span> <span class="variable">$schema</span><span class="operator">-&gt;</span><span class="variable">pk</span><span class="operator">(</span><span class="variable">@tablenames</span><span class="operator">);</span>
 <span class="variable">Function</span><span class="operator">:</span> <span class="keyword">return</span> <span class="variable">the</span> <span class="variable">primary</span> <span class="variable">key</span> <span class="variable">of</span> <span class="variable">the</span> <span class="variable">specified</span> <span class="variable">table</span><span class="operator">[</span><span class="regex">s], as judged by
           the syntax of the table's[s'] fieldnames
 Example : $schema-&gt;pk('SequenceEntry') # returns 'SequenceEntry.SE_id'
 Returns : primary key fieldname[s]</span> <span class="variable">in</span> <span class="string">"table.column"</span> <span class="keyword">format</span><span class="operator">,</span> <span class="keyword">or</span> <span class="variable">null</span> <span class="keyword">if</span>
           <span class="keyword">no</span> <span class="variable">pk</span> <span class="keyword">exists</span>
 <span class="variable">Args</span>    <span class="operator">:</span> <span class="operator">[</span><span class="variable">an</span> <span class="variable">array</span> <span class="variable">of</span><span class="operator">]</span> <span class="variable">table</span> <span class="variable">name</span><span class="operator">[</span><span class="regex">s] (fieldnames are ok, table part used)
 </span>
</code></code></pre>

<h4 id="HIVSchema-foreignkey">HIVSchema foreignkey</h4>

<pre><code><code> <span class="variable">Title</span>   <span class="operator">:</span> <span class="variable">foreignkey</span> <span class="operator">[</span><span class="variable">alias</span><span class="operator">:</span> <span class="variable">fk</span><span class="operator">]</span>
 <span class="variable">Usage</span>   <span class="operator">:</span> <span class="variable">$schema</span><span class="operator">-&gt;</span><span class="variable">fk</span><span class="operator">(</span><span class="variable">$intable</span> <span class="operator">[</span><span class="operator">,</span> <span class="variable">$totable</span><span class="operator">]</span><span class="operator">)</span>
 <span class="variable">Function</span><span class="operator">:</span> <span class="keyword">return</span> <span class="variable">foreign</span> <span class="variable">key</span> <span class="variable">fieldname</span> <span class="variable">in</span> <span class="variable">table</span> <span class="variable">$intable</span> <span class="variable">referring</span> <span class="variable">to</span>
           <span class="variable">table</span> <span class="variable">$totable</span><span class="operator">,</span> <span class="keyword">or</span> <span class="variable">all</span> <span class="variable">foreign</span> <span class="keyword">keys</span> <span class="variable">in</span> <span class="variable">$intable</span> <span class="keyword">if</span> <span class="variable">$totable</span>
           <span class="variable">unspec'd</span>
 <span class="variable">Example</span> <span class="operator">:</span> <span class="variable">$schema</span><span class="operator">-&gt;</span><span class="variable">fk</span><span class="operator">(</span><span class="string">'AUthor'</span><span class="operator">,</span> <span class="string">'SequenceEntry'</span><span class="operator">);</span> <span class="comment"># returns 'AUthor_AU_SE_id'</span>
 <span class="variable">Returns</span> <span class="operator">:</span> <span class="variable">foreign</span> <span class="variable">key</span> <span class="variable">fieldname</span><span class="operator">[</span><span class="regex">s] in "table.column" format
 Args    : tablename [, optional foreign table name] (fieldnames are ok,
           table part used)
 </span>
</code></code></pre>

<h4 id="HIVSchema-foreigntable">HIVSchema foreigntable</h4>

<pre><code><code> <span class="variable">Title</span>   <span class="operator">:</span> <span class="variable">foreigntable</span> <span class="operator">[</span><span class="variable">alias</span> <span class="variable">ftbl</span><span class="operator">]</span>
 <span class="variable">Usage</span>   <span class="operator">:</span> <span class="variable">$schema</span><span class="operator">-&gt;</span><span class="variable">ftbl</span><span class="operator">(</span> <span class="variable">@foreign_key_fieldnames</span> <span class="operator">);</span>
 <span class="variable">Function</span><span class="operator">:</span> <span class="keyword">return</span> <span class="variable">tablename</span> <span class="variable">of</span> <span class="variable">table</span> <span class="variable">that</span> <span class="variable">foreign</span> <span class="keyword">keys</span> <span class="variable">points</span> <span class="variable">to</span>
 <span class="variable">Example</span> <span class="operator">:</span> <span class="variable">$schema</span><span class="operator">-&gt;</span><span class="variable">ftbl</span><span class="operator">(</span> <span class="string">'AUthor.AU_SE_id'</span> <span class="operator">);</span> <span class="comment"># returns 'SequenceEntry'</span>
 <span class="variable">Returns</span> <span class="operator">:</span> <span class="variable">tablename</span>
 <span class="variable">Args</span>    <span class="operator">:</span> <span class="operator">[</span><span class="variable">an</span> <span class="variable">array</span> <span class="variable">of</span><span class="operator">]</span> <span class="variable">fieldname</span><span class="operator">[</span><span class="regex">s] in "table.column" format
 </span>
</code></code></pre>

<h4 id="HIVSchema-find_join">HIVSchema find_join</h4>

<pre><code><code> Title   : find_join
 Usage   : $sch-&gt;find_join(&#39;Table1&#39;, &#39;Table2&#39;)
 Function: Retrieves a set of foreign and primary keys (in table.column
           format) that represents a join path from Table1 to Table2
 Example :
 Returns : an array of keys (as table.column strings) -or- an empty
           array if Table1 == Table2 -or- undef if no path exists
 Args    : two table names as strings</code></code></pre>

<h4 id="HIVSchema-_find_join_guts">HIVSchema _find_join_guts</h4>

<pre><code><code> <span class="variable">Title</span>   <span class="operator">:</span> <span class="variable">_find_join_guts</span>
 <span class="variable">Usage</span>   <span class="operator">:</span> <span class="variable">$sch</span><span class="operator">-&gt;</span><span class="variable">_find_join_guts</span><span class="operator">(</span><span class="variable">$table1</span><span class="operator">,</span> <span class="variable">$table2</span><span class="operator">,</span> <span class="variable">$stackref</span><span class="operator">,</span> <span class="operator">\</span><span class="variable">$found</span><span class="operator">,</span> <span class="variable">$reverse</span><span class="operator">)</span>
           <span class="operator">(</span><span class="variable">call</span> <span class="variable">with</span> <span class="variable">$stackref</span> <span class="operator">=</span> <span class="operator">[]</span><span class="operator">,</span> <span class="variable">$found</span><span class="operator">=</span><span class="number">0</span><span class="operator">)</span>
 <span class="variable">Function</span><span class="operator">:</span> <span class="variable">recursive</span> <span class="variable">guts</span> <span class="variable">of</span> <span class="variable">find_join</span>
 <span class="variable">Example</span> <span class="operator">:</span>
 <span class="variable">Returns</span> <span class="operator">:</span> <span class="keyword">if</span> <span class="variable">a</span> <span class="variable">path</span> <span class="variable">is</span> <span class="variable">found</span><span class="operator">,</span> <span class="variable">$found</span><span class="operator">==</span><span class="number">1</span> <span class="keyword">and</span> <span class="variable">@$stackref</span> <span class="variable">contains</span> <span class="variable">the</span> <span class="keyword">keys</span>
           <span class="variable">in</span> <span class="variable">table</span><span class="operator">.</span><span class="variable">column</span> <span class="keyword">format</span> <span class="variable">representing</span> <span class="variable">the</span> <span class="variable">path</span><span class="operator">;</span> <span class="keyword">if</span> <span class="variable">a</span> <span class="variable">path</span> <span class="variable">is</span> <span class="keyword">not</span>
           <span class="variable">found</span><span class="operator">,</span> <span class="variable">$found</span> <span class="operator">==</span> <span class="number">0</span> <span class="keyword">and</span> <span class="variable">@$stackref</span> <span class="variable">contains</span> <span class="variable">garbage</span>
 <span class="variable">Args</span>    <span class="operator">:</span> <span class="variable">$table1</span><span class="operator">,</span> <span class="variable">$table2</span> <span class="operator">:</span> <span class="variable">table</span> <span class="variable">names</span> <span class="variable">as</span> <span class="variable">strings</span>
           <span class="variable">$stackref</span> <span class="operator">:</span> <span class="variable">an</span> <span class="variable">arrayref</span> <span class="variable">to</span> <span class="variable">an</span> <span class="variable">empty</span> <span class="variable">array</span>
           <span class="operator">\</span><span class="variable">$found</span>   <span class="operator">:</span> <span class="variable">a</span> <span class="keyword">scalar</span> <span class="keyword">ref</span> <span class="variable">to</span> <span class="variable">the</span> <span class="variable">value</span> <span class="number">0</span>
           <span class="variable">$rev</span> <span class="operator">:</span> <span class="keyword">if</span> <span class="variable">$rev</span><span class="operator">==</span><span class="number">1</span><span class="operator">,</span> <span class="variable">the</span> <span class="variable">arrays</span> <span class="variable">of</span> <span class="variable">table</span> <span class="variable">names</span> <span class="variable">will</span> <span class="variable">be</span> <span class="variable">reversed</span><span class="operator">;</span>
                  <span class="variable">this</span> <span class="variable">can</span> <span class="variable">give</span> <span class="variable">a</span> <span class="variable">shorter</span> <span class="variable">path</span> <span class="keyword">if</span> <span class="variable">cycles</span> <span class="variable">exist</span> <span class="variable">in</span> <span class="variable">the</span>
                  <span class="variable">schema</span> <span class="variable">graph</span>
</code></code></pre>

<h4 id="HIVSchema-loadSchema">HIVSchema loadSchema</h4>

<pre><code><code> <span class="variable">Title</span>   <span class="operator">:</span> <span class="variable">loadHIVSchema</span> <span class="operator">[</span><span class="variable">alias</span><span class="operator">:</span> <span class="variable">loadSchema</span><span class="operator">]</span>
 <span class="variable">Usage</span>   <span class="operator">:</span> <span class="variable">$schema</span><span class="operator">-&gt;</span><span class="variable">loadSchema</span><span class="operator">(</span> <span class="variable">$XMLfilename</span> <span class="operator">)</span>
 <span class="variable">Function</span><span class="operator">:</span> <span class="keyword">read</span> <span class="operator">(</span><span class="variable">LANL</span> <span class="variable">DB</span><span class="operator">)</span> <span class="variable">schema</span> <span class="variable">spec</span> <span class="variable">from</span> <span class="variable">XML</span>
 <span class="variable">Example</span> <span class="operator">:</span> <span class="variable">$schema</span><span class="operator">-&gt;</span><span class="variable">loadSchema</span><span class="operator">(</span><span class="string">'lanl-schema.xml'</span><span class="operator">);</span>
 <span class="variable">Returns</span> <span class="operator">:</span> <span class="variable">hashref</span> <span class="variable">to</span> <span class="variable">schema</span> <span class="variable">data</span>
           <span class="variable">Keys</span> <span class="variable">are</span> <span class="variable">fieldnames</span> <span class="variable">in</span> <span class="string">"table.column"</span> <span class="keyword">format</span><span class="operator">.</span>
           <span class="variable">Each</span> <span class="variable">value</span> <span class="variable">is</span> <span class="variable">a</span> <span class="variable">hashref</span> <span class="variable">with</span> <span class="variable">the</span> <span class="variable">following</span> <span class="variable">properties</span><span class="operator">:</span>
           <span class="operator">{</span><span class="string">name</span><span class="operator">}</span>    <span class="operator">:</span> <span class="variable">HIVWEB</span> <span class="string">'table.column'</span> <span class="keyword">format</span> <span class="variable">fieldname</span><span class="operator">,</span>
                       <span class="variable">can</span> <span class="variable">be</span> <span class="variable">used</span> <span class="variable">directly</span> <span class="variable">in</span> <span class="variable">the</span> <span class="variable">cgi</span> <span class="variable">query</span>
           <span class="operator">{</span><span class="variable">aliases</span><span class="operator">}</span> <span class="operator">:</span> <span class="keyword">ref</span> <span class="variable">to</span> <span class="variable">array</span> <span class="variable">containing</span> <span class="variable">valid</span> <span class="variable">aliases</span><span class="operator">/</span><span class="variable">shortcuts</span> <span class="keyword">for</span>
                       <span class="operator">{</span><span class="variable">name</span><span class="operator">};</span> <span class="variable">can</span> <span class="variable">be</span> <span class="variable">used</span> <span class="variable">in</span> <span class="variable">routines</span> <span class="variable">creating</span> <span class="variable">the</span> <span class="variable">HTML</span> <span class="variable">query</span>
           <span class="operator">{</span><span class="variable">options</span><span class="operator">}</span> <span class="operator">:</span> <span class="keyword">ref</span> <span class="variable">to</span> <span class="variable">array</span> <span class="variable">containing</span> <span class="variable">valid</span> <span class="variable">matchdata</span> <span class="keyword">for</span> <span class="variable">this</span> <span class="variable">field</span>
                       <span class="variable">can</span> <span class="variable">be</span> <span class="variable">used</span> <span class="variable">directly</span> <span class="variable">in</span> <span class="variable">the</span> <span class="variable">HTML</span> <span class="variable">query</span>
           <span class="operator">{</span><span class="variable">ankey</span><span class="operator">}</span>   <span class="operator">:</span> <span class="variable">contains</span> <span class="variable">the</span> <span class="variable">annotation</span> <span class="variable">key</span> <span class="keyword">for</span> <span class="variable">this</span> <span class="variable">field</span> <span class="variable">used</span> <span class="variable">with</span>
                       <span class="variable">Bioperl</span> <span class="variable">annotation</span> <span class="variable">objects</span>
           <span class="operator">{..</span><span class="variable">attr</span><span class="operator">..}:</span> <span class="operator">..</span><span class="variable">value_of_attr</span><span class="operator">..</span> <span class="keyword">for</span> <span class="variable">this</span> <span class="variable">field</span> <span class="operator">(</span><span class="variable">app</span><span class="operator">-</span><span class="variable">specific</span> <span class="variable">metadata</span><span class="operator">)</span>
 <span class="variable">Args</span>    <span class="operator">:</span>
</code></code></pre>

<h4 id="HIVSchema-_sfieldh">HIVSchema _sfieldh</h4>

<pre><code><code> Title   : _sfieldh
 Usage   : $schema-&gt;_sfieldh($fieldname)
 Function: get hashref to the specified field hash
 Example :
 Returns : hashref
 Args    : fieldname in &quot;table.column&quot; format</code></code></pre>

<h2 id="Class-QRY---a-query-algebra-for-HIVQuery">Class QRY - a query algebra for HIVQuery</h2>

<h3 id="QRY-SYNOPSIS">QRY SYNOPSIS</h3>

<pre><code><code>  <span class="variable">$Q</span> <span class="operator">=</span> <span class="variable">new</span> <span class="variable">QRY</span><span class="operator">(</span>
               <span class="variable">new</span> <span class="variable">R</span><span class="operator">(</span>
                      <span class="variable">new</span> <span class="variable">Q</span><span class="operator">(</span><span class="string">'coreceptor'</span><span class="operator">,</span> <span class="string">'CXCR4'</span><span class="operator">),</span>
                      <span class="variable">new</span> <span class="variable">Q</span><span class="operator">(</span><span class="string">'country'</span><span class="operator">,</span> <span class="string">'ZA'</span><span class="operator">)</span>
                     <span class="operator">)</span>
               <span class="operator">);</span>
  <span class="variable">QRY::Eq</span><span class="operator">(</span><span class="variable">QRY::And</span><span class="operator">(</span><span class="variable">$Q</span><span class="operator">,</span> <span class="variable">$Q</span><span class="operator">),</span> <span class="variable">$Q</span><span class="operator">);</span>                     <span class="comment"># returns 1</span>
  <span class="variable">QRY::Eq</span><span class="operator">(</span><span class="variable">QRY::Or</span><span class="operator">(</span><span class="variable">$Q</span><span class="operator">,</span> <span class="variable">$Q</span><span class="operator">),</span> <span class="variable">$Q</span><span class="operator">);</span>                      <span class="comment"># returns 1</span>
  <span class="variable">$Q2</span> <span class="operator">=</span> <span class="variable">$Q1</span><span class="operator">-&gt;</span><span class="variable">clone</span><span class="operator">;</span>
  <span class="variable">$Q2</span> <span class="operator">=</span> <span class="variable">new</span> <span class="variable">QRY</span><span class="operator">(</span>
                <span class="variable">new</span> <span class="variable">R</span><span class="operator">(</span>
                       <span class="variable">new</span> <span class="variable">Q</span><span class="operator">(</span> <span class="string">'coreceptor'</span><span class="operator">,</span> <span class="string">'CCR5'</span> <span class="operator">),</span>
                       <span class="variable">new</span> <span class="variable">Q</span><span class="operator">(</span> <span class="string">'country'</span><span class="operator">,</span> <span class="string">'ZA'</span><span class="operator">)</span>
                      <span class="operator">)</span>
               <span class="operator">);</span>
  <span class="operator">(</span><span class="variable">QRY::And</span><span class="operator">(</span><span class="variable">$Q</span><span class="operator">,</span> <span class="variable">$Q2</span><span class="operator">))-&gt;</span><span class="variable">isnull</span><span class="operator">;</span>                       <span class="comment"># returns 1</span>
  <span class="variable">$Q3</span> <span class="operator">=</span> <span class="variable">QRY::Or</span><span class="operator">(</span><span class="variable">$Q</span><span class="operator">,</span> <span class="variable">$Q2</span><span class="operator">);</span>
  <span class="keyword">print</span> <span class="variable">$Q3</span><span class="operator">-&gt;</span>A<span class="operator">;</span>                                      <span class="comment"># prints '(CCR5 CXCR4)[coreceptor] (ZA)[country]'</span>
</code></code></pre>

<h3 id="QRY-DESCRIPTION">QRY DESCRIPTION</h3>

<p>The QRY package provides a query parser for <a href="../../../../../../.cpan/build/BioPerl-1.6.901-ghKY8U/blib/lib/Bio/DB/Query/HIVQuery.html">Bio::DB::Query::HIVQuery</a>. Currently, the parser supports AND, OR, and () operations. The structure of the LANL cgi makes it tricky to perform NOTs, though this could be implemented if the desire were great.</p>

<p>Two class methods do the work. <code><code>QRY::_parse_q</code></code> does a first-pass parse of the query string. <code><code>QRY::_make_q</code></code> interprets the parse tree as returned by <code><code>QRY::_parse_q</code></code> and produces an array of hash structures that can be used directly by <code><code>Bio::DB::Query::HIVQuery</code></code> query execution methods. Validation of query fields and options is performed at the <code><code>Bio::DB::Query::HIVQuery</code></code> level, not here.</p>

<p><code><code>QRY</code></code> objects are collections of <code><code>R</code></code> (or request) objects, which are in turn collections of <code><code>Q</code></code> (or atomic query) objects. <code><code>Q</code></code> objects represent a query on a single field, with match data options <code><code>OR</code></code>ed together, e.g. <code><code>(A B)[subtype]</code></code>. <code><code>R</code></code> objects collect <code><code>Q</code></code> objects that could be processed in a single HTTP request; i.e., a set of atomic queries each having different fields <code><code>AND</code></code>ed together, such as</p>

<pre><code><code>  (A B)[subtype] AND (&#39;CCR5&#39;)[coreceptor] AND (US CA)[country]</code></code></pre>

<p>The <code><code>QRY</code></code> object collects <code><code>R</code></code>s that cannot be reduced (through logical operations) to a single HTTP request, e.g.</p>

<pre><code><code>  ((C)[subtype] AND (SI)[phenotype]) OR ( (D)[subtype] AND (NSI)[phenotype] ),</code></code></pre>

<p>which cannot be got in one go through the current LANL cgi implementation (as far as I can tell). The parser will simplify something like</p>

<pre><code><code>  ((C)[subtype] AND (SI)[phenotype]) OR ((C)[subtype] AND (NSI)[phenotype])</code></code></pre>

<p>to the single request</p>

<pre><code><code>  (C)[subtype] AND (NSI SI)[phenotype]</code></code></pre>

<p>however.</p>

<p>The operators <code><code>&amp;</code></code> and <code><code>|</code></code> are overloaded to <code><code>QRY::And</code></code> and <code><code>QRY::Or</code></code>, to get Perl precedence and grouping for free. <code><code>bool</code></code> is overloaded to get symbolic tests such as <code><code><span class="keyword">if</span> <span class="operator">(</span><span class="variable">$QRY</span><span class="operator">)</span> <span class="operator">{</span><span class="variable">stuff</span><span class="operator">}</span>
</code></code>. <code><code>==</code></code> is overloaded with <code><code>QRY::Eq</code></code> for convenience. No overloading is done for <code><code>R</code></code> or <code><code>Q</code></code>.</p>

<h4 id="QRY-_make_q">QRY _make_q</h4>

<pre><code><code> Title   : _make_q
 Usage   : QRY::_make_q($parsetree)
 Function: creates hash structures suitable for HIVQuery from parse tree
           returned by QRY::_parse_q
 Example :
 Returns : array of hashrefs of query specs
 Args    : a hashref</code></code></pre>

<h4 id="QRY-_make_q_guts">QRY _make_q_guts</h4>

<pre><code><code> Title   : _make_q_guts (Internal class method)
 Usage   : _make_q_guts($ptree, $q_expr, $qarry, $anarry)
 Function: traverses the parse tree returned from QRY::_parse_q, checking
           syntax and creating HIVQuery-compliant query structures
 Example :
 Returns :
 Args    : $parse_tree (hashref), $query_expression (scalar string ref),
           $query_array (array ref : stack for returning query structures),
           $annotation_array (array ref : stack for returning annotation
           fields)</code></code></pre>

<h4 id="QRY-_parse_q">QRY _parse_q</h4>

<pre><code><code> <span class="variable">Title</span>   <span class="operator">:</span> <span class="variable">_parse_q</span>
 <span class="variable">Usage</span>   <span class="operator">:</span> <span class="variable">QRY::_parse_q</span><span class="operator">(</span><span class="variable">$query_string</span><span class="operator">)</span>
 <span class="variable">Function</span><span class="operator">:</span> <span class="variable">perform</span> <span class="variable">first</span> <span class="variable">pass</span> <span class="variable">parse</span> <span class="variable">of</span> <span class="variable">a</span> <span class="variable">query</span> <span class="variable">string</span> <span class="variable">with</span> <span class="variable">some</span> <span class="variable">syntax</span>
           <span class="variable">checking</span><span class="operator">,</span> <span class="keyword">return</span> <span class="variable">a</span> <span class="variable">parse</span> <span class="variable">tree</span> <span class="variable">suitable</span> <span class="keyword">for</span> <span class="variable">QRY::_make_q</span>
 <span class="variable">Example</span> <span class="operator">:</span> <span class="variable">QRY::_parse_q</span><span class="operator">(</span><span class="string">" to[be] OR (not to)[be] "</span><span class="operator">);</span>
 <span class="variable">Returns</span> <span class="operator">:</span> <span class="variable">hashref</span>
 <span class="variable">Args</span>    <span class="operator">:</span> <span class="variable">query</span> <span class="variable">string</span>
</code></code></pre>

<h3 id="QRY-CONSTRUCTOR">QRY CONSTRUCTOR</h3>

<h4 id="QRY-Constructor">QRY Constructor</h4>

<pre><code><code> Title   : QRY constructor
 Usage   : $QRY = new QRY()
 Function:
 Example :
 Returns :
 Args    : array of R objects, optional</code></code></pre>

<h3 id="QRY-INSTANCE-METHODS">QRY INSTANCE METHODS</h3>

<h4 id="QRY-requests">QRY requests</h4>

<pre><code><code> Title   : requests
 Usage   : $QRY-&gt;requests
 Function: get/set array of requests comprising this QRY object
 Example :
 Returns :
 Args    : array of class R objects</code></code></pre>

<h4 id="QRY-put_requests">QRY put_requests</h4>

<pre><code><code> Title   : put_requests
 Usage   : $QRY-&gt;put_request(@R)
 Function: add object of class R to $QRY
 Example :
 Returns :
 Args    : [an array of] of class R object[s]</code></code></pre>

<h4 id="QRY-isnull">QRY isnull</h4>

<pre><code><code> Title   : isnull
 Usage   : $QRY-&gt;isnull
 Function: test if QRY object is null
 Example :
 Returns : 1 if null, 0 otherwise
 Args    :</code></code></pre>

<h4 id="QRY-A">QRY A</h4>

<pre><code><code> Title   : A
 Usage   : print $QRY-&gt;A
 Function: get a string representation of QRY object
 Example :
 Returns : string scalar
 Args    :</code></code></pre>

<h4 id="QRY-len">QRY len</h4>

<pre><code><code> Title   : len
 Usage   : $QRY-&gt;len
 Function: get number of class R objects contained by QRY object
 Example :
 Returns : scalar
 Args    :</code></code></pre>

<h4 id="QRY-clone">QRY clone</h4>

<pre><code><code> <span class="variable">Title</span>   <span class="operator">:</span> <span class="variable">clone</span>
 <span class="variable">Usage</span>   <span class="operator">:</span> <span class="variable">$QRY2</span> <span class="operator">=</span> <span class="variable">$QRY1</span><span class="operator">-&gt;</span><span class="variable">clone</span><span class="operator">;</span>
 <span class="variable">Function</span><span class="operator">:</span> <span class="variable">create</span> <span class="keyword">and</span> <span class="keyword">return</span> <span class="variable">a</span> <span class="variable">clone</span> <span class="variable">of</span> <span class="variable">the</span> <span class="variable">object</span>
 <span class="variable">Example</span> <span class="operator">:</span>
 <span class="variable">Returns</span> <span class="operator">:</span> <span class="variable">object</span> <span class="variable">of</span> <span class="variable">class</span> <span class="variable">QRY</span>
 <span class="variable">Args</span>    <span class="operator">:</span>
</code></code></pre>

<h3 id="QRY-CLASS-METHODS">QRY CLASS METHODS</h3>

<h4 id="QRY-Or">QRY Or</h4>

<pre><code><code> Title   : Or
 Usage   : $QRY3 = QRY::Or($QRY1, $QRY2)
 Function: logical OR for QRY objects
 Example :
 Returns : a QRY object
 Args    : two class QRY objects</code></code></pre>

<h4 id="QRY-And">QRY And</h4>

<pre><code><code> Title   : And
 Usage   : $QRY3 = QRY::And($QRY1, $QRY2)
 Function: logical AND for QRY objects
 Example :
 Returns : a QRY object
 Args    : two class QRY objects</code></code></pre>

<h4 id="QRY-Bool">QRY Bool</h4>

<pre><code><code> <span class="variable">Title</span>   <span class="operator">:</span> <span class="variable">Bool</span>
 <span class="variable">Usage</span>   <span class="operator">:</span> <span class="variable">QRY::Bool</span><span class="operator">(</span><span class="variable">$QRY1</span><span class="operator">)</span>
 <span class="variable">Function</span><span class="operator">:</span> <span class="variable">allows</span> <span class="variable">symbolic</span> <span class="variable">testing</span> <span class="variable">of</span> <span class="variable">QRY</span> <span class="variable">object</span> <span class="keyword">when</span> <span class="variable">bool</span> <span class="variable">overloaded</span>
 <span class="variable">Example</span> <span class="operator">:</span> <span class="keyword">do</span> <span class="operator">{</span><span class="variable">stuff</span><span class="operator">}</span> <span class="keyword">if</span> <span class="variable">$QRY1</span> <span class="variable">*same</span> <span class="variable">as</span><span class="operator">*</span> <span class="keyword">do</span> <span class="operator">{</span><span class="variable">stuff</span><span class="operator">}</span> <span class="keyword">if</span> <span class="operator">!</span><span class="variable">$QRY1</span><span class="operator">-&gt;</span><span class="variable">isnull</span>
 <span class="variable">Returns</span> <span class="operator">:</span>
 <span class="variable">Args</span>    <span class="operator">:</span> <span class="variable">a</span> <span class="variable">class</span> <span class="variable">QRY</span> <span class="variable">object</span>
</code></code></pre>

<h4 id="QRY-Eq">QRY Eq</h4>

<pre><code><code> Title   : Eq
 Usage   : QRY::Eq($QRY1, $QRY2)
 Function: test if R objects in two QRY objects are the same
           (irrespective of order)
 Example :
 Returns : 1 if equal, 0 otherwise
 Args    : two class QRY objects</code></code></pre>

<h2 id="Class-R---request-objects-for-QRY-algebra">Class R - request objects for QRY algebra</h2>

<h3 id="R-SYNOPSIS">R SYNOPSIS</h3>

<pre><code><code>  <span class="variable">$R</span> <span class="operator">=</span> <span class="variable">new</span> <span class="variable">R</span><span class="operator">(</span> <span class="variable">$q1</span><span class="operator">,</span> <span class="variable">$q2</span> <span class="operator">);</span>
  <span class="variable">$R</span><span class="operator">-&gt;</span><span class="variable">put_atoms</span><span class="operator">(</span><span class="variable">$q3</span><span class="operator">);</span>
  <span class="variable">$R</span><span class="operator">-&gt;</span><span class="variable">del_atoms</span><span class="operator">(</span><span class="string">'coreceptor'</span><span class="operator">,</span> <span class="string">'phenotype'</span><span class="operator">);</span>
  <span class="keyword">return</span> <span class="variable">$R</span><span class="operator">-&gt;</span><span class="variable">clone</span><span class="operator">;</span>
  <span class="variable">$R1</span> <span class="operator">=</span> <span class="variable">new</span> <span class="variable">R</span><span class="operator">(</span> <span class="variable">new</span> <span class="variable">Q</span><span class="operator">(</span><span class="string">'subtype'</span><span class="operator">,</span> <span class="string">'B'</span><span class="operator">)</span> <span class="operator">);</span>
  <span class="variable">$R2</span> <span class="operator">=</span> <span class="variable">new</span> <span class="variable">R</span><span class="operator">(</span> <span class="variable">new</span> <span class="variable">Q</span><span class="operator">(</span><span class="string">'subtype'</span><span class="operator">,</span> <span class="string">'B C'</span><span class="operator">),</span>
               <span class="variable">new</span> <span class="variable">Q</span><span class="operator">(</span><span class="string">'country'</span><span class="operator">,</span> <span class="string">'US'</span><span class="operator">)</span> <span class="operator">);</span>
  <span class="variable">R::Eq</span><span class="operator">(</span> <span class="operator">(</span><span class="variable">R::And</span><span class="operator">(</span><span class="variable">$R1</span><span class="operator">,</span> <span class="variable">$R2</span><span class="operator">))</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">,</span>
         <span class="variable">new</span> <span class="variable">R</span><span class="operator">(</span> <span class="variable">new</span> <span class="variable">Q</span><span class="operator">(</span><span class="string">'subtype'</span><span class="operator">,</span> <span class="string">'B'</span> <span class="operator">),</span>
                <span class="variable">new</span> <span class="variable">Q</span><span class="operator">(</span><span class="string">'country'</span><span class="operator">,</span> <span class="string">'US'</span><span class="operator">)</span> <span class="operator">));</span>                 <span class="comment"># returns 1</span>
  <span class="variable">QRY::Eq</span><span class="operator">(</span> <span class="variable">new</span> <span class="variable">QRY</span><span class="operator">(</span><span class="variable">R::Or</span><span class="operator">(</span><span class="variable">$R1</span><span class="operator">,</span> <span class="variable">$R2</span><span class="operator">)),</span> <span class="variable">new</span> <span class="variable">QRY</span><span class="operator">(</span><span class="variable">$R1</span><span class="operator">,</span> <span class="variable">$R2</span><span class="operator">)</span> <span class="operator">);</span>  <span class="comment"># returns 1</span>
  <span class="variable">R::In</span><span class="operator">(</span> <span class="operator">(</span><span class="variable">R::And</span><span class="operator">(</span><span class="variable">$R1</span><span class="operator">,</span> <span class="variable">$R2</span><span class="operator">))</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">,</span> <span class="variable">$R1</span> <span class="operator">);</span>                     <span class="comment"># returns 1</span>
</code></code></pre>

<h3 id="R-DESCRIPTION">R DESCRIPTION</h3>

<p>Class R objects contain a list of atomic queries (class Q objects). Each class R object represents a single HTTP request to the LANL DB. When converted to a DB query, the class Q objects contained by an R object are effectively <code><code>AND</code></code>ed.</p>

<h3 id="R-CONSTRUCTOR">R CONSTRUCTOR</h3>

<h4 id="R-constructor">R constructor</h4>

<pre><code><code> Title   : R constructor
 Usage   : $R = new R()
 Function: create a new R (request) object
 Example :
 Returns : class R (request) object
 Args    : optional, array of class Q objects</code></code></pre>

<h3 id="R-INSTANCE-METHODS">R INSTANCE METHODS</h3>

<h4 id="R-len">R len</h4>

<pre><code><code> Title   : len
 Usage   : $R-&gt;len
 Function: get number of class Q objects contained in R object
 Example :
 Returns : scalar
 Args    :</code></code></pre>

<h4 id="R-atoms">R atoms</h4>

<pre><code><code> <span class="variable">Title</span>   <span class="operator">:</span> <span class="variable">atoms</span>
 <span class="variable">Usage</span>   <span class="operator">:</span> <span class="variable">$R</span><span class="operator">-&gt;</span><span class="variable">atoms</span><span class="operator">(</span> <span class="operator">[</span><span class="variable">optional</span> <span class="variable">$field</span><span class="operator">]</span><span class="operator">)</span>
 <span class="variable">Function</span><span class="operator">:</span> <span class="variable">get</span> <span class="variable">array</span> <span class="variable">of</span> <span class="variable">class</span> <span class="variable">Q</span> <span class="operator">(</span><span class="variable">atomic</span> <span class="variable">query</span><span class="operator">)</span> <span class="variable">objects</span> <span class="variable">in</span> <span class="variable">class</span> <span class="variable">R</span> <span class="variable">object</span>
 <span class="variable">Example</span> <span class="operator">:</span> <span class="variable">$R</span><span class="operator">-&gt;</span><span class="variable">atoms</span><span class="operator">();</span> <span class="variable">$R</span><span class="operator">-&gt;</span><span class="variable">atoms</span><span class="operator">(</span><span class="string">'coreceptor'</span><span class="operator">)</span>
 <span class="variable">Returns</span> <span class="operator">:</span> <span class="variable">array</span> <span class="variable">of</span> <span class="variable">class</span> <span class="variable">Q</span> <span class="variable">objects</span> <span class="operator">(</span><span class="variable">all</span> <span class="variable">Qs</span> <span class="keyword">or</span> <span class="variable">those</span> <span class="variable">corresponding</span> <span class="variable">to</span> <span class="variable">$field</span>
           <span class="keyword">if</span> <span class="variable">present</span><span class="operator">)</span>
 <span class="variable">Args</span>    <span class="operator">:</span> <span class="variable">optional</span><span class="operator">,</span> <span class="keyword">scalar</span> <span class="variable">string</span>
</code></code></pre>

<h4 id="R-fields">R fields</h4>

<pre><code><code> Title   : fields
 Usage   : $R-&gt;fields
 Function: get array of fields of all Q objects contained in $R
 Example :
 Returns : array of scalars
 Args    :</code></code></pre>

<h4 id="R-put_atoms">R put_atoms</h4>

<pre><code><code> Title   : put_atoms
 Usage   : $R-&gt;put_atoms( @q )
 Function: AND an atomic query (class Q object) to the class R object&#39;s list
 Example :
 Returns : void
 Args    : an [array of] class Q object[s]</code></code></pre>

<h4 id="R-del_atoms">R del_atoms</h4>

<pre><code><code> Title   : del_atoms
 Usage   : $R-&gt;del_atoms( @qfields )
 Function: removes class Q objects from R object&#39;s list according to the
           field names given in arguments
 Example :
 Returns : the class Q objects deleted
 Args    : scalar array of field names</code></code></pre>

<h4 id="R-isnull">R isnull</h4>

<pre><code><code> Title   : isnull
 Usage   : $R-&gt;isnull
 Function: test if class R object is null
 Example :
 Returns : 1 if null, 0 otherwise
 Args    :</code></code></pre>

<h4 id="R-A">R A</h4>

<pre><code><code> Title   : A
 Usage   : print $R-&gt;A
 Function: get a string representation of class R object
 Example :
 Returns : string scalar
 Args    :</code></code></pre>

<h4 id="R-clone">R clone</h4>

<pre><code><code> <span class="variable">Title</span>   <span class="operator">:</span> <span class="variable">clone</span>
 <span class="variable">Usage</span>   <span class="operator">:</span> <span class="variable">$R2</span> <span class="operator">=</span> <span class="variable">$R1</span><span class="operator">-&gt;</span><span class="variable">clone</span><span class="operator">;</span>
 <span class="variable">Function</span><span class="operator">:</span> <span class="variable">create</span> <span class="keyword">and</span> <span class="keyword">return</span> <span class="variable">a</span> <span class="variable">clone</span> <span class="variable">of</span> <span class="variable">the</span> <span class="variable">object</span>
 <span class="variable">Example</span> <span class="operator">:</span>
 <span class="variable">Returns</span> <span class="operator">:</span> <span class="variable">object</span> <span class="variable">of</span> <span class="variable">class</span> <span class="variable">R</span>
 <span class="variable">Args</span>    <span class="operator">:</span>
</code></code></pre>

<h3 id="R-CLASS-METHODS">R CLASS METHODS</h3>

<h4 id="R-In">R In</h4>

<pre><code><code> <span class="variable">Title</span>   <span class="operator">:</span> <span class="variable">In</span>
 <span class="variable">Usage</span>   <span class="operator">:</span> <span class="variable">R::In</span><span class="operator">(</span><span class="variable">$R1</span><span class="operator">,</span> <span class="variable">$R2</span><span class="operator">)</span>
 <span class="variable">Function</span><span class="operator">:</span> <span class="variable">tests</span> <span class="variable">whether</span> <span class="variable">the</span> <span class="variable">query</span> <span class="variable">represented</span> <span class="variable">by</span> <span class="variable">$R1</span> <span class="variable">would</span> <span class="keyword">return</span> <span class="variable">a</span> <span class="variable">subset</span>
           <span class="variable">of</span> <span class="variable">items</span> <span class="variable">returned</span> <span class="variable">by</span> <span class="variable">the</span> <span class="variable">query</span> <span class="variable">represented</span> <span class="variable">by</span> <span class="variable">$R2</span>
 <span class="variable">Example</span> <span class="operator">:</span> <span class="keyword">print</span> <span class="string">"R2 gets those and more"</span> <span class="keyword">if</span> <span class="variable">R::In</span><span class="operator">(</span><span class="variable">$R1</span><span class="operator">,</span> <span class="variable">$R2</span><span class="operator">);</span>
 <span class="variable">Returns</span> <span class="operator">:</span> <span class="number">1</span> <span class="keyword">if</span> <span class="variable">R1</span> <span class="variable">is</span> <span class="variable">subset</span> <span class="variable">of</span> <span class="variable">R2</span><span class="operator">,</span> <span class="number">0</span> <span class="variable">otherwise</span>
 <span class="variable">Args</span>    <span class="operator">:</span> <span class="variable">two</span> <span class="variable">class</span> <span class="variable">R</span> <span class="variable">objects</span>
</code></code></pre>

<h4 id="R-And">R And</h4>

<pre><code><code> Title   : And
 Usage   : @Rresult = R::And($R1, $R2)
 Function: logical AND for R objects
 Example :
 Returns : an array containing class R objects
 Args    : two class R objects</code></code></pre>

<h4 id="R-Or">R Or</h4>

<pre><code><code> Title   : Or
 Usage   : @Rresult = R::Or($R1, $R2)
 Function: logical OR for R objects
 Example :
 Returns : an array containing class R objects
 Args    : two class R objects</code></code></pre>

<h4 id="R-Eq">R Eq</h4>

<pre><code><code> Title   : Eq
 Usage   : R::Eq($R1, $R2)
 Function: test if class Q objects in two R objects are the same
           (irrespective of order)
 Example :
 Returns : 1 if equal, 0 otherwise
 Args    : two class R objects</code></code></pre>

<h2 id="Class-Q---atomic-query-objects-for-QRY-algebra">Class Q - atomic query objects for QRY algebra</h2>

<h3 id="Q-SYNOPSIS">Q SYNOPSIS</h3>

<pre><code><code>    <span class="variable">$q</span> <span class="operator">=</span> <span class="variable">new</span> <span class="variable">Q</span><span class="operator">(</span><span class="string">'coreceptor'</span><span class="operator">,</span> <span class="string">'CXCR4 CCR5'</span><span class="operator">);</span>
    <span class="variable">$u</span> <span class="operator">=</span> <span class="variable">new</span> <span class="variable">Q</span><span class="operator">(</span><span class="string">'coreceptor'</span><span class="operator">,</span> <span class="string">'CXCR4'</span><span class="operator">);</span>
    <span class="variable">$q</span><span class="operator">-&gt;</span><span class="variable">fld</span><span class="operator">;</span>                                 <span class="comment"># returns 'coreceptor'</span>
    <span class="variable">$q</span><span class="operator">-&gt;</span><span class="variable">dta</span><span class="operator">;</span>                                 <span class="comment"># returns 'CXCR4 CCR5'</span>
    <span class="keyword">print</span> <span class="variable">$q</span><span class="operator">-&gt;</span>A<span class="operator">;</span>                             <span class="comment"># prints '(CXCR4 CCR5)[coreceptor]</span>
    <span class="variable">Q::qeq</span><span class="operator">(</span><span class="variable">$q</span><span class="operator">,</span> <span class="variable">$u</span><span class="operator">);</span>                          <span class="comment"># returns 0</span>
    <span class="variable">Q::qeq</span><span class="operator">(</span> <span class="variable">Q::qor</span><span class="operator">(</span><span class="variable">$q</span><span class="operator">,</span> <span class="variable">$q</span><span class="operator">),</span> <span class="variable">$q</span> <span class="operator">);</span>            <span class="comment"># returns 1</span>
    <span class="variable">Q::qin</span><span class="operator">(</span><span class="variable">$u</span><span class="operator">,</span> <span class="variable">$q</span><span class="operator">)</span>                           <span class="comment"># returns 1</span>
    <span class="variable">Q::qeq</span><span class="operator">(</span><span class="variable">Q::qand</span><span class="operator">(</span><span class="variable">$u</span><span class="operator">,</span> <span class="variable">$q</span><span class="operator">),</span> <span class="variable">$u</span> <span class="operator">);</span>            <span class="comment"># returns 1</span>
</code></code></pre>

<h3 id="Q-DESCRIPTION">Q DESCRIPTION</h3>

<p>Class Q objects represent atomic queries, that can be described by a single LANL cgi parameter=value pair. Class R objects (requests) are built from class Qs. The logical operations at the higher levels (<code><code>QRY, R</code></code>) ultimately depend on the lower level operations on Qs: <code><code>qeq, qin, qand, qor</code></code>.</p>

<h3 id="Q-CONSTRUCTOR">Q CONSTRUCTOR</h3>

<h4 id="Q-constructor">Q constructor</h4>

<pre><code><code> Title   : Q constructor
 Usage   : $q = new Q($field, $data)
 Function: create a new Q (atomic query) object
 Example :
 Returns : class Q object
 Args    : optional $field, $data strings</code></code></pre>

<h3 id="Q-INSTANCE-METHODS">Q INSTANCE METHODS</h3>

<h4 id="Q-isnull">Q isnull</h4>

<pre><code><code> Title   : isnull
 Usage   : $q-&gt;isnull
 Function: test if class Q object is null
 Example :
 Returns : 1 if null, 0 otherwise
 Args    :</code></code></pre>

<h4 id="Q-fld">Q fld</h4>

<pre><code><code> Title   : fld
 Usage   : $q-&gt;fld($field)
 Function: get/set fld (field name) property
 Example :
 Returns : scalar
 Args    : scalar</code></code></pre>

<h4 id="Q-dta">Q dta</h4>

<pre><code><code> Title   : dta
 Usage   : $q-&gt;dta($data)
 Function: get/set dta (whsp-separated data string) property
 Example :
 Returns : scalar
 Args    : scalar</code></code></pre>

<h4 id="Q-A">Q A</h4>

<pre><code><code> Title   : A
 Usage   : print $q-&gt;A
 Function: get a string representation of class Q object
 Example :
 Returns : string scalar
 Args    :</code></code></pre>

<h4 id="Q-clone">Q clone</h4>

<pre><code><code> <span class="variable">Title</span>   <span class="operator">:</span> <span class="variable">clone</span>
 <span class="variable">Usage</span>   <span class="operator">:</span> <span class="variable">$q2</span> <span class="operator">=</span> <span class="variable">$q1</span><span class="operator">-&gt;</span><span class="variable">clone</span><span class="operator">;</span>
 <span class="variable">Function</span><span class="operator">:</span> <span class="variable">create</span> <span class="keyword">and</span> <span class="keyword">return</span> <span class="variable">a</span> <span class="variable">clone</span> <span class="variable">of</span> <span class="variable">the</span> <span class="variable">object</span>
 <span class="variable">Example</span> <span class="operator">:</span>
 <span class="variable">Returns</span> <span class="operator">:</span> <span class="variable">object</span> <span class="variable">of</span> <span class="variable">class</span> <span class="variable">Q</span>
 <span class="variable">Args</span>    <span class="operator">:</span>
</code></code></pre>

<h3 id="Q-CLASS-METHODS">Q CLASS METHODS</h3>

<h4 id="Q-qin">Q qin</h4>

<pre><code><code> <span class="variable">Title</span>   <span class="operator">:</span> <span class="variable">qin</span>
 <span class="variable">Usage</span>   <span class="operator">:</span> <span class="variable">Q::qin</span><span class="operator">(</span><span class="variable">$q1</span><span class="operator">,</span> <span class="variable">$q2</span><span class="operator">)</span>
 <span class="variable">Function</span><span class="operator">:</span> <span class="variable">tests</span> <span class="variable">whether</span> <span class="variable">the</span> <span class="variable">query</span> <span class="variable">represented</span> <span class="variable">by</span> <span class="variable">$q1</span> <span class="variable">would</span> <span class="keyword">return</span> <span class="variable">a</span> <span class="variable">subset</span>
           <span class="variable">of</span> <span class="variable">items</span> <span class="variable">returned</span> <span class="variable">by</span> <span class="variable">the</span> <span class="variable">query</span> <span class="variable">represented</span> <span class="variable">by</span> <span class="variable">$q2</span>
 <span class="variable">Example</span> <span class="operator">:</span> <span class="keyword">print</span> <span class="string">"q2 gets those and more"</span> <span class="keyword">if</span> <span class="variable">Q::qin</span><span class="operator">(</span><span class="variable">$q1</span><span class="operator">,</span> <span class="variable">$q2</span><span class="operator">);</span>
 <span class="variable">Returns</span> <span class="operator">:</span> <span class="number">1</span> <span class="keyword">if</span> <span class="variable">q1</span> <span class="variable">is</span> <span class="variable">subset</span> <span class="variable">of</span> <span class="variable">q2</span><span class="operator">,</span> <span class="number">0</span> <span class="variable">otherwise</span>
 <span class="variable">Args</span>    <span class="operator">:</span> <span class="variable">two</span> <span class="variable">class</span> <span class="variable">Q</span> <span class="variable">objects</span>
</code></code></pre>

<h4 id="Q-qeq">Q qeq</h4>

<pre><code><code> Title   : qeq
 Usage   : Q::qeq($q1, $q2)
 Function: test if fld and dta properties in two class Q objects are the same
           (irrespective of order)
 Example :
 Returns : 1 if equal, 0 otherwise
 Args    : two class Q objects</code></code></pre>

<h4 id="Q-qor">Q qor</h4>

<pre><code><code> Title   : qor
 Usage   : @qresult = Q::qor($q1, $q2)
 Function: logical OR for Q objects
 Example :
 Returns : an array of class Q objects
 Args    : two class Q objects</code></code></pre>

<h4 id="Q-qand">Q qand</h4>

<pre><code><code> Title   : qand
 Usage   : @qresult = Q::And($q1, $q2)
 Function: logical AND for R objects
 Example :
 Returns : an array of class Q objects
 Args    : two class Q objects</code></code></pre>

<h3 id="Q-INTERNALS">Q INTERNALS</h3>

<h4 id="Q-unique">Q unique</h4>

<pre><code><code> Title   : unique
 Usage   : @ua = unique(@a)
 Function: return contents of @a with duplicates removed
 Example :
 Returns :
 Args    : an array</code></code></pre>

<h2 id="Additional-tools-for-Bio::AnnotationCollectionI">Additional tools for Bio::AnnotationCollectionI</h2>

<h3 id="Bio::AnnotationCollectionI-SYNOPSIS-additional-methods-">Bio::AnnotationCollectionI SYNOPSIS (additional methods)</h3>

<pre><code><code>    <span class="variable">$seq</span><span class="operator">-&gt;</span><span class="variable">annotation</span><span class="operator">-&gt;</span><span class="variable">put_value</span><span class="operator">(</span><span class="string">'patient_id'</span><span class="operator">,</span> <span class="number">1401</span><span class="operator">)</span>
    <span class="variable">$seq</span><span class="operator">-&gt;</span><span class="variable">annotation</span><span class="operator">-&gt;</span><span class="variable">get_value</span><span class="operator">(</span><span class="string">'patient_ids'</span><span class="operator">)</span>                   <span class="comment"># returns 1401</span>
    <span class="variable">$seq</span><span class="operator">-&gt;</span><span class="variable">annotation</span><span class="operator">-&gt;</span><span class="variable">put_value</span><span class="operator">(</span><span class="string">'patient_group'</span><span class="operator">,</span> <span class="string">'MassGenH'</span><span class="operator">)</span>
    <span class="variable">$seq</span><span class="operator">-&gt;</span><span class="variable">annotation</span><span class="operator">-&gt;</span><span class="variable">put_value</span><span class="operator">(</span><span class="operator">[</span><span class="string">'clinical'</span><span class="operator">,</span> <span class="string">'cd4count'</span><span class="operator">]</span><span class="operator">,</span> <span class="number">503</span><span class="operator">);</span>
    <span class="variable">$seq</span><span class="operator">-&gt;</span><span class="variable">annotation</span><span class="operator">-&gt;</span><span class="variable">put_value</span><span class="operator">(</span><span class="operator">[</span><span class="string">'clinical'</span><span class="operator">,</span> <span class="string">'virus_load'</span><span class="operator">]</span><span class="operator">,</span> <span class="number">150805</span><span class="operator">);</span>
    <span class="keyword">foreach</span> <span class="operator">(</span> <span class="string">qw( cd4count virus_load )</span> <span class="operator">)</span> <span class="operator">{</span>
        <span class="variable">$blood_readings</span><span class="operator">{</span><span class="variable">$_</span><span class="operator">}</span> <span class="operator">=</span> <span class="variable">$seq</span><span class="operator">-&gt;</span><span class="variable">annonation</span><span class="operator">-&gt;</span><span class="variable">get_value</span><span class="operator">(</span><span class="operator">[</span><span class="string">'clinical'</span><span class="operator">,</span> <span class="variable">$_</span><span class="operator">]</span><span class="operator">);</span>
    <span class="operator">}</span>
</code></code></pre>

<h3 id="Bio::AnnotationCollectionI-DESCRIPTION-additional-methods-">Bio::AnnotationCollectionI DESCRIPTION (additional methods)</h3>

<p><code><code>get_value()</code></code> and <code><code>put_value</code></code> allow easy creation of and access to an annotation collection tree with nodes of <a href="../../../../../../.cpan/build/BioPerl-1.6.901-ghKY8U/blib/lib/Bio/Annotation/SimpleValue.html">Bio::Annotation::SimpleValue</a>. These methods obiviate direct accession of the SimpleValue objects.</p>

<h2 id="get_value">get_value</h2>

<pre><code><code> Title   : get_value
 Usage   : $ac-&gt;get_value($tagname) -or-
           $ac-&gt;get_value( $tag_level1, $tag_level2,... )
 Function: access the annotation value assocated with the given tags
 Example :
 Returns : a scalar
 Args    : an array of tagnames that descend into the annotation tree</code></code></pre>

<h2 id="put_value">put_value</h2>

<pre><code><code> Title   : put_value
 Usage   : $ac-&gt;put_value($tagname, $value) -or-
           $ac-&gt;put_value([$tag_level1, $tag_level2, ...], $value) -or-
           $ac-&gt;put_value( [$tag_level1, $tag_level2, ...] )
 Function: create a node in an annotation tree, and assign a scalar value to it
           if a value is specified
 Example :
 Returns : scalar or a Bio::AnnotationCollection object
 Args    : $tagname, $value scalars (can be specified as -KEYS=&gt;$tagname,
           -VALUE=&gt;$value) -or-
           \@tagnames, $value (or as -KEYS=&gt;\@tagnames, -VALUE=&gt;$value )
 Note    : If intervening nodes do not exist, put_value creates them, replacing
           existing nodes. So if $ac-&gt;put_value(&#39;x&#39;, 10) was done, then later,
           $ac-&gt;put_value([&#39;x&#39;, &#39;y&#39;], 20), the original value of &#39;x&#39; is trashed,
           and $ac-&gt;get_value(&#39;x&#39;) will now return the annotation collection
           with tagname &#39;y&#39;.</code></code></pre>

<h2 id="get_keys">get_keys</h2>

<pre><code><code> <span class="variable">Title</span>   <span class="operator">:</span> <span class="variable">get_keys</span>
 <span class="variable">Usage</span>   <span class="operator">:</span> <span class="variable">$ac</span><span class="operator">-&gt;</span><span class="variable">get_keys</span><span class="operator">(</span><span class="variable">$tagname_level_1</span><span class="operator">,</span> <span class="variable">$tagname_level_2</span><span class="operator">,...)</span>
 <span class="variable">Function</span><span class="operator">:</span> <span class="variable">Get</span> <span class="variable">an</span> <span class="variable">array</span> <span class="variable">of</span> <span class="variable">tagnames</span> <span class="variable">underneath</span> <span class="variable">the</span> <span class="variable">named</span> <span class="variable">tag</span> <span class="variable">nodes</span>
 <span class="variable">Example</span> <span class="operator">:</span> <span class="comment"># prints the values of the members of Category 1...</span>
           <span class="keyword">print</span> <span class="keyword">map</span> <span class="operator">{</span> <span class="variable">$ac</span><span class="operator">-&gt;</span><span class="variable">get_value</span><span class="operator">(</span><span class="variable">$_</span><span class="operator">)</span> <span class="operator">}</span> <span class="variable">$ac</span><span class="operator">-&gt;</span><span class="variable">get_keys</span><span class="operator">(</span><span class="string">'Category 1'</span><span class="operator">)</span> <span class="operator">;</span>
 <span class="variable">Returns</span> <span class="operator">:</span> <span class="variable">array</span> <span class="variable">of</span> <span class="variable">tagnames</span> <span class="keyword">or</span> <span class="variable">empty</span> <span class="variable">list</span> <span class="keyword">if</span> <span class="variable">the</span> <span class="variable">arguments</span> <span class="variable">represent</span> <span class="variable">a</span> <span class="variable">leaf</span>
 <span class="variable">Args</span>    <span class="operator">:</span> <span class="operator">[</span><span class="variable">array</span> <span class="variable">of</span><span class="operator">]</span> <span class="variable">tagname</span><span class="operator">[</span><span class="regex">s]
 </span>
</code></code></pre>


</body>

</html>


