<?xml version="1.0" ?>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<!-- saved from url=(0017)http://localhost/ -->
<script language="JavaScript" src="../../../../displayToc.js"></script>
<script language="JavaScript" src="../../../../tocParas.js"></script>
<script language="JavaScript" src="../../../../tocTab.js"></script>
<link rel="stylesheet" type="text/css" href="../../../../scineplex.css">
<title></title>
<link rel="stylesheet" href="../../../../Active.css" type="text/css" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:support@ActiveState.com" />
</head>

<body>



<ul id="index">
  <li><a href="#NAME">NAME</a></li>
  <li><a href="#SYNOPSIS">SYNOPSIS</a></li>
  <li><a href="#USING-DB_FILE">USING DB_FILE</a></li>
  <li><a href="#DESCRIPTION">DESCRIPTION</a></li>
  <li><a href="#FEEDBACK">FEEDBACK</a>
    <ul>
      <li><a href="#Mailing-Lists">Mailing Lists</a></li>
      <li><a href="#Support">Support</a></li>
      <li><a href="#Reporting-Bugs">Reporting Bugs</a></li>
    </ul>
  </li>
  <li><a href="#AUTHOR---Ewan-Birney-James-Gilbert">AUTHOR - Ewan Birney, James Gilbert</a></li>
  <li><a href="#APPENDIX">APPENDIX</a>
    <ul>
      <li><a href="#new">new</a></li>
      <li><a href="#filename">filename</a></li>
      <li><a href="#write_flag">write_flag</a></li>
      <li><a href="#dbm_package">dbm_package</a></li>
      <li><a href="#db">db</a></li>
      <li><a href="#get_stream">get_stream</a></li>
      <li><a href="#cachesize">cachesize</a></li>
      <li><a href="#ffactor">ffactor</a></li>
      <li><a href="#open_dbm">open_dbm</a></li>
      <li><a href="#version">_version</a></li>
      <li><a href="#code_base">_code_base</a></li>
      <li><a href="#type_and_version">_type_and_version</a></li>
      <li><a href="#check_file_sizes">_check_file_sizes</a></li>
      <li><a href="#make_index">make_index</a></li>
      <li><a href="#pathtype">pathtype</a></li>
      <li><a href="#filename1">_filename</a></li>
      <li><a href="#file_handle">_file_handle</a></li>
      <li><a href="#file_count">_file_count</a></li>
      <li><a href="#add_record">add_record</a></li>
      <li><a href="#pack_record">pack_record</a></li>
      <li><a href="#unpack_record">unpack_record</a></li>
      <li><a href="#count_records">count_records</a></li>
      <li><a href="#DESTROY">DESTROY</a></li>
    </ul>
  </li>
</ul>

<h1 id="NAME">NAME</h1>

<p>Bio::Index::Abstract - Abstract interface for indexing a flat file</p>

<h1 id="SYNOPSIS">SYNOPSIS</h1>

<p>You should not be using this module directly</p>

<h1 id="USING-DB_FILE">USING DB_FILE</h1>

<p>To use DB_File and not SDBM for this index, pass the value:</p>

<pre><code><code>    -dbm_package =&gt; &#39;DB_File&#39;</code></code></pre>

<p>to new (see below).</p>

<h1 id="DESCRIPTION">DESCRIPTION</h1>

<p>This object provides the basic mechanism to associate positions in files with names. The position and filenames are stored in DBM which can then be accessed later on. It is the equivalent of flat file indexing (eg, SRS or efetch).</p>

<p>This object is the guts to the mechanism, which will be used by the specific objects inheriting from it.</p>

<h1 id="FEEDBACK">FEEDBACK</h1>

<h2 id="Mailing-Lists">Mailing Lists</h2>

<p>User feedback is an integral part of the evolution of this and other Bioperl modules. Send your comments and suggestions preferably to one of the Bioperl mailing lists. Your participation is much appreciated.</p>

<pre><code><code>  bioperl-l@bioperl.org                  - General discussion
  http://bioperl.org/wiki/Mailing_lists  - About the mailing lists</code></code></pre>

<h2 id="Support">Support</h2>

<p>Please direct usage questions or support issues to the mailing list:</p>

<p><i>bioperl-l@bioperl.org</i></p>

<p>rather than to the module maintainer directly. Many experienced and reponsive experts will be able look at the problem and quickly address it. Please include a thorough description of the problem with code and data examples if at all possible.</p>

<h2 id="Reporting-Bugs">Reporting Bugs</h2>

<p>Report bugs to the Bioperl bug tracking system to help us keep track the bugs and their resolution. Bug reports can be submitted via the web:</p>

<pre><code><code>  https://redmine.open-bio.org/projects/bioperl/</code></code></pre>

<h1 id="AUTHOR---Ewan-Birney-James-Gilbert">AUTHOR - Ewan Birney, James Gilbert</h1>

<p>Email - birney@sanger.ac.uk, jgrg@sanger.ac.uk</p>

<h1 id="APPENDIX">APPENDIX</h1>

<p>The rest of the documentation details each of the object methods. Internal methods are usually preceded with an &quot;_&quot; (underscore).</p>

<h2 id="new">new</h2>

<pre><code><code>  <span class="variable">Usage</span>   <span class="operator">:</span> <span class="variable">$index</span> <span class="operator">=</span> <span class="variable">Bio::Index::Abstract</span><span class="operator">-&gt;</span><span class="variable">new</span><span class="operator">(</span>
                <span class="string">-filename</span>    <span class="operator">=&gt;</span> <span class="variable">$dbm_file</span><span class="operator">,</span>
                <span class="string">-write_flag</span>  <span class="operator">=&gt;</span> <span class="number">0</span><span class="operator">,</span>
                <span class="string">-dbm_package</span> <span class="operator">=&gt;</span> <span class="string">'DB_File'</span><span class="operator">,</span>
                <span class="string">-verbose</span>     <span class="operator">=&gt;</span> <span class="number">0</span><span class="operator">);</span>
  <span class="variable">Function</span><span class="operator">:</span> <span class="variable">Returns</span> <span class="variable">a</span> <span class="variable">new</span> <span class="keyword">index</span> <span class="variable">object</span><span class="operator">.</span>  <span class="variable">If</span> <span class="variable">filename</span> <span class="variable">is</span>
            <span class="variable">specified</span><span class="operator">,</span> <span class="variable">then</span> <span class="variable">open_dbm</span><span class="operator">()</span> <span class="variable">is</span> <span class="variable">immediately</span> <span class="variable">called</span><span class="operator">.</span> 
            <span class="variable">Bio::Index::Abstract</span><span class="operator">-&gt;</span><span class="variable">new</span><span class="operator">()</span> <span class="variable">will</span> <span class="variable">usually</span> <span class="variable">be</span> <span class="variable">called</span>
            <span class="variable">directly</span> <span class="variable">only</span> <span class="keyword">when</span> <span class="variable">opening</span> <span class="variable">an</span> <span class="variable">existing</span> <span class="keyword">index</span><span class="operator">.</span>
  <span class="variable">Returns</span> <span class="operator">:</span> <span class="variable">A</span> <span class="variable">new</span> <span class="keyword">index</span> <span class="variable">object</span>
  <span class="variable">Args</span>    <span class="operator">:</span> <span class="operator">-</span><span class="variable">filename</span>    <span class="variable">The</span> <span class="variable">name</span> <span class="variable">of</span> <span class="variable">the</span> <span class="variable">dbm</span> <span class="keyword">index</span> <span class="variable">file</span><span class="operator">.</span>
            <span class="operator">-</span><span class="variable">write_flag</span>  <span class="variable">TRUE</span> <span class="keyword">if</span> <span class="keyword">write</span> <span class="variable">access</span> <span class="variable">to</span> <span class="variable">the</span> <span class="variable">dbm</span> <span class="variable">file</span> <span class="variable">is</span>
                         <span class="variable">needed</span><span class="operator">.</span>
            <span class="operator">-</span><span class="variable">dbm_package</span> <span class="variable">The</span> <span class="variable">Perl</span> <span class="variable">dbm</span> <span class="variable">module</span> <span class="variable">to</span> <span class="keyword">use</span> <span class="keyword">for</span> <span class="variable">the</span>
                         <span class="keyword">index</span><span class="operator">.</span>
            <span class="operator">-</span><span class="variable">verbose</span>     <span class="variable">Print</span> <span class="variable">debugging</span> <span class="variable">output</span> <span class="variable">to</span> <span class="variable">STDERR</span> <span class="keyword">if</span>
                         <span class="variable">TRUE</span><span class="operator">.</span>
</code></code></pre>

<h2 id="filename">filename</h2>

<pre><code><code> <span class="variable">Title</span>   <span class="operator">:</span> <span class="variable">filename</span>
 <span class="variable">Usage</span>   <span class="operator">:</span> <span class="variable">$value</span> <span class="operator">=</span> <span class="variable">$self</span><span class="operator">-&gt;</span><span class="variable">filename</span><span class="operator">();</span>
           <span class="variable">$self</span><span class="operator">-&gt;</span><span class="variable">filename</span><span class="operator">(</span><span class="variable">$value</span><span class="operator">);</span>
 <span class="variable">Function</span><span class="operator">:</span> <span class="variable">Gets</span> <span class="keyword">or</span> <span class="variable">sets</span> <span class="variable">the</span> <span class="variable">name</span> <span class="variable">of</span> <span class="variable">the</span> <span class="variable">dbm</span> <span class="keyword">index</span> <span class="variable">file</span><span class="operator">.</span>
 <span class="variable">Returns</span> <span class="operator">:</span> <span class="variable">The</span> <span class="variable">current</span> <span class="variable">value</span> <span class="variable">of</span> <span class="variable">filename</span>
 <span class="variable">Args</span>    <span class="operator">:</span> <span class="variable">Value</span> <span class="variable">of</span> <span class="variable">filename</span> <span class="keyword">if</span> <span class="variable">setting</span><span class="operator">,</span> <span class="keyword">or</span> <span class="variable">none</span> <span class="keyword">if</span>
           <span class="variable">getting</span> <span class="variable">the</span> <span class="variable">value</span><span class="operator">.</span>
</code></code></pre>

<h2 id="write_flag">write_flag</h2>

<pre><code><code> <span class="variable">Title</span>   <span class="operator">:</span> <span class="variable">write_flag</span>
 <span class="variable">Usage</span>   <span class="operator">:</span> <span class="variable">$value</span> <span class="operator">=</span> <span class="variable">$self</span><span class="operator">-&gt;</span><span class="variable">write_flag</span><span class="operator">();</span>
           <span class="variable">$self</span><span class="operator">-&gt;</span><span class="variable">write_flag</span><span class="operator">(</span><span class="variable">$value</span><span class="operator">);</span>
 <span class="variable">Function</span><span class="operator">:</span> <span class="variable">Gets</span> <span class="keyword">or</span> <span class="variable">sets</span> <span class="variable">the</span> <span class="variable">value</span> <span class="variable">of</span> <span class="variable">write_flag</span><span class="operator">,</span> <span class="variable">which</span>
           <span class="variable">is</span> <span class="variable">wether</span> <span class="variable">the</span> <span class="variable">dbm</span> <span class="variable">file</span> <span class="variable">should</span> <span class="variable">be</span> <span class="variable">opened</span> <span class="variable">with</span>
           <span class="keyword">write</span> <span class="variable">access</span><span class="operator">.</span>
 <span class="variable">Returns</span> <span class="operator">:</span> <span class="variable">The</span> <span class="variable">current</span> <span class="variable">value</span> <span class="variable">of</span> <span class="variable">write_flag</span> <span class="operator">(</span><span class="keyword">default</span> <span class="number">0</span><span class="operator">)</span>
 <span class="variable">Args</span>    <span class="operator">:</span> <span class="variable">Value</span> <span class="variable">of</span> <span class="variable">write_flag</span> <span class="keyword">if</span> <span class="variable">setting</span><span class="operator">,</span> <span class="keyword">or</span> <span class="variable">none</span> <span class="keyword">if</span>
           <span class="variable">getting</span> <span class="variable">the</span> <span class="variable">value</span><span class="operator">.</span>
</code></code></pre>

<h2 id="dbm_package">dbm_package</h2>

<pre><code><code> <span class="variable">Usage</span>   <span class="operator">:</span> <span class="variable">$value</span> <span class="operator">=</span> <span class="variable">$self</span><span class="operator">-&gt;</span><span class="variable">dbm_package</span><span class="operator">();</span>
           <span class="variable">$self</span><span class="operator">-&gt;</span><span class="variable">dbm_package</span><span class="operator">(</span><span class="variable">$value</span><span class="operator">);</span>
 
 <span class="variable">Function</span><span class="operator">:</span> <span class="variable">Gets</span> <span class="keyword">or</span> <span class="variable">sets</span> <span class="variable">the</span> <span class="variable">name</span> <span class="variable">of</span> <span class="variable">the</span> <span class="variable">Perl</span> <span class="variable">dbm</span> <span class="variable">module</span> <span class="variable">used</span><span class="operator">.</span> 
           <span class="variable">If</span> <span class="variable">the</span> <span class="variable">value</span> <span class="variable">is</span> <span class="variable">unset</span><span class="operator">,</span> <span class="variable">then</span> <span class="variable">it</span> <span class="variable">returns</span> <span class="variable">the</span> <span class="variable">value</span> <span class="variable">of</span>
           <span class="variable">the</span> <span class="keyword">package</span> <span class="variable">variable</span> <span class="variable">$USE_DBM_TYPE</span> <span class="keyword">or</span> <span class="keyword">if</span> <span class="variable">that</span> <span class="variable">is</span>
           <span class="variable">unset</span><span class="operator">,</span> <span class="variable">then</span> <span class="variable">it</span> <span class="variable">chooses</span> <span class="variable">the</span> <span class="variable">best</span> <span class="variable">available</span> <span class="variable">dbm</span> <span class="variable">type</span><span class="operator">,</span>
           <span class="variable">choosing</span> <span class="string">'DB_File'</span> <span class="variable">in</span> <span class="variable">preference</span> <span class="variable">to</span> <span class="string">'SDBM_File'</span><span class="operator">.</span> 
           <span class="variable">Bio::Abstract::Index</span> <span class="variable">may</span> <span class="variable">work</span> <span class="variable">with</span> <span class="variable">other</span> <span class="variable">dbm</span> <span class="variable">file</span>
           <span class="variable">types</span><span class="operator">.</span>
 
 <span class="variable">Returns</span> <span class="operator">:</span> <span class="variable">The</span> <span class="variable">current</span> <span class="variable">value</span> <span class="variable">of</span> <span class="variable">dbm_package</span>
 <span class="variable">Args</span>    <span class="operator">:</span> <span class="variable">Value</span> <span class="variable">of</span> <span class="variable">dbm_package</span> <span class="keyword">if</span> <span class="variable">setting</span><span class="operator">,</span> <span class="keyword">or</span> <span class="variable">none</span> <span class="keyword">if</span>
           <span class="variable">getting</span> <span class="variable">the</span> <span class="variable">value</span><span class="operator">.</span>
</code></code></pre>

<h2 id="db">db</h2>

<pre><code><code>  <span class="variable">Title</span>   <span class="operator">:</span> <span class="variable">db</span>
  <span class="variable">Usage</span>   <span class="operator">:</span> <span class="variable">$index</span><span class="operator">-&gt;</span><span class="variable">db</span>
  <span class="variable">Function</span><span class="operator">:</span> <span class="variable">Returns</span> <span class="variable">a</span> <span class="keyword">ref</span> <span class="variable">to</span> <span class="variable">the</span> <span class="variable">hash</span> <span class="variable">which</span> <span class="variable">is</span> <span class="keyword">tied</span> <span class="variable">to</span> <span class="variable">the</span> <span class="variable">dbm</span>
            <span class="variable">file</span><span class="operator">.</span>  <span class="variable">Used</span> <span class="variable">internally</span> <span class="keyword">when</span> <span class="variable">adding</span> <span class="keyword">and</span> <span class="variable">retrieving</span>
            <span class="variable">data</span> <span class="variable">from</span> <span class="variable">the</span> <span class="variable">database</span><span class="operator">.</span>
  <span class="variable">Example</span> <span class="operator">:</span> <span class="variable">$db</span> <span class="operator">=</span> <span class="variable">$index</span><span class="operator">-&gt;</span><span class="variable">db</span><span class="operator">();</span>
            <span class="variable">$db</span><span class="operator">-&gt;</span><span class="operator">{</span> <span class="variable">$some_key</span> <span class="operator">}</span> <span class="operator">=</span> <span class="variable">$data</span>
            <span class="variable">$data</span> <span class="operator">=</span> <span class="variable">$index</span><span class="operator">-&gt;</span><span class="variable">db</span><span class="operator">-&gt;</span><span class="operator">{</span> <span class="variable">$some_key</span> <span class="operator">}</span><span class="operator">;</span>
  <span class="variable">Returns</span> <span class="operator">:</span> <span class="keyword">ref</span> <span class="variable">to</span> <span class="variable">HASH</span>
  <span class="variable">Args</span>    <span class="operator">:</span> <span class="variable">NONE</span>
</code></code></pre>

<h2 id="get_stream">get_stream</h2>

<pre><code><code> <span class="variable">Title</span>   <span class="operator">:</span> <span class="variable">get_stream</span>
 <span class="variable">Usage</span>   <span class="operator">:</span> <span class="variable">$stream</span> <span class="operator">=</span> <span class="variable">$index</span><span class="operator">-&gt;</span><span class="variable">get_stream</span><span class="operator">(</span> <span class="variable">$id</span> <span class="operator">);</span>
 <span class="variable">Function</span><span class="operator">:</span> <span class="variable">Returns</span> <span class="variable">a</span> <span class="variable">file</span> <span class="variable">handle</span> <span class="variable">with</span> <span class="variable">the</span> <span class="variable">file</span> <span class="variable">pointer</span>
           <span class="variable">at</span> <span class="variable">the</span> <span class="variable">approprite</span> <span class="variable">place</span>
 
           <span class="variable">This</span> <span class="variable">provides</span> <span class="keyword">for</span> <span class="variable">a</span> <span class="variable">way</span> <span class="variable">to</span> <span class="variable">get</span> <span class="variable">the</span> <span class="variable">actual</span>
           <span class="variable">file</span> <span class="variable">contents</span> <span class="keyword">and</span> <span class="keyword">not</span> <span class="variable">an</span> <span class="variable">object</span> 
 
           <span class="variable">WARNING</span><span class="operator">:</span> <span class="variable">you</span> <span class="variable">must</span> <span class="variable">parse</span> <span class="variable">the</span> <span class="variable">record</span> <span class="variable">deliminter</span>
           <span class="variable">*yourself</span><span class="operator">*.</span> <span class="variable">Abstract</span> <span class="variable">wont</span> <span class="keyword">do</span> <span class="variable">this</span> <span class="keyword">for</span> <span class="variable">you</span> 
           <span class="variable">So</span> <span class="variable">this</span> <span class="variable">code</span>
 
           <span class="variable">$fh</span> <span class="operator">=</span> <span class="variable">$index</span><span class="operator">-&gt;</span><span class="variable">get_stream</span><span class="operator">(</span><span class="variable">$myid</span><span class="operator">);</span>
           <span class="keyword">while</span><span class="operator">(</span> <span class="operator">&lt;</span><span class="variable">$fh</span><span class="operator">&gt;</span> <span class="operator">)</span> <span class="operator">{</span>
              <span class="comment"># do something</span>
           <span class="operator">}</span>
           <span class="variable">will</span> <span class="variable">parse</span> <span class="variable">the</span> <span class="variable">entire</span> <span class="variable">file</span> <span class="keyword">if</span> <span class="variable">you</span> <span class="variable">don't</span> <span class="variable">put</span> <span class="variable">in</span>
           <span class="variable">a</span> <span class="keyword">last</span> <span class="variable">statement</span> <span class="variable">in</span><span class="operator">,</span> <span class="variable">like</span>
 
           <span class="keyword">while</span><span class="operator">(</span> <span class="operator">&lt;</span><span class="variable">$fh</span><span class="operator">&gt;</span> <span class="operator">)</span> <span class="operator">{</span>
              <span class="regex">/^\/\//</span> <span class="operator">&amp;&amp;</span> <span class="keyword">last</span><span class="operator">;</span> <span class="comment"># end of record</span>
              <span class="comment"># do something</span>
           <span class="operator">}</span>
 
 <span class="variable">Returns</span> <span class="operator">:</span> <span class="variable">A</span> <span class="variable">filehandle</span> <span class="variable">object</span>
 <span class="variable">Args</span>    <span class="operator">:</span> <span class="variable">string</span> <span class="variable">represents</span> <span class="variable">the</span> <span class="variable">accession</span> <span class="variable">number</span>
 <span class="variable">Notes</span>   <span class="operator">:</span> <span class="variable">This</span> <span class="variable">method</span> <span class="variable">should</span> <span class="keyword">not</span> <span class="variable">be</span> <span class="variable">used</span> <span class="variable">without</span> <span class="variable">forethought</span> 
</code></code></pre>

<h2 id="cachesize">cachesize</h2>

<pre><code><code>  Usage   : $index-&gt;cachesize(1000000)
  Function: Sets the dbm file cache size for the index.
            Needs to be set before the DBM file gets opened.
  Example : $index-&gt;cachesize(1000000)
  Returns : size of the curent cache</code></code></pre>

<h2 id="ffactor">ffactor</h2>

<pre><code><code>  Usage   : $index-&gt;ffactor(1000000)
  Function: Sets the dbm file fill factor.
                        Needs to be set before the DBM file gets opened.

  Example : $index-&gt;ffactor(1000000)
  Returns : size of the curent cache</code></code></pre>

<h2 id="open_dbm">open_dbm</h2>

<pre><code><code>  Usage   : $index-&gt;open_dbm()
  Function: Opens the dbm file associated with the index
            object.  Write access is only given if explicitly
            asked for by calling new(-write =&gt; 1) or having set
            the write_flag(1) on the index object.  The type of
            dbm file opened is that returned by dbm_package(). 
            The name of the file to be is opened is obtained by
            calling the filename() method.

  Example : $index-&gt;_open_dbm()
  Returns : 1 on success</code></code></pre>

<h2 id="version">_version</h2>

<pre><code><code>  Title   : _version
  Usage   : $type = $index-&gt;_version()
  Function: Returns a string which identifes the version of an
            index module.  Used to permanently identify an index
            file as having been created by a particular version
            of the index module.  Must be provided by the sub class
  Example : 
  Returns : 
  Args    : none</code></code></pre>

<h2 id="code_base">_code_base</h2>

<pre><code><code> <span class="variable">Title</span>   <span class="operator">:</span> <span class="variable">_code_base</span>
 <span class="variable">Usage</span>   <span class="operator">:</span> <span class="variable">$code</span> <span class="operator">=</span> <span class="variable">$db</span><span class="operator">-&gt;</span><span class="variable">_code_base</span><span class="operator">();</span>
 <span class="variable">Function</span><span class="operator">:</span>
 <span class="variable">Example</span> <span class="operator">:</span>
 <span class="variable">Returns</span> <span class="operator">:</span> <span class="variable">Code</span> <span class="keyword">package</span> <span class="variable">to</span> <span class="variable">be</span> <span class="variable">used</span> <span class="variable">with</span> <span class="variable">this</span> 
 <span class="variable">Args</span>    <span class="operator">:</span>
</code></code></pre>

<h2 id="type_and_version">_type_and_version</h2>

<pre><code><code>  Title   : _type_and_version
  Usage   : Called by _initalize
  Function: Checks that the index opened is made by the same index
            module and version of that module that made it.  If the
            index is empty, then it adds the information to the
            database.
  Example : 
  Returns : 1 or exception
  Args    : none</code></code></pre>

<h2 id="check_file_sizes">_check_file_sizes</h2>

<pre><code><code>  Title   : _check_file_sizes
  Usage   : $index-&gt;_check_file_sizes()
  Function: Verifies that the files listed in the database
            are the same size as when the database was built,
            or throws an exception.  Called by the new()
            function.
  Example : 
  Returns : 1 or exception
  Args    : </code></code></pre>

<h2 id="make_index">make_index</h2>

<pre><code><code>  <span class="variable">Title</span>   <span class="operator">:</span> <span class="variable">make_index</span>
  <span class="variable">Usage</span>   <span class="operator">:</span> <span class="variable">$index</span><span class="operator">-&gt;</span><span class="variable">make_index</span><span class="operator">(</span> <span class="variable">FILE_LIST</span> <span class="operator">)</span>
  <span class="variable">Function</span><span class="operator">:</span> <span class="variable">Takes</span> <span class="variable">a</span> <span class="variable">list</span> <span class="variable">of</span> <span class="variable">file</span> <span class="variable">names</span><span class="operator">,</span> <span class="variable">checks</span> <span class="variable">that</span> <span class="variable">they</span> <span class="variable">are</span>
            <span class="variable">all</span> <span class="variable">fully</span> <span class="variable">qualified</span><span class="operator">,</span> <span class="keyword">and</span> <span class="variable">then</span> <span class="variable">calls</span> <span class="variable">_filename</span><span class="operator">()</span> <span class="variable">on</span>
            <span class="keyword">each</span><span class="operator">.</span>  <span class="variable">It</span> <span class="variable">supplies</span> <span class="variable">_filename</span><span class="operator">()</span> <span class="variable">with</span> <span class="variable">the</span> <span class="variable">name</span> <span class="variable">of</span> <span class="variable">the</span>
            <span class="variable">file</span><span class="operator">,</span> <span class="keyword">and</span> <span class="variable">an</span> <span class="variable">integer</span> <span class="variable">which</span> <span class="variable">is</span> <span class="variable">stored</span> <span class="variable">with</span> <span class="keyword">each</span> <span class="variable">record</span>
            <span class="variable">created</span> <span class="variable">by</span> <span class="variable">_filename</span><span class="operator">().</span>  <span class="variable">Can</span> <span class="variable">be</span> <span class="variable">called</span> <span class="variable">multiple</span> <span class="keyword">times</span><span class="operator">,</span>
            <span class="keyword">and</span> <span class="variable">can</span> <span class="variable">be</span> <span class="variable">used</span> <span class="variable">to</span> <span class="variable">add</span> <span class="variable">to</span> <span class="variable">an</span> <span class="variable">existing</span> <span class="keyword">index</span> <span class="variable">file</span><span class="operator">.</span>
  <span class="variable">Example</span> <span class="operator">:</span> <span class="variable">$index</span><span class="operator">-&gt;</span><span class="variable">make_index</span><span class="operator">(</span> <span class="string">'/home/seqs1'</span><span class="operator">,</span> <span class="string">'/home/seqs2'</span><span class="operator">,</span> <span class="string">'/nfs/pub/big_db'</span> <span class="operator">);</span>
  <span class="variable">Returns</span> <span class="operator">:</span> <span class="variable">Number</span> <span class="variable">of</span> <span class="variable">files</span> <span class="variable">indexed</span>
  <span class="variable">Args</span>    <span class="operator">:</span> <span class="variable">LIST</span> <span class="variable">OF</span> <span class="variable">FILES</span>
</code></code></pre>

<h2 id="pathtype">pathtype</h2>

<pre><code><code>  <span class="variable">Title</span>   <span class="operator">:</span> <span class="variable">pathtype</span>
  <span class="variable">Usage</span>   <span class="operator">:</span> <span class="variable">$index</span><span class="operator">-&gt;</span><span class="variable">pathtype</span><span class="operator">(</span><span class="variable">$pathtype</span><span class="operator">)</span>
  <span class="variable">Function</span><span class="operator">:</span> <span class="variable">Set</span> <span class="variable">the</span> <span class="variable">type</span> <span class="variable">of</span> <span class="variable">the</span> <span class="variable">file</span> <span class="variable">path</span>
            <span class="variable">Only</span> <span class="variable">two</span> <span class="keyword">values</span> <span class="variable">are</span> <span class="variable">supported</span><span class="operator">,</span> <span class="string">'relative'</span> <span class="keyword">or</span> <span class="string">'absolute'</span><span class="operator">.</span>
            <span class="variable">If</span> <span class="variable">the</span> <span class="variable">user</span> <span class="variable">does</span> <span class="keyword">not</span> <span class="variable">give</span> <span class="variable">any</span> <span class="variable">value</span><span class="operator">,</span> <span class="variable">it</span> <span class="variable">is</span> <span class="variable">set</span> <span class="variable">to</span>
            <span class="variable">absolute</span> <span class="variable">by</span> <span class="keyword">default</span><span class="operator">.</span> <span class="variable">Thus</span> <span class="variable">it</span> <span class="variable">mimics</span> <span class="variable">the</span> <span class="keyword">default</span>
            <span class="variable">behavior</span> <span class="variable">of</span> <span class="variable">Bio::Index::Abstract</span> <span class="variable">module</span><span class="operator">.</span>
  <span class="variable">Example</span> <span class="operator">:</span> <span class="keyword">my</span> <span class="variable">$index</span> <span class="operator">=</span> <span class="variable">Bio::Index::Abstract</span><span class="operator">-&gt;(</span><span class="string">-pathtype</span> <span class="operator">=&gt;</span> <span class="string">'relative'</span><span class="operator">,</span>
                                               <span class="string">-file</span>     <span class="operator">=&gt;</span> <span class="variable">$file</span><span class="operator">.</span><span class="variable">inx</span><span class="operator">,</span>
                                              <span class="operator">);</span>
            <span class="keyword">or</span>
            <span class="variable">$index</span><span class="operator">-&gt;</span><span class="variable">pathtype</span><span class="operator">(</span><span class="string">'relative'</span><span class="operator">);</span>
  <span class="variable">Returns</span> <span class="operator">:</span> <span class="variable">Type</span> <span class="variable">of</span> <span class="variable">the</span> <span class="variable">path</span><span class="operator">.</span>
  <span class="variable">Args</span>    <span class="operator">:</span> <span class="variable">String</span> <span class="operator">(</span><span class="variable">relative</span><span class="operator">|</span><span class="variable">absolute</span><span class="operator">)</span>
</code></code></pre>

<h2 id="filename1">_filename</h2>

<pre><code><code>  Title   : _filename
  Usage   : $index-&gt;_filename( FILE INT )
  Function: Indexes the file
  Example : 
  Returns : 
  Args    : </code></code></pre>

<h2 id="file_handle">_file_handle</h2>

<pre><code><code>  <span class="variable">Title</span>   <span class="operator">:</span> <span class="variable">_file_handle</span>
  <span class="variable">Usage</span>   <span class="operator">:</span> <span class="variable">$fh</span> <span class="operator">=</span> <span class="variable">$index</span><span class="operator">-&gt;</span><span class="variable">_file_handle</span><span class="operator">(</span> <span class="variable">INT</span> <span class="operator">)</span>
  <span class="variable">Function</span><span class="operator">:</span> <span class="variable">Returns</span> <span class="variable">an</span> <span class="keyword">open</span> <span class="variable">filehandle</span> <span class="keyword">for</span> <span class="variable">the</span> <span class="variable">file</span>
            <span class="keyword">index</span> <span class="variable">INT</span><span class="operator">.</span>  <span class="variable">On</span> <span class="variable">opening</span> <span class="variable">a</span> <span class="variable">new</span> <span class="variable">filehandle</span> <span class="variable">it</span>
            <span class="variable">caches</span> <span class="variable">it</span> <span class="variable">in</span> <span class="variable">the</span> <span class="variable">@</span><span class="operator">{</span><span class="variable">$index</span><span class="operator">-&gt;</span><span class="variable">_filehandle</span><span class="operator">}</span> <span class="variable">array</span><span class="operator">.</span>
            <span class="variable">If</span> <span class="variable">the</span> <span class="variable">requested</span> <span class="variable">filehandle</span> <span class="variable">is</span> <span class="variable">already</span> <span class="keyword">open</span><span class="operator">,</span>
            <span class="variable">it</span> <span class="variable">simply</span> <span class="variable">returns</span> <span class="variable">it</span> <span class="variable">from</span> <span class="variable">the</span> <span class="variable">array</span><span class="operator">.</span>
  <span class="variable">Example</span> <span class="operator">:</span> <span class="variable">$first_file_indexed</span> <span class="operator">=</span> <span class="variable">$index</span><span class="operator">-&gt;</span><span class="variable">_file_handle</span><span class="operator">(</span> <span class="number">0</span> <span class="operator">);</span>
  <span class="variable">Returns</span> <span class="operator">:</span> <span class="keyword">ref</span> <span class="variable">to</span> <span class="variable">a</span> <span class="variable">filehandle</span>
  <span class="variable">Args</span>    <span class="operator">:</span> <span class="variable">INT</span>
</code></code></pre>

<h2 id="file_count">_file_count</h2>

<pre><code><code>  Title   : _file_count
  Usage   : $index-&gt;_file_count( INT )
  Function: Used by the index building sub in a sub class to
            track the number of files indexed.  Sets or gets
            the number of files indexed when called with or
            without an argument.
  Example : 
  Returns : INT
  Args    : INT</code></code></pre>

<h2 id="add_record">add_record</h2>

<pre><code><code>  <span class="variable">Title</span>   <span class="operator">:</span> <span class="variable">add_record</span>
  <span class="variable">Usage</span>   <span class="operator">:</span> <span class="variable">$index</span><span class="operator">-&gt;</span><span class="variable">add_record</span><span class="operator">(</span> <span class="variable">$id</span><span class="operator">,</span> <span class="variable">@stuff</span> <span class="operator">);</span>
  <span class="variable">Function</span><span class="operator">:</span> <span class="variable">Calls</span> <span class="variable">pack_record</span> <span class="variable">on</span> <span class="variable">@stuff</span><span class="operator">,</span> <span class="keyword">and</span> <span class="variable">adds</span> <span class="variable">the</span> <span class="variable">result</span>
            <span class="variable">of</span> <span class="variable">pack_record</span> <span class="variable">to</span> <span class="variable">the</span> <span class="keyword">index</span> <span class="variable">database</span> <span class="variable">under</span> <span class="variable">key</span> <span class="variable">$id</span><span class="operator">.</span>
            <span class="variable">If</span> <span class="variable">$id</span> <span class="variable">is</span> <span class="variable">a</span> <span class="variable">reference</span> <span class="variable">to</span> <span class="variable">an</span> <span class="variable">array</span><span class="operator">,</span> <span class="variable">then</span> <span class="variable">a</span> <span class="variable">new</span> <span class="variable">entry</span>
            <span class="variable">is</span> <span class="variable">added</span> <span class="variable">under</span> <span class="variable">a</span> <span class="variable">key</span> <span class="variable">corresponding</span> <span class="variable">to</span> <span class="keyword">each</span> <span class="variable">element</span>
            <span class="variable">of</span> <span class="variable">the</span> <span class="variable">array</span><span class="operator">.</span>
  <span class="variable">Example</span> <span class="operator">:</span> <span class="variable">$index</span><span class="operator">-&gt;</span><span class="variable">add_record</span><span class="operator">(</span> <span class="variable">$id</span><span class="operator">,</span> <span class="variable">$fileNumber</span><span class="operator">,</span> <span class="variable">$begin</span><span class="operator">,</span> <span class="variable">$end</span> <span class="operator">)</span>
  <span class="variable">Returns</span> <span class="operator">:</span> <span class="variable">TRUE</span> <span class="variable">on</span> <span class="variable">success</span> <span class="keyword">or</span> <span class="variable">FALSE</span> <span class="variable">on</span> <span class="variable">failure</span>
  <span class="variable">Args</span>    <span class="operator">:</span> <span class="variable">ID</span> <span class="variable">LIST</span>
</code></code></pre>

<h2 id="pack_record">pack_record</h2>

<pre><code><code>  Title   : pack_record
  Usage   : $packed_string = $index-&gt;pack_record( LIST )
  Function: Packs an array of scalars into a single string
            joined by ASCII 034 (which is unlikely to be used
            in any of the strings), and returns it. 
  Example : $packed_string = $index-&gt;pack_record( $fileNumber, $begin, $end )
  Returns : STRING or undef
  Args    : LIST</code></code></pre>

<h2 id="unpack_record">unpack_record</h2>

<pre><code><code>  <span class="variable">Title</span>   <span class="operator">:</span> <span class="variable">unpack_record</span>
  <span class="variable">Usage</span>   <span class="operator">:</span> <span class="variable">$index</span><span class="operator">-&gt;</span><span class="variable">unpack_record</span><span class="operator">(</span> <span class="variable">STRING</span> <span class="operator">)</span>
  <span class="variable">Function</span><span class="operator">:</span> <span class="variable">Splits</span> <span class="variable">the</span> <span class="variable">sting</span> <span class="variable">provided</span> <span class="variable">into</span> <span class="variable">an</span> <span class="variable">array</span><span class="operator">,</span>
            <span class="variable">splitting</span> <span class="variable">on</span> <span class="variable">ASCII</span> <span class="number">034</span><span class="operator">.</span>
  <span class="variable">Example</span> <span class="operator">:</span> <span class="operator">(</span> <span class="variable">$fileNumber</span><span class="operator">,</span> <span class="variable">$begin</span><span class="operator">,</span> <span class="variable">$end</span> <span class="operator">)</span> <span class="operator">=</span> <span class="variable">$index</span><span class="operator">-&gt;</span><span class="variable">unpack_record</span><span class="operator">(</span> <span class="variable">$self</span><span class="operator">-&gt;</span><span class="variable">db</span><span class="operator">-&gt;</span><span class="operator">{</span><span class="variable">$id</span><span class="operator">}</span> <span class="operator">)</span>
  <span class="variable">Returns</span> <span class="operator">:</span> <span class="variable">A</span> <span class="number">3</span> <span class="variable">element</span> <span class="variable">ARRAY</span>
  <span class="variable">Args</span>    <span class="operator">:</span> <span class="variable">STRING</span> <span class="variable">containing</span> <span class="variable">ASCII</span> <span class="number">034</span>
</code></code></pre>

<h2 id="count_records">count_records</h2>

<pre><code><code> Title   : count_records
 Usage   : $recs = $seqdb-&gt;count_records()
 Function: return count of all recs in the index 
 Example :
 Returns : a scalar
 Args    : none</code></code></pre>

<h2 id="DESTROY">DESTROY</h2>

<pre><code><code> Title   : DESTROY
 Usage   : Called automatically when index goes out of scope
 Function: Closes connection to database and handles to
           sequence files
 Returns : NEVER
 Args    : NONE</code></code></pre>


</body>

</html>


