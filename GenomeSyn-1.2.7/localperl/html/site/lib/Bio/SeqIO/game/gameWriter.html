<?xml version="1.0" ?>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<!-- saved from url=(0017)http://localhost/ -->
<script language="JavaScript" src="../../../../../displayToc.js"></script>
<script language="JavaScript" src="../../../../../tocParas.js"></script>
<script language="JavaScript" src="../../../../../tocTab.js"></script>
<link rel="stylesheet" type="text/css" href="../../../../../scineplex.css">
<title></title>
<link rel="stylesheet" href="../../../../../Active.css" type="text/css" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:support@ActiveState.com" />
</head>

<body>



<ul id="index">
  <li><a href="#NAME">NAME</a></li>
  <li><a href="#SYNOPSIS">SYNOPSIS</a></li>
  <li><a href="#DESCRIPTION">DESCRIPTION</a></li>
  <li><a href="#FEEDBACK">FEEDBACK</a>
    <ul>
      <li><a href="#Mailing-Lists">Mailing Lists</a></li>
      <li><a href="#Support">Support</a></li>
      <li><a href="#Reporting-Bugs">Reporting Bugs</a></li>
    </ul>
  </li>
  <li><a href="#AUTHOR---Sheldon-McKay">AUTHOR - Sheldon McKay</a></li>
  <li><a href="#APPENDIX">APPENDIX</a>
    <ul>
      <li><a href="#new">new</a></li>
      <li><a href="#write_to_game">write_to_game</a></li>
      <li><a href="#rearrange_hierarchies">_rearrange_hierarchies</a></li>
      <li><a href="#write_feature">_write_feature</a></li>
      <li><a href="#write_gene">_write_gene</a></li>
      <li><a href="#check_cds">_check_cds</a></li>
      <li><a href="#comp_analysis">_comp_analysis</a></li>
      <li><a href="#comp_result">_comp_result</a></li>
      <li><a href="#comp_result_span">_comp_result_span</a></li>
      <li><a href="#render_tags">_render_tags</a></li>
      <li><a href="#render_output_tags">_render_output_tags</a></li>
      <li><a href="#render_tags_as_properties">_render_tags_as_properties</a></li>
      <li><a href="#render_comment_tags">_render_comment_tags</a></li>
      <li><a href="#render_date_tags">_render_date_tags</a></li>
      <li><a href="#render_dbxref_tags">_render_dbxref_tags</a></li>
      <li><a href="#render_target_tags">_render_target_tags</a></li>
      <li><a href="#property">_property</a></li>
      <li><a href="#unflatten_attribute">_unflatten_attribute</a></li>
      <li><a href="#xref">_xref</a></li>
      <li><a href="#feature_span">_feature_span</a></li>
      <li><a href="#seq_relationship">_seq_relationship</a></li>
      <li><a href="#element">_element</a></li>
      <li><a href="#span">_span</a></li>
      <li><a href="#seq">_seq</a></li>
      <li><a href="#find_name">_find_name</a></li>
    </ul>
  </li>
</ul>

<h1 id="NAME">NAME</h1>

<p>Bio::SeqIO::game::gameWriter -- a class for writing game-XML</p>

<h1 id="SYNOPSIS">SYNOPSIS</h1>

<pre><code><code>  <span class="keyword">use</span> <span class="variable">Bio::SeqIO</span><span class="operator">;</span>
  
  <span class="keyword">my</span> <span class="variable">$in</span>  <span class="operator">=</span> <span class="variable">Bio::SeqIO</span><span class="operator">-&gt;</span><span class="variable">new</span><span class="operator">(</span> <span class="string">-format</span> <span class="operator">=&gt;</span> <span class="string">'genbank'</span><span class="operator">,</span>
                             <span class="string">-file</span> <span class="operator">=&gt;</span> <span class="string">'myfile.gbk'</span> <span class="operator">);</span>
  <span class="keyword">my</span> <span class="variable">$out</span> <span class="operator">=</span> <span class="variable">Bio::SeqIO</span><span class="operator">-&gt;</span><span class="variable">new</span><span class="operator">(</span> <span class="string">-format</span> <span class="operator">=&gt;</span> <span class="string">'game'</span><span class="operator">,</span>
                             <span class="string">-file</span> <span class="operator">=&gt;</span> <span class="string">'myfile.xml'</span> <span class="operator">);</span>
  
  <span class="comment"># get a sequence object</span>
  <span class="keyword">my</span> <span class="variable">$seq</span> <span class="operator">=</span> <span class="variable">$in</span><span class="operator">-&gt;</span><span class="variable">next_seq</span><span class="operator">;</span>
  
  <span class="comment">#write it in GAME format</span>
  <span class="variable">$out</span><span class="operator">-&gt;</span><span class="variable">write_seq</span><span class="operator">(</span><span class="variable">$seq</span><span class="operator">);</span>
</code></code></pre>

<h1 id="DESCRIPTION">DESCRIPTION</h1>

<p>Bio::SeqIO::game::gameWriter writes GAME-XML (v. 1.2) that is readable by Apollo. It is best not used directly. It is accessed via Bio::SeqIO.</p>

<h1 id="FEEDBACK">FEEDBACK</h1>

<h2 id="Mailing-Lists">Mailing Lists</h2>

<p>User feedback is an integral part of the evolution of this and other Bioperl modules. Send your comments and suggestions preferably to one of the Bioperl mailing lists.</p>

<p>Your participation is much appreciated.</p>

<pre><code><code>  bioperl-l@bioperl.org                  - General discussion
  http://bioperl.org/wiki/Mailing_lists  - About the mailing lists</code></code></pre>

<h2 id="Support">Support</h2>

<p>Please direct usage questions or support issues to the mailing list:</p>

<p><i>bioperl-l@bioperl.org</i></p>

<p>rather than to the module maintainer directly. Many experienced and reponsive experts will be able look at the problem and quickly address it. Please include a thorough description of the problem with code and data examples if at all possible.</p>

<h2 id="Reporting-Bugs">Reporting Bugs</h2>

<p>Report bugs to the Bioperl bug tracking system to help us keep track of the bugs and their resolution. Bug reports can be submitted via the web:</p>

<pre><code><code>  https://redmine.open-bio.org/projects/bioperl/</code></code></pre>

<h1 id="AUTHOR---Sheldon-McKay">AUTHOR - Sheldon McKay</h1>

<p>Email mckays@cshl.edu</p>

<h1 id="APPENDIX">APPENDIX</h1>

<p>The rest of the documentation details each of the object methods. Internal methods are usually preceded with a _</p>

<h2 id="new">new</h2>

<pre><code><code> <span class="variable">Title</span>   <span class="operator">:</span> <span class="variable">new</span>
 <span class="variable">Usage</span>   <span class="operator">:</span> <span class="keyword">my</span> <span class="variable">$writer</span> <span class="operator">=</span> <span class="variable">Bio::SeqIO::game::gameWriter</span><span class="operator">-&gt;</span><span class="variable">new</span><span class="operator">(</span><span class="variable">$seq</span><span class="operator">);</span>
 <span class="variable">Function</span><span class="operator">:</span> <span class="variable">constructor</span> <span class="variable">method</span> <span class="keyword">for</span> <span class="variable">gameWriter</span> 
 <span class="variable">Returns</span> <span class="operator">:</span> <span class="variable">a</span> <span class="variable">game</span> <span class="variable">writer</span> <span class="variable">object</span> 
 <span class="variable">Args</span>    <span class="operator">:</span> <span class="variable">a</span> <span class="variable">Bio::SeqI</span> <span class="variable">implementing</span> <span class="variable">object</span>
           <span class="variable">optionally</span><span class="operator">,</span> <span class="variable">an</span> <span class="variable">argument</span> <span class="variable">to</span> <span class="variable">set</span> <span class="variable">map_position</span> <span class="variable">to</span> <span class="variable">on</span><span class="operator">.</span>
           <span class="operator">(</span> <span class="string">map</span> <span class="operator">=&gt;</span> <span class="number">1</span> <span class="operator">).</span>  <span class="variable">This</span> <span class="variable">will</span> <span class="variable">create</span> <span class="variable">a</span> <span class="variable">map_position</span> <span class="variable">elemant</span>
           <span class="variable">that</span> <span class="variable">will</span> <span class="variable">cause</span> <span class="variable">the</span> <span class="variable">feature</span> <span class="variable">coordinates</span> <span class="variable">to</span> <span class="variable">be</span> <span class="variable">remapped</span> <span class="variable">to</span>
           <span class="variable">a</span> <span class="variable">parent</span> <span class="variable">seqeunce</span><span class="operator">.</span>  <span class="variable">A</span> <span class="variable">sequence</span> <span class="variable">name</span> <span class="variable">in</span> <span class="variable">the</span> <span class="keyword">format</span> <span class="variable">seq</span><span class="operator">:</span><span class="variable">xxx</span><span class="operator">-</span><span class="variable">xxx</span>
           <span class="variable">is</span> <span class="variable">expected</span> <span class="variable">to</span> <span class="variable">determine</span> <span class="variable">the</span> <span class="variable">offset</span> <span class="keyword">for</span> <span class="variable">the</span> <span class="variable">map_position</span><span class="operator">.</span>
           <span class="variable">The</span> <span class="keyword">default</span> <span class="variable">behavior</span> <span class="variable">is</span> <span class="variable">to</span> <span class="variable">have</span> <span class="variable">features</span> <span class="variable">mapped</span> <span class="variable">relative</span> <span class="variable">to</span> 
           <span class="variable">the</span> <span class="variable">sequence</span> <span class="variable">contained</span> <span class="variable">in</span> <span class="variable">the</span> <span class="variable">GAME</span><span class="operator">-</span><span class="variable">XML</span> <span class="variable">file</span>
</code></code></pre>

<h2 id="write_to_game">write_to_game</h2>

<pre><code><code> Title   : write_to_game
 Usage   : $writer-&gt;write_to_game
 Function: writes the sequence object to game-XML 
 Returns : xml as a multiline string
 Args    : none</code></code></pre>

<h2 id="rearrange_hierarchies">_rearrange_hierarchies</h2>

<pre><code><code> Title   : _rearrange_hierarchies
 Usage   : $self-&gt;_rearrange_hierarchies($seq)
 Function: internal method to rearrange gene containment hierarchies
           so that snRNA or transposon features contain their genes
           rather than the other way around
 Returns : nothing
 Args    : a Bio::RichSeq object
 Note    : Not currently used, may be removed</code></code></pre>

<h2 id="write_feature">_write_feature</h2>

<pre><code><code> Title   : _write_feature
 Usage   : $seld-&gt;_write_feature($feat, 1)
 Function: internal method for writing generic features as &lt;annotation&gt; elements
 Returns : nothing
 Args    : a Bio::SeqFeature::Generic object and an optional flag to write a
           bare feature set with no annotation wrapper</code></code></pre>

<h2 id="write_gene">_write_gene</h2>

<pre><code><code> Title   : _write_gene
 Usage   : $self-&gt;_write_gene($feature)
 Function: internal method for rendering gene containment hierarchies into 
           a nested &lt;annotation&gt; element 
 Returns : nothing
 Args    : a nested Bio::SeqFeature::Generic gene feature
 Note    : A nested gene hierarchy (gene-&gt;mRNA-&gt;CDS-&gt;exon) is expected.  If other gene 
           subfeatures occur as level one subfeatures (same level as mRNA subfeats) 
           an attempt will be made to link them to transcripts via the &#39;standard_name&#39;
           qualifier</code></code></pre>

<h2 id="check_cds">_check_cds</h2>

<pre><code><code> Title   : _check_cds
 Usage   : $self-&gt;_check_cds($cds, $name)
 Function: internal method to check if the CDS associated with an mRNA is
           the correct alternative splice variant
 Returns : a Bio::SeqFeature::Generic CDS object
 Args    : the CDS object plus the transcript\&#39;s &#39;standard_name&#39;
 Note    : this method only works if alternatively spliced transcripts are bound
           together by a &#39;standard_name&#39; or &#39;mRNA&#39; qualifier.  If none is present, 
           we will hope that the exons were derived from a segmented RNA or a CDS 
           with no associated mRNA feature.  Neither of these two cases would be 
           confounded by alternative splice variants.</code></code></pre>

<h2 id="comp_analysis">_comp_analysis</h2>

<pre><code><code>  Usage:
  Desc :
  Ret  :
  Args :
  Side Effects:
  Example:</code></code></pre>

<h2 id="comp_result">_comp_result</h2>

<pre><code><code>  Usage:
  Desc : recursively render a feature and its subfeatures as
         &lt;result_set&gt; and &lt;result_span&gt; elements
  Ret  : nothing meaningful
  Args : a feature</code></code></pre>

<h2 id="comp_result_span">_comp_result_span</h2>

<pre><code><code>  <span class="variable">Usage</span><span class="operator">:</span> <span class="variable">_comp_result_span</span><span class="operator">(</span><span class="string">'foo12'</span><span class="operator">,</span><span class="variable">$feature</span><span class="operator">);</span>
  <span class="variable">Desc</span> <span class="operator">:</span> <span class="keyword">write</span> <span class="variable">GAME</span> <span class="variable">XML</span> <span class="keyword">for</span> <span class="variable">a</span> <span class="variable">Bio::SeqFeature::Computation</span> <span class="variable">feature</span>
         <span class="variable">that</span> <span class="variable">has</span> <span class="keyword">no</span> <span class="variable">subfeatures</span>
  <span class="variable">Ret</span>  <span class="operator">:</span> <span class="variable">nothing</span> <span class="variable">meaningful</span>
  <span class="variable">Args</span> <span class="operator">:</span> <span class="variable">name</span> <span class="keyword">for</span> <span class="variable">this</span> <span class="variable">span</span> <span class="operator">(</span><span class="variable">some</span> <span class="variable">kind</span> <span class="variable">of</span> <span class="variable">identifier</span><span class="operator">),</span>
         <span class="variable">SeqFeature</span> <span class="variable">object</span> <span class="variable">to</span> <span class="variable">put</span> <span class="variable">into</span> <span class="variable">this</span> <span class="variable">span</span>
  <span class="variable">Side</span> <span class="variable">Effects</span><span class="operator">:</span>
  <span class="variable">Example</span><span class="operator">:</span>
</code></code></pre>

<h2 id="render_tags">_render_tags</h2>

<pre><code><code>  Usage:
  Desc :
  Ret  :
  Args :
  Side Effects:
  Example:</code></code></pre>

<h2 id="render_output_tags">_render_output_tags</h2>

<pre><code><code>  Usage:
  Desc : print out &lt;output&gt; elements, with contents
         taken from the SeqFeature::Computation&#39;s &#39;output&#39; tag
  Ret  : array of tag names this did not render
  Args : feature object, list of tag names to maybe render

  In game xml, only &lt;result_span&gt; and &lt;result_set&gt; elements can
  have &lt;output&gt; elements.</code></code></pre>

<h2 id="render_tags_as_properties">_render_tags_as_properties</h2>

<pre><code><code>  Usage:
  Desc :
  Ret  : empty array
  Args : feature object, array of tag names
  Side Effects:
  Example:

  In game xml, &lt;annotation&gt;, &lt;computational_analysis&gt;,
  and &lt;feature_set&gt; elements can have properties.</code></code></pre>

<h2 id="render_comment_tags">_render_comment_tags</h2>

<pre><code><code>  Usage:
  Desc :
  Ret  : names of tags that were not comment tags
  Args : feature object, tag names available for us to render
  Side Effects: writes XML
  Example:

  In game xml, &lt;annotation&gt; and &lt;feature_set&gt; elements can
  have comments.</code></code></pre>

<h2 id="render_date_tags">_render_date_tags</h2>

<pre><code><code>  Usage:
  Desc :
  Ret  : names of tags that were not date tags
  Args : feature, list of tag names available for us to render
  Side Effects: writes XML for &lt;date&gt; elements
  Example:

  In game xml, &lt;annotation&gt;, &lt;computational_analysis&gt;,
  &lt;transaction&gt;, &lt;comment&gt;, and &lt;feature_set&gt; elements
  can have &lt;date&gt;s.</code></code></pre>

<h2 id="render_dbxref_tags">_render_dbxref_tags</h2>

<pre><code><code>  Desc : look for xref tags and render them if they are there
  Ret  : tag names that we didn&#39;t render
  Args : feature object, list of tag names to render
  Side Effects: writes a &lt;dbxref&gt; element if a tag with name
                matching /xref$/i is present


  In game xml, &lt;annotation&gt; and &lt;seq&gt; elements can have dbxrefs.</code></code></pre>

<h2 id="render_target_tags">_render_target_tags</h2>

<pre><code><code>  Usage:
  Desc : process any &#39;Target&#39; tags that would indicate a sequence alignment subject
  Ret  : array of tag names that we didn&#39;t render
  Args : feature object
  Side Effects: writes a &lt;seq_relationship&gt; of type &#39;subject&#39; if it finds
                any properly formed tags named &#39;Target&#39;
  Example:

  In game xml, &lt;result_span&gt;, &lt;feature_span&gt;, and &lt;result_set&gt; can have
  &lt;seq_relationship&gt;s.  &lt;result_set&gt; can only have one, a &#39;query&#39; relation.</code></code></pre>

<h2 id="property">_property</h2>

<pre><code><code> <span class="variable">Title</span>   <span class="operator">:</span> <span class="variable">_property</span>
 <span class="variable">Usage</span>   <span class="operator">:</span> <span class="variable">$self</span><span class="operator">-&gt;</span><span class="variable">_property</span><span class="operator">(</span><span class="variable">$tag</span> <span class="operator">=&gt;</span> <span class="variable">$value</span><span class="operator">);</span> 
 <span class="variable">Function</span><span class="operator">:</span> <span class="variable">an</span> <span class="variable">internal</span> <span class="variable">method</span> <span class="variable">to</span> <span class="keyword">write</span> <span class="variable">property</span> <span class="variable">XML</span> <span class="variable">elements</span>
 <span class="variable">Returns</span> <span class="operator">:</span> <span class="variable">nothing</span>
 <span class="variable">Args</span>    <span class="operator">:</span> <span class="variable">a</span> <span class="variable">tag</span><span class="operator">/</span><span class="variable">value</span> <span class="variable">pair</span>
</code></code></pre>

<h2 id="unflatten_attribute">_unflatten_attribute</h2>

<pre><code><code> Title   : _unflatten_attribute
 Usage   : $self-&gt;_unflatten_attribute($name, $value)
 Function: an internal method to unflatten and write comment or evidence elements
 Returns : nothing
 Args    : a list of strings</code></code></pre>

<h2 id="xref">_xref</h2>

<pre><code><code> Title   : _xref
 Usage   : $self-&gt;_xref($value) 
 Function: an internal method to write db_xref elements
 Returns : nothing 
 Args    : a list of strings</code></code></pre>

<h2 id="feature_span">_feature_span</h2>

<pre><code><code> Title   : _feature_span
 Usage   : $self-&gt;_feature_span($name, $type, $loc)
 Function: an internal method to write a feature_span element
          (the actual feature with coordinates)
 Returns : nothing 
 Args    : a feature name and Bio::SeqFeatureI-compliant object</code></code></pre>

<h2 id="seq_relationship">_seq_relationship</h2>

<pre><code><code> Title   : _seq_relationship
 Usage   : $self-&gt;_seq_relationship($type, $loc)
 Function: an internal method to handle feature_span sequence relationships
 Returns : nothing
 Args    : feature type, a Bio::LocationI-compliant object,
           (optional) sequence name (defaults to the query seq)
           and (optional) alignment string</code></code></pre>

<h2 id="element">_element</h2>

<pre><code><code> <span class="variable">Title</span>   <span class="operator">:</span> <span class="variable">_element</span>
 <span class="variable">Usage</span>   <span class="operator">:</span> <span class="variable">$self</span><span class="operator">-&gt;</span><span class="variable">_element</span><span class="operator">(</span><span class="variable">$name</span><span class="operator">,</span> <span class="variable">$chars</span><span class="operator">,</span> <span class="variable">$atts</span><span class="operator">)</span>
 <span class="variable">Function</span><span class="operator">:</span> <span class="variable">an</span> <span class="variable">internal</span> <span class="variable">method</span> <span class="variable">to</span> <span class="variable">generate</span> <span class="string">'generic'</span> <span class="variable">XML</span> <span class="variable">elements</span>
 <span class="variable">Example</span> <span class="operator">:</span> 
 <span class="keyword">my</span> <span class="variable">$name</span> <span class="operator">=</span> <span class="string">'foo'</span><span class="operator">;</span>
 <span class="keyword">my</span> <span class="variable">$content</span> <span class="operator">=</span> <span class="string">'bar'</span><span class="operator">;</span>
 <span class="keyword">my</span> <span class="variable">$attributes</span> <span class="operator">=</span> <span class="operator">{</span> <span class="string">baz</span> <span class="operator">=&gt;</span> <span class="number">1</span> <span class="operator">}</span><span class="operator">;</span> 
 <span class="comment"># print the element</span>
 <span class="variable">$self</span><span class="operator">-&gt;</span><span class="variable">_element</span><span class="operator">(</span><span class="variable">$name</span><span class="operator">,</span> <span class="variable">$content</span><span class="operator">,</span> <span class="variable">$attributes</span><span class="operator">);</span>
 <span class="variable">Returns</span> <span class="operator">:</span> <span class="variable">nothing</span> 
 <span class="variable">Args</span>    <span class="operator">:</span> <span class="variable">the</span> <span class="variable">element</span> <span class="variable">name</span> <span class="keyword">and</span> <span class="variable">content</span> <span class="variable">plus</span> <span class="variable">a</span> <span class="keyword">ref</span> <span class="variable">to</span> <span class="variable">an</span> <span class="variable">attribute</span> <span class="variable">hash</span>
</code></code></pre>

<h2 id="span">_span</h2>

<pre><code><code> Title   : _span
 Usage   : $self-&gt;_span($loc)
 Function: an internal method to write the &#39;span&#39; element
 Returns : nothing
 Args    : a Bio::LocationI-compliant object</code></code></pre>

<h2 id="seq">_seq</h2>

<pre><code><code> Title   : _seq
 Usage   : $self-&gt;_seq($seq, $dna) 
 Function: an internal method to print the &#39;sequence&#39; element
 Returns : nothing
 Args    : and Bio::SeqI-compliant object and a reference to an attribute  hash</code></code></pre>

<h2 id="find_name">_find_name</h2>

<pre><code><code> Title   : _find_name
 Usage   : my $name = $self-&gt;_find_name($feature)
 Function: an internal method to look for a gene name
 Returns : a string 
 Args    : a Bio::SeqFeatureI-compliant object</code></code></pre>


</body>

</html>


