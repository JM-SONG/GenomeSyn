<?xml version="1.0" ?>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<!-- saved from url=(0017)http://localhost/ -->
<script language="JavaScript" src="../displayToc.js"></script>
<script language="JavaScript" src="../tocParas.js"></script>
<script language="JavaScript" src="../tocTab.js"></script>
<link rel="stylesheet" type="text/css" href="../scineplex.css">
<title></title>
<link rel="stylesheet" href="../Active.css" type="text/css" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:support@ActiveState.com" />
</head>

<body>



<ul id="index">
  <li><a href="#NAME">NAME</a></li>
  <li><a href="#SYNOPSYS">SYNOPSYS</a></li>
  <li><a href="#OPTIONS">OPTIONS</a>
    <ul>
      <li><a href="#Condition-Syntax">Condition Syntax</a></li>
    </ul>
  </li>
  <li><a href="#DESCRIPTION">DESCRIPTION</a></li>
  <li><a href="#SEE-ALSO">SEE ALSO</a></li>
  <li><a href="#LICENSE">LICENSE</a></li>
  <li><a href="#AUTHOR">AUTHOR</a></li>
</ul>

<h1 id="NAME">NAME</h1>

<p>xml_grep - grep XML files looking for specific elements</p>

<h1 id="SYNOPSYS">SYNOPSYS</h1>

<pre><code><code>  xml_grep [options] &lt;file list&gt; </code></code></pre>

<p>or</p>

<pre><code><code>  xml_grep &lt;xpath expression&gt; &lt;file list&gt;</code></code></pre>

<p>By default you can just give <code><code>xml_grep</code></code> an XPath expression and a list of files, and get an XML file with the result.</p>

<p>This is equivalent to writing</p>

<pre><code><code>  xml_grep --group_by_file file --pretty_print indented --cond &lt;file list&gt;</code></code></pre>

<h1 id="OPTIONS">OPTIONS</h1>

<dl>

<dt id="help"><b>--help</b></dt>
<dd>

<p>brief help message</p>

</dd>
<dt id="man"><b>--man</b></dt>
<dd>

<p>full documentation</p>

</dd>
<dt id="Version"><b>--Version</b></dt>
<dd>

<p>display the tool version</p>

</dd>
<dt id="root-cond"><b>--root</b> &lt;cond&gt;</dt>
<dd>

<p>look for and return xml chunks matching &lt;cond&gt;</p>

<p>if neither <code><code>--root</code></code> nor <code><code>--file</code></code> are used then the element(s) that trigger the <code><code>--cond</code></code> option is (are) used. If <code><code>--cond</code></code> is not used then all elements matching the &lt;cond&gt; are returned</p>

<p>several <code><code>--root</code></code> can be provided</p>

</dd>
<dt id="cond-cond"><b>--cond</b> &lt;cond&gt;</dt>
<dd>

<p>return the chunks (or file names) only if they contain elements matching &lt;cond&gt;</p>

<p>several <code><code>--cond</code></code> can be provided (in which case they are OR&#39;ed)</p>

</dd>
<dt id="files"><b>--files</b></dt>
<dd>

<p>return only file names (do not generate an XML output)</p>

<p>usage of this option precludes using any of the options that define the XML output: <code><code>--roots</code></code>, <code><code>--encoding</code></code>, <code><code>--wrap</code></code>, <code><code>--group_by_file</code></code> or <code><code>--pretty_print</code></code></p>

</dd>
<dt id="count"><b>--count</b></dt>
<dd>

<p>return only the number of matches in each file</p>

<p>usage of this option precludes using any of the options that define the XML output: <code><code>--roots</code></code>, <code><code>--encoding</code></code>, <code><code>--wrap</code></code>, <code><code>--group_by_file</code></code> or <code><code>--pretty_print</code></code></p>

</dd>
<dt id="strict"><b>--strict</b></dt>
<dd>

<p>without this option parsing errors are reported to STDOUT and the file skipped</p>

</dd>
<dt id="date"><b>--date</b></dt>
<dd>

<p>when on (by default) the wrapping element get a <code><code>date</code></code> attribute that gives the date the tool was run.</p>

<p>with <code><code>--nodate</code></code> this attribute is not added, which can be useful if you need to compare 2 runs.</p>

</dd>
<dt id="encoding-enc"><b>--encoding</b> &lt;enc&gt;</dt>
<dd>

<p>encoding of the xml output (utf-8 by default)</p>

</dd>
<dt id="nb_results-nb"><b>--nb_results</b> &lt;nb&gt;</dt>
<dd>

<p>output only &lt;nb&gt; results</p>

</dd>
<dt id="by_file"><b>--by_file</b></dt>
<dd>

<p>output only &lt;nb&gt; results by file</p>

</dd>
<dt id="wrap-tag"><b>--wrap</b> &lt;tag&gt;</dt>
<dd>

<p>wrap the xml result in the provided tag (defaults to &#39;xml_grep&#39;)</p>

<p>If wrap is set to an empty string (<code><code>--wrap &#39;&#39;</code></code>) then the xml result is not wrapped at all.</p>

</dd>
<dt id="nowrap"><b>--nowrap</b></dt>
<dd>

<p>same as using <code><code>--wrap &#39;&#39;</code></code>: the xml result is not wrapped.</p>

</dd>
<dt id="descr-string"><b>--descr</b> &lt;string&gt;</dt>
<dd>

<p>attributes of the wrap tag (defaults to <code><code>version=&quot;&lt;VERSION&gt;&quot; date=&quot;&lt;date&gt;&quot;</code></code>)</p>

</dd>
<dt id="group_by_file-optional_tag"><b>--group_by_file</b> &lt;optional_tag&gt;</dt>
<dd>

<p>wrap results for each files into a separate element. By default that element is named <code><code>file</code></code>. It has an attribute named <code><code>filename</code></code> that gives the name of the file.</p>

<p>the short version of this option is <b>-g</b></p>

</dd>
<dt id="exclude-condition"><b>--exclude</b> &lt;condition&gt;</dt>
<dd>

<p>same as using <code><code>-v</code></code> in grep: the elements that match the condition are excluded from the result, the input file(s) is (are) otherwise unchanged</p>

<p>the short form of this option is <b>-v</b></p>

</dd>
<dt id="pretty_print-optional_style"><b>--pretty_print</b> &lt;optional_style&gt;</dt>
<dd>

<p>pretty print the output using XML::Twig styles (&#39;<code><code>indented</code></code>&#39;, &#39;<code><code>record</code></code>&#39; or &#39;<code><code>record_c</code></code>&#39; are probably what you are looking for)</p>

<p>if the option is used but no style is given then &#39;<code><code>indented</code></code>&#39; is used</p>

<p>short form for this argument is <b>-s</b></p>

</dd>
<dt id="text_only"><b>--text_only</b></dt>
<dd>

<p>Displays the text of the results, one by line.</p>

</dd>
<dt id="html"><b>--html</b></dt>
<dd>

<p>Allow HTML input, files are converted using HTML::TreeBuilder</p>

</dd>
<dt id="Tidy"><b>--Tidy</b></dt>
<dd>

<p>Allow HTML input, files are converted using HTML::Tidy</p>

</dd>
</dl>

<h2 id="Condition-Syntax">Condition Syntax</h2>

<p>&lt;cond&gt; is an XPath-like expression as allowed by XML::Twig to trigger handlers.</p>

<p>exemples: &#39;para&#39; &#39;para[@compact=&quot;compact&quot;]&#39; &#39;*[@urgent]&#39; &#39;*[@urgent=&quot;1&quot;]&#39; &#39;para[string()=&quot;WARNING&quot;]&#39;</p>

<p>see XML::Twig for a more complete description of the &lt;cond&gt; syntax</p>

<p>options are processedby Getopt::Long so they can start with &#39;-&#39; or &#39;--&#39; and can be abbreviated (<code><code>-r</code></code> instead of <code><code>--root</code></code> for example)</p>

<h1 id="DESCRIPTION">DESCRIPTION</h1>

<p><b>xml_grep</b> does a grep on XML files. Instead of using regular expressions it uses XPath expressions (in fact the subset of XPath supported by XML::Twig)</p>

<p>the results can be the names of the files or XML elements containing matching elements.</p>

<h1 id="SEE-ALSO">SEE ALSO</h1>

<p>XML::Twig Getopt::Long</p>

<h1 id="LICENSE">LICENSE</h1>

<p>This library is free software; you can redistribute it and/or modify it under the same terms as Perl itself.</p>

<h1 id="AUTHOR">AUTHOR</h1>

<p>Michel Rodriguez &lt;mirod@xmltwig.com&gt;</p>


</body>

</html>


